<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Canvas | 以学愈愚</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/2.10.0/github-markdown.min.css">
    <meta name="description" content="Just playing around">
    
    <link rel="preload" href="/quweiqian/assets/css/0.styles.e8fe9d41.css" as="style"><link rel="preload" href="/quweiqian/assets/js/app.d9b1c135.js" as="script"><link rel="preload" href="/quweiqian/assets/js/4.af0a715f.js" as="script"><link rel="preload" href="/quweiqian/assets/js/530.09d4aa48.js" as="script"><link rel="prefetch" href="/quweiqian/assets/js/10.aad282e2.js"><link rel="prefetch" href="/quweiqian/assets/js/100.03ab11b6.js"><link rel="prefetch" href="/quweiqian/assets/js/101.87d06b4e.js"><link rel="prefetch" href="/quweiqian/assets/js/102.afdae234.js"><link rel="prefetch" href="/quweiqian/assets/js/103.4b1ac115.js"><link rel="prefetch" href="/quweiqian/assets/js/104.bfc7fe84.js"><link rel="prefetch" href="/quweiqian/assets/js/105.1bb460f1.js"><link rel="prefetch" href="/quweiqian/assets/js/106.36b4ec77.js"><link rel="prefetch" href="/quweiqian/assets/js/107.21425eb5.js"><link rel="prefetch" href="/quweiqian/assets/js/108.9bf8dfe0.js"><link rel="prefetch" href="/quweiqian/assets/js/109.b0cc4a29.js"><link rel="prefetch" href="/quweiqian/assets/js/11.f4161a13.js"><link rel="prefetch" href="/quweiqian/assets/js/110.760e54ba.js"><link rel="prefetch" href="/quweiqian/assets/js/111.7430c4d6.js"><link rel="prefetch" href="/quweiqian/assets/js/112.8e2fb502.js"><link rel="prefetch" href="/quweiqian/assets/js/113.b0586013.js"><link rel="prefetch" href="/quweiqian/assets/js/114.485412ea.js"><link rel="prefetch" href="/quweiqian/assets/js/115.931c401b.js"><link rel="prefetch" href="/quweiqian/assets/js/116.434b9421.js"><link rel="prefetch" href="/quweiqian/assets/js/117.c7a94d71.js"><link rel="prefetch" href="/quweiqian/assets/js/118.d15f63d1.js"><link rel="prefetch" href="/quweiqian/assets/js/119.e523970c.js"><link rel="prefetch" href="/quweiqian/assets/js/12.56888aa4.js"><link rel="prefetch" href="/quweiqian/assets/js/120.4ee14159.js"><link rel="prefetch" href="/quweiqian/assets/js/121.0291fa79.js"><link rel="prefetch" href="/quweiqian/assets/js/122.13008c19.js"><link rel="prefetch" href="/quweiqian/assets/js/123.29745a6a.js"><link rel="prefetch" href="/quweiqian/assets/js/124.d0356ed1.js"><link rel="prefetch" href="/quweiqian/assets/js/125.af9c274c.js"><link rel="prefetch" href="/quweiqian/assets/js/126.35dbb44a.js"><link rel="prefetch" href="/quweiqian/assets/js/127.39fd9418.js"><link rel="prefetch" href="/quweiqian/assets/js/128.a10db9de.js"><link rel="prefetch" href="/quweiqian/assets/js/129.2bc4869f.js"><link rel="prefetch" href="/quweiqian/assets/js/13.92890eb4.js"><link rel="prefetch" href="/quweiqian/assets/js/130.ca8cd39b.js"><link rel="prefetch" href="/quweiqian/assets/js/131.05c6b270.js"><link rel="prefetch" href="/quweiqian/assets/js/132.0f48dc0a.js"><link rel="prefetch" href="/quweiqian/assets/js/133.cfd900c6.js"><link rel="prefetch" href="/quweiqian/assets/js/134.53784ffa.js"><link rel="prefetch" href="/quweiqian/assets/js/135.a4402e04.js"><link rel="prefetch" href="/quweiqian/assets/js/136.6e75945a.js"><link rel="prefetch" href="/quweiqian/assets/js/137.a109ae97.js"><link rel="prefetch" href="/quweiqian/assets/js/138.34a4b91c.js"><link rel="prefetch" href="/quweiqian/assets/js/139.703512f4.js"><link rel="prefetch" href="/quweiqian/assets/js/14.b4de3754.js"><link rel="prefetch" href="/quweiqian/assets/js/140.6b51a71c.js"><link rel="prefetch" href="/quweiqian/assets/js/141.f9a10134.js"><link rel="prefetch" href="/quweiqian/assets/js/142.83bfdd98.js"><link rel="prefetch" href="/quweiqian/assets/js/143.db0ffb47.js"><link rel="prefetch" href="/quweiqian/assets/js/144.74fbcce0.js"><link rel="prefetch" href="/quweiqian/assets/js/145.e5607d74.js"><link rel="prefetch" href="/quweiqian/assets/js/146.0b7b36df.js"><link rel="prefetch" href="/quweiqian/assets/js/147.4165c2a3.js"><link rel="prefetch" href="/quweiqian/assets/js/148.5e1943e8.js"><link rel="prefetch" href="/quweiqian/assets/js/149.5fd13171.js"><link rel="prefetch" href="/quweiqian/assets/js/15.4aab028c.js"><link rel="prefetch" href="/quweiqian/assets/js/150.c3c39fc0.js"><link rel="prefetch" href="/quweiqian/assets/js/151.94f4b52b.js"><link rel="prefetch" href="/quweiqian/assets/js/152.78d49c21.js"><link rel="prefetch" href="/quweiqian/assets/js/153.01ad5069.js"><link rel="prefetch" href="/quweiqian/assets/js/154.a3e68d9d.js"><link rel="prefetch" href="/quweiqian/assets/js/155.22924788.js"><link rel="prefetch" href="/quweiqian/assets/js/156.e8c31157.js"><link rel="prefetch" href="/quweiqian/assets/js/157.da225012.js"><link rel="prefetch" href="/quweiqian/assets/js/158.77b0bdaa.js"><link rel="prefetch" href="/quweiqian/assets/js/159.a2073fc8.js"><link rel="prefetch" href="/quweiqian/assets/js/16.45f5574e.js"><link rel="prefetch" href="/quweiqian/assets/js/160.554856d2.js"><link rel="prefetch" href="/quweiqian/assets/js/161.7a27221b.js"><link rel="prefetch" href="/quweiqian/assets/js/162.ac307ab8.js"><link rel="prefetch" href="/quweiqian/assets/js/163.4d6e8289.js"><link rel="prefetch" href="/quweiqian/assets/js/164.9b9c52f4.js"><link rel="prefetch" href="/quweiqian/assets/js/165.6e1e29ac.js"><link rel="prefetch" href="/quweiqian/assets/js/166.1e22ffd6.js"><link rel="prefetch" href="/quweiqian/assets/js/167.d056fd24.js"><link rel="prefetch" href="/quweiqian/assets/js/168.b978e6bd.js"><link rel="prefetch" href="/quweiqian/assets/js/169.db3a6db3.js"><link rel="prefetch" href="/quweiqian/assets/js/17.c1be60e3.js"><link rel="prefetch" href="/quweiqian/assets/js/170.70692718.js"><link rel="prefetch" href="/quweiqian/assets/js/171.7fbc11c0.js"><link rel="prefetch" href="/quweiqian/assets/js/172.e3591800.js"><link rel="prefetch" href="/quweiqian/assets/js/173.427c2c0c.js"><link rel="prefetch" href="/quweiqian/assets/js/174.413b3674.js"><link rel="prefetch" href="/quweiqian/assets/js/175.b869da99.js"><link rel="prefetch" href="/quweiqian/assets/js/176.e05a6267.js"><link rel="prefetch" href="/quweiqian/assets/js/177.0f5c13ab.js"><link rel="prefetch" href="/quweiqian/assets/js/178.a7b59e23.js"><link rel="prefetch" href="/quweiqian/assets/js/179.b347ae4f.js"><link rel="prefetch" href="/quweiqian/assets/js/18.6bb20029.js"><link rel="prefetch" href="/quweiqian/assets/js/180.756e811b.js"><link rel="prefetch" href="/quweiqian/assets/js/181.db196afa.js"><link rel="prefetch" href="/quweiqian/assets/js/182.b86e2414.js"><link rel="prefetch" href="/quweiqian/assets/js/183.dde54826.js"><link rel="prefetch" href="/quweiqian/assets/js/184.ba3bae91.js"><link rel="prefetch" href="/quweiqian/assets/js/185.e52ee357.js"><link rel="prefetch" href="/quweiqian/assets/js/186.dceb6413.js"><link rel="prefetch" href="/quweiqian/assets/js/187.828171fe.js"><link rel="prefetch" href="/quweiqian/assets/js/188.20f2aad3.js"><link rel="prefetch" href="/quweiqian/assets/js/189.2e247e03.js"><link rel="prefetch" href="/quweiqian/assets/js/19.3d298cbc.js"><link rel="prefetch" href="/quweiqian/assets/js/190.e52900f3.js"><link rel="prefetch" href="/quweiqian/assets/js/191.2a535769.js"><link rel="prefetch" href="/quweiqian/assets/js/192.7d5f0ef6.js"><link rel="prefetch" href="/quweiqian/assets/js/193.f8952e84.js"><link rel="prefetch" href="/quweiqian/assets/js/194.c8f72708.js"><link rel="prefetch" href="/quweiqian/assets/js/195.3d7c07a2.js"><link rel="prefetch" href="/quweiqian/assets/js/196.464fd8e5.js"><link rel="prefetch" href="/quweiqian/assets/js/197.4fbd57a9.js"><link rel="prefetch" href="/quweiqian/assets/js/198.24464abb.js"><link rel="prefetch" href="/quweiqian/assets/js/199.5dc82dd6.js"><link rel="prefetch" href="/quweiqian/assets/js/2.298a66d4.js"><link rel="prefetch" href="/quweiqian/assets/js/20.c17b9d12.js"><link rel="prefetch" href="/quweiqian/assets/js/200.f5b5f591.js"><link rel="prefetch" href="/quweiqian/assets/js/201.92d34968.js"><link rel="prefetch" href="/quweiqian/assets/js/202.7ecd99e5.js"><link rel="prefetch" href="/quweiqian/assets/js/203.4526d859.js"><link rel="prefetch" href="/quweiqian/assets/js/204.261553f2.js"><link rel="prefetch" href="/quweiqian/assets/js/205.be663d09.js"><link rel="prefetch" href="/quweiqian/assets/js/206.1d4830c2.js"><link rel="prefetch" href="/quweiqian/assets/js/207.f4fb91f4.js"><link rel="prefetch" href="/quweiqian/assets/js/208.41fbc955.js"><link rel="prefetch" href="/quweiqian/assets/js/209.25980427.js"><link rel="prefetch" href="/quweiqian/assets/js/21.1e0736fc.js"><link rel="prefetch" href="/quweiqian/assets/js/210.3afa816d.js"><link rel="prefetch" href="/quweiqian/assets/js/211.800dd2ef.js"><link rel="prefetch" href="/quweiqian/assets/js/212.acb247e6.js"><link rel="prefetch" href="/quweiqian/assets/js/213.79ae570e.js"><link rel="prefetch" href="/quweiqian/assets/js/214.495a9247.js"><link rel="prefetch" href="/quweiqian/assets/js/215.d0e046c1.js"><link rel="prefetch" href="/quweiqian/assets/js/216.1f733f75.js"><link rel="prefetch" href="/quweiqian/assets/js/217.953b4e42.js"><link rel="prefetch" href="/quweiqian/assets/js/218.8fd80b19.js"><link rel="prefetch" href="/quweiqian/assets/js/219.09a9ca08.js"><link rel="prefetch" href="/quweiqian/assets/js/22.92e3f355.js"><link rel="prefetch" href="/quweiqian/assets/js/220.044f1fd7.js"><link rel="prefetch" href="/quweiqian/assets/js/221.30e2eb39.js"><link rel="prefetch" href="/quweiqian/assets/js/222.04933c9f.js"><link rel="prefetch" href="/quweiqian/assets/js/223.4e04453e.js"><link rel="prefetch" href="/quweiqian/assets/js/224.8460466b.js"><link rel="prefetch" href="/quweiqian/assets/js/225.2cbfb0a0.js"><link rel="prefetch" href="/quweiqian/assets/js/226.22603a1a.js"><link rel="prefetch" href="/quweiqian/assets/js/227.7612da61.js"><link rel="prefetch" href="/quweiqian/assets/js/228.613cbf82.js"><link rel="prefetch" href="/quweiqian/assets/js/229.10746da1.js"><link rel="prefetch" href="/quweiqian/assets/js/23.650926b6.js"><link rel="prefetch" href="/quweiqian/assets/js/230.f4779578.js"><link rel="prefetch" href="/quweiqian/assets/js/231.cd7b6fb8.js"><link rel="prefetch" href="/quweiqian/assets/js/232.3080ea96.js"><link rel="prefetch" href="/quweiqian/assets/js/233.0fdc31c1.js"><link rel="prefetch" href="/quweiqian/assets/js/234.e1b52d54.js"><link rel="prefetch" href="/quweiqian/assets/js/235.9a2da052.js"><link rel="prefetch" href="/quweiqian/assets/js/236.194147c5.js"><link rel="prefetch" href="/quweiqian/assets/js/237.7d771c11.js"><link rel="prefetch" href="/quweiqian/assets/js/238.f8e25d8d.js"><link rel="prefetch" href="/quweiqian/assets/js/239.2aebae91.js"><link rel="prefetch" href="/quweiqian/assets/js/24.d321e109.js"><link rel="prefetch" href="/quweiqian/assets/js/240.6b08682e.js"><link rel="prefetch" href="/quweiqian/assets/js/241.2ba3c24b.js"><link rel="prefetch" href="/quweiqian/assets/js/242.a39f0108.js"><link rel="prefetch" href="/quweiqian/assets/js/243.ff965eae.js"><link rel="prefetch" href="/quweiqian/assets/js/244.5062f3bc.js"><link rel="prefetch" href="/quweiqian/assets/js/245.bdbbfa94.js"><link rel="prefetch" href="/quweiqian/assets/js/246.1cd81e91.js"><link rel="prefetch" href="/quweiqian/assets/js/247.13a9716b.js"><link rel="prefetch" href="/quweiqian/assets/js/248.db42a805.js"><link rel="prefetch" href="/quweiqian/assets/js/249.672801e2.js"><link rel="prefetch" href="/quweiqian/assets/js/25.4af130a3.js"><link rel="prefetch" href="/quweiqian/assets/js/250.711c8668.js"><link rel="prefetch" href="/quweiqian/assets/js/251.07173c24.js"><link rel="prefetch" href="/quweiqian/assets/js/252.5ad8acb3.js"><link rel="prefetch" href="/quweiqian/assets/js/253.51fbdf5d.js"><link rel="prefetch" href="/quweiqian/assets/js/254.4afe8a36.js"><link rel="prefetch" href="/quweiqian/assets/js/255.384c6e75.js"><link rel="prefetch" href="/quweiqian/assets/js/256.b4501f21.js"><link rel="prefetch" href="/quweiqian/assets/js/257.db1d3812.js"><link rel="prefetch" href="/quweiqian/assets/js/258.82142458.js"><link rel="prefetch" href="/quweiqian/assets/js/259.e1313a09.js"><link rel="prefetch" href="/quweiqian/assets/js/26.50433bc8.js"><link rel="prefetch" href="/quweiqian/assets/js/260.522f2f9e.js"><link rel="prefetch" href="/quweiqian/assets/js/261.05618f95.js"><link rel="prefetch" href="/quweiqian/assets/js/262.2889c042.js"><link rel="prefetch" href="/quweiqian/assets/js/263.b4b90e5d.js"><link rel="prefetch" href="/quweiqian/assets/js/264.9100f015.js"><link rel="prefetch" href="/quweiqian/assets/js/265.bc597649.js"><link rel="prefetch" href="/quweiqian/assets/js/266.9df19886.js"><link rel="prefetch" href="/quweiqian/assets/js/267.bd141c03.js"><link rel="prefetch" href="/quweiqian/assets/js/268.35eb2eb4.js"><link rel="prefetch" href="/quweiqian/assets/js/269.3cf1baab.js"><link rel="prefetch" href="/quweiqian/assets/js/27.494162f0.js"><link rel="prefetch" href="/quweiqian/assets/js/270.8c8d9dc1.js"><link rel="prefetch" href="/quweiqian/assets/js/271.2cba303f.js"><link rel="prefetch" href="/quweiqian/assets/js/272.e8aafbf4.js"><link rel="prefetch" href="/quweiqian/assets/js/273.86412ff8.js"><link rel="prefetch" href="/quweiqian/assets/js/274.a8bd36a1.js"><link rel="prefetch" href="/quweiqian/assets/js/275.be3f605e.js"><link rel="prefetch" href="/quweiqian/assets/js/276.41f05b25.js"><link rel="prefetch" href="/quweiqian/assets/js/277.9d7ad493.js"><link rel="prefetch" href="/quweiqian/assets/js/278.0f405e2f.js"><link rel="prefetch" href="/quweiqian/assets/js/279.3e9ac66b.js"><link rel="prefetch" href="/quweiqian/assets/js/28.3ca25dd4.js"><link rel="prefetch" href="/quweiqian/assets/js/280.0367625b.js"><link rel="prefetch" href="/quweiqian/assets/js/281.c2f76ad4.js"><link rel="prefetch" href="/quweiqian/assets/js/282.991705ea.js"><link rel="prefetch" href="/quweiqian/assets/js/283.650d0e06.js"><link rel="prefetch" href="/quweiqian/assets/js/284.4e9182ea.js"><link rel="prefetch" href="/quweiqian/assets/js/285.e148b622.js"><link rel="prefetch" href="/quweiqian/assets/js/286.78d4517f.js"><link rel="prefetch" href="/quweiqian/assets/js/287.064ceb58.js"><link rel="prefetch" href="/quweiqian/assets/js/288.2c395a62.js"><link rel="prefetch" href="/quweiqian/assets/js/289.a1c8a1c5.js"><link rel="prefetch" href="/quweiqian/assets/js/29.0e22c500.js"><link rel="prefetch" href="/quweiqian/assets/js/290.7bd83b14.js"><link rel="prefetch" href="/quweiqian/assets/js/291.c331442e.js"><link rel="prefetch" href="/quweiqian/assets/js/292.bd20aaf6.js"><link rel="prefetch" href="/quweiqian/assets/js/293.f210021a.js"><link rel="prefetch" href="/quweiqian/assets/js/294.c7903fce.js"><link rel="prefetch" href="/quweiqian/assets/js/295.c95f7ba2.js"><link rel="prefetch" href="/quweiqian/assets/js/296.ae3e5cf6.js"><link rel="prefetch" href="/quweiqian/assets/js/297.08c15b47.js"><link rel="prefetch" href="/quweiqian/assets/js/298.c374a4f8.js"><link rel="prefetch" href="/quweiqian/assets/js/299.516ad6a4.js"><link rel="prefetch" href="/quweiqian/assets/js/3.fd207dc3.js"><link rel="prefetch" href="/quweiqian/assets/js/30.3104bdcf.js"><link rel="prefetch" href="/quweiqian/assets/js/300.6d25d090.js"><link rel="prefetch" href="/quweiqian/assets/js/301.d984ede9.js"><link rel="prefetch" href="/quweiqian/assets/js/302.5bbfffa0.js"><link rel="prefetch" href="/quweiqian/assets/js/303.8e81bf5c.js"><link rel="prefetch" href="/quweiqian/assets/js/304.63aca6d8.js"><link rel="prefetch" href="/quweiqian/assets/js/305.5a69e424.js"><link rel="prefetch" href="/quweiqian/assets/js/306.9e445df4.js"><link rel="prefetch" href="/quweiqian/assets/js/307.43b2a1d9.js"><link rel="prefetch" href="/quweiqian/assets/js/308.44d27f5a.js"><link rel="prefetch" href="/quweiqian/assets/js/309.b4e4e0ca.js"><link rel="prefetch" href="/quweiqian/assets/js/31.d280f8ef.js"><link rel="prefetch" href="/quweiqian/assets/js/310.86443928.js"><link rel="prefetch" href="/quweiqian/assets/js/311.1eb8ef04.js"><link rel="prefetch" href="/quweiqian/assets/js/312.50d09e7f.js"><link rel="prefetch" href="/quweiqian/assets/js/313.7c730f27.js"><link rel="prefetch" href="/quweiqian/assets/js/314.fa45e3b9.js"><link rel="prefetch" href="/quweiqian/assets/js/315.7ac99b46.js"><link rel="prefetch" href="/quweiqian/assets/js/316.b58a5c59.js"><link rel="prefetch" href="/quweiqian/assets/js/317.aeeef222.js"><link rel="prefetch" href="/quweiqian/assets/js/318.52aff5a4.js"><link rel="prefetch" href="/quweiqian/assets/js/319.28ff332c.js"><link rel="prefetch" href="/quweiqian/assets/js/32.da65b699.js"><link rel="prefetch" href="/quweiqian/assets/js/320.6703fc16.js"><link rel="prefetch" href="/quweiqian/assets/js/321.cb6e0999.js"><link rel="prefetch" href="/quweiqian/assets/js/322.c26a5dd5.js"><link rel="prefetch" href="/quweiqian/assets/js/323.713cd65d.js"><link rel="prefetch" href="/quweiqian/assets/js/324.e91506c4.js"><link rel="prefetch" href="/quweiqian/assets/js/325.25100785.js"><link rel="prefetch" href="/quweiqian/assets/js/326.eb2f4a10.js"><link rel="prefetch" href="/quweiqian/assets/js/327.deffaaf5.js"><link rel="prefetch" href="/quweiqian/assets/js/328.23e67c20.js"><link rel="prefetch" href="/quweiqian/assets/js/329.b9df454d.js"><link rel="prefetch" href="/quweiqian/assets/js/33.f07b2711.js"><link rel="prefetch" href="/quweiqian/assets/js/330.5dbb3113.js"><link rel="prefetch" href="/quweiqian/assets/js/331.0374447c.js"><link rel="prefetch" href="/quweiqian/assets/js/332.a955c1f9.js"><link rel="prefetch" href="/quweiqian/assets/js/333.cb07d48b.js"><link rel="prefetch" href="/quweiqian/assets/js/334.7d896394.js"><link rel="prefetch" href="/quweiqian/assets/js/335.c3bcfc06.js"><link rel="prefetch" href="/quweiqian/assets/js/336.38fbf794.js"><link rel="prefetch" href="/quweiqian/assets/js/337.e03e7f4c.js"><link rel="prefetch" href="/quweiqian/assets/js/338.18a0f69a.js"><link rel="prefetch" href="/quweiqian/assets/js/339.519f0274.js"><link rel="prefetch" href="/quweiqian/assets/js/34.bed36776.js"><link rel="prefetch" href="/quweiqian/assets/js/340.204844f0.js"><link rel="prefetch" href="/quweiqian/assets/js/341.953a2156.js"><link rel="prefetch" href="/quweiqian/assets/js/342.2e875daa.js"><link rel="prefetch" href="/quweiqian/assets/js/343.56c44f4a.js"><link rel="prefetch" href="/quweiqian/assets/js/344.c7c7e064.js"><link rel="prefetch" href="/quweiqian/assets/js/345.12254227.js"><link rel="prefetch" href="/quweiqian/assets/js/346.6bcb1dc3.js"><link rel="prefetch" href="/quweiqian/assets/js/347.c6ccd769.js"><link rel="prefetch" href="/quweiqian/assets/js/348.1af46648.js"><link rel="prefetch" href="/quweiqian/assets/js/349.1ac5b7e8.js"><link rel="prefetch" href="/quweiqian/assets/js/35.858df7f1.js"><link rel="prefetch" href="/quweiqian/assets/js/350.5db6ca71.js"><link rel="prefetch" href="/quweiqian/assets/js/351.70ac7e42.js"><link rel="prefetch" href="/quweiqian/assets/js/352.7a0f3749.js"><link rel="prefetch" href="/quweiqian/assets/js/353.699e3ca8.js"><link rel="prefetch" href="/quweiqian/assets/js/354.47ea13a1.js"><link rel="prefetch" href="/quweiqian/assets/js/355.23eaf377.js"><link rel="prefetch" href="/quweiqian/assets/js/356.d850cb7a.js"><link rel="prefetch" href="/quweiqian/assets/js/357.d9610bbb.js"><link rel="prefetch" href="/quweiqian/assets/js/358.5df877e5.js"><link rel="prefetch" href="/quweiqian/assets/js/359.7ce1290b.js"><link rel="prefetch" href="/quweiqian/assets/js/36.ddb8eb30.js"><link rel="prefetch" href="/quweiqian/assets/js/360.b912ae57.js"><link rel="prefetch" href="/quweiqian/assets/js/361.1ffef6eb.js"><link rel="prefetch" href="/quweiqian/assets/js/362.2a037447.js"><link rel="prefetch" href="/quweiqian/assets/js/363.c867eef7.js"><link rel="prefetch" href="/quweiqian/assets/js/364.a1b33023.js"><link rel="prefetch" href="/quweiqian/assets/js/365.ab7611eb.js"><link rel="prefetch" href="/quweiqian/assets/js/366.7ba53739.js"><link rel="prefetch" href="/quweiqian/assets/js/367.ad0b3cb0.js"><link rel="prefetch" href="/quweiqian/assets/js/368.19564a69.js"><link rel="prefetch" href="/quweiqian/assets/js/369.10714bb7.js"><link rel="prefetch" href="/quweiqian/assets/js/37.a97a99c0.js"><link rel="prefetch" href="/quweiqian/assets/js/370.ee2e3bae.js"><link rel="prefetch" href="/quweiqian/assets/js/371.13b16894.js"><link rel="prefetch" href="/quweiqian/assets/js/372.3ad9b64f.js"><link rel="prefetch" href="/quweiqian/assets/js/373.65f05c8b.js"><link rel="prefetch" href="/quweiqian/assets/js/374.5bcf880f.js"><link rel="prefetch" href="/quweiqian/assets/js/375.fb038190.js"><link rel="prefetch" href="/quweiqian/assets/js/376.b7a0eee8.js"><link rel="prefetch" href="/quweiqian/assets/js/377.6eea46e4.js"><link rel="prefetch" href="/quweiqian/assets/js/378.a196b3ef.js"><link rel="prefetch" href="/quweiqian/assets/js/379.a3cd640a.js"><link rel="prefetch" href="/quweiqian/assets/js/38.d4dc3fd1.js"><link rel="prefetch" href="/quweiqian/assets/js/380.8eeb5a0a.js"><link rel="prefetch" href="/quweiqian/assets/js/381.3f5ad787.js"><link rel="prefetch" href="/quweiqian/assets/js/382.f79977a0.js"><link rel="prefetch" href="/quweiqian/assets/js/383.17840e0e.js"><link rel="prefetch" href="/quweiqian/assets/js/384.e0a1e2fd.js"><link rel="prefetch" href="/quweiqian/assets/js/385.babeb16b.js"><link rel="prefetch" href="/quweiqian/assets/js/386.3f1d5e31.js"><link rel="prefetch" href="/quweiqian/assets/js/387.a94d1cab.js"><link rel="prefetch" href="/quweiqian/assets/js/388.c8c48287.js"><link rel="prefetch" href="/quweiqian/assets/js/389.0fdfb7e9.js"><link rel="prefetch" href="/quweiqian/assets/js/39.83777f8a.js"><link rel="prefetch" href="/quweiqian/assets/js/390.4b4660d7.js"><link rel="prefetch" href="/quweiqian/assets/js/391.901d1fa7.js"><link rel="prefetch" href="/quweiqian/assets/js/392.6c53bdb1.js"><link rel="prefetch" href="/quweiqian/assets/js/393.255e7ff1.js"><link rel="prefetch" href="/quweiqian/assets/js/394.8896585e.js"><link rel="prefetch" href="/quweiqian/assets/js/395.2ee91421.js"><link rel="prefetch" href="/quweiqian/assets/js/396.e8b5220c.js"><link rel="prefetch" href="/quweiqian/assets/js/397.cd302ead.js"><link rel="prefetch" href="/quweiqian/assets/js/398.95ce5c5b.js"><link rel="prefetch" href="/quweiqian/assets/js/399.cc1d3470.js"><link rel="prefetch" href="/quweiqian/assets/js/40.6d8ba30e.js"><link rel="prefetch" href="/quweiqian/assets/js/400.c3fd62c7.js"><link rel="prefetch" href="/quweiqian/assets/js/401.7b1115ae.js"><link rel="prefetch" href="/quweiqian/assets/js/402.90003f77.js"><link rel="prefetch" href="/quweiqian/assets/js/403.234771e8.js"><link rel="prefetch" href="/quweiqian/assets/js/404.18f40bff.js"><link rel="prefetch" href="/quweiqian/assets/js/405.23562901.js"><link rel="prefetch" href="/quweiqian/assets/js/406.53288a9e.js"><link rel="prefetch" href="/quweiqian/assets/js/407.2b5ebace.js"><link rel="prefetch" href="/quweiqian/assets/js/408.de3cd013.js"><link rel="prefetch" href="/quweiqian/assets/js/409.422c0165.js"><link rel="prefetch" href="/quweiqian/assets/js/41.5948b634.js"><link rel="prefetch" href="/quweiqian/assets/js/410.aacfa25d.js"><link rel="prefetch" href="/quweiqian/assets/js/411.a784ab71.js"><link rel="prefetch" href="/quweiqian/assets/js/412.a814d1ed.js"><link rel="prefetch" href="/quweiqian/assets/js/413.378560ec.js"><link rel="prefetch" href="/quweiqian/assets/js/414.5348733a.js"><link rel="prefetch" href="/quweiqian/assets/js/415.7e84014e.js"><link rel="prefetch" href="/quweiqian/assets/js/416.4b0fc1c9.js"><link rel="prefetch" href="/quweiqian/assets/js/417.369f7ce9.js"><link rel="prefetch" href="/quweiqian/assets/js/418.d10df012.js"><link rel="prefetch" href="/quweiqian/assets/js/419.b15e651a.js"><link rel="prefetch" href="/quweiqian/assets/js/42.e47cf185.js"><link rel="prefetch" href="/quweiqian/assets/js/420.7999eae0.js"><link rel="prefetch" href="/quweiqian/assets/js/421.ce903c48.js"><link rel="prefetch" href="/quweiqian/assets/js/422.405596a9.js"><link rel="prefetch" href="/quweiqian/assets/js/423.738be32e.js"><link rel="prefetch" href="/quweiqian/assets/js/424.e106f8b7.js"><link rel="prefetch" href="/quweiqian/assets/js/425.b16bc73b.js"><link rel="prefetch" href="/quweiqian/assets/js/426.fc90e02c.js"><link rel="prefetch" href="/quweiqian/assets/js/427.570b2796.js"><link rel="prefetch" href="/quweiqian/assets/js/428.b3e9c8f9.js"><link rel="prefetch" href="/quweiqian/assets/js/429.6d25783c.js"><link rel="prefetch" href="/quweiqian/assets/js/43.61c23d77.js"><link rel="prefetch" href="/quweiqian/assets/js/430.d2f62d06.js"><link rel="prefetch" href="/quweiqian/assets/js/431.e880dd1a.js"><link rel="prefetch" href="/quweiqian/assets/js/432.02808f21.js"><link rel="prefetch" href="/quweiqian/assets/js/433.4c45ceaf.js"><link rel="prefetch" href="/quweiqian/assets/js/434.a1f04c60.js"><link rel="prefetch" href="/quweiqian/assets/js/435.be319d7c.js"><link rel="prefetch" href="/quweiqian/assets/js/436.e6a7abc5.js"><link rel="prefetch" href="/quweiqian/assets/js/437.be5c6986.js"><link rel="prefetch" href="/quweiqian/assets/js/438.cd9caf0c.js"><link rel="prefetch" href="/quweiqian/assets/js/439.1e0fe09b.js"><link rel="prefetch" href="/quweiqian/assets/js/44.c7fd601b.js"><link rel="prefetch" href="/quweiqian/assets/js/440.e0b032a6.js"><link rel="prefetch" href="/quweiqian/assets/js/441.dbb6d7ba.js"><link rel="prefetch" href="/quweiqian/assets/js/442.49e957a4.js"><link rel="prefetch" href="/quweiqian/assets/js/443.0185a5a7.js"><link rel="prefetch" href="/quweiqian/assets/js/444.cf3e4593.js"><link rel="prefetch" href="/quweiqian/assets/js/445.5852644b.js"><link rel="prefetch" href="/quweiqian/assets/js/446.254a45dc.js"><link rel="prefetch" href="/quweiqian/assets/js/447.9e5664b7.js"><link rel="prefetch" href="/quweiqian/assets/js/448.59a5a06b.js"><link rel="prefetch" href="/quweiqian/assets/js/449.bfffed93.js"><link rel="prefetch" href="/quweiqian/assets/js/45.6b1f0c4a.js"><link rel="prefetch" href="/quweiqian/assets/js/450.ec9249a9.js"><link rel="prefetch" href="/quweiqian/assets/js/451.eb80c9e5.js"><link rel="prefetch" href="/quweiqian/assets/js/452.d4de347b.js"><link rel="prefetch" href="/quweiqian/assets/js/453.75a6a36e.js"><link rel="prefetch" href="/quweiqian/assets/js/454.d76be437.js"><link rel="prefetch" href="/quweiqian/assets/js/455.a51c29ac.js"><link rel="prefetch" href="/quweiqian/assets/js/456.eeb0f363.js"><link rel="prefetch" href="/quweiqian/assets/js/457.3a5320ee.js"><link rel="prefetch" href="/quweiqian/assets/js/458.15039b1d.js"><link rel="prefetch" href="/quweiqian/assets/js/459.866663f6.js"><link rel="prefetch" href="/quweiqian/assets/js/46.01cede6c.js"><link rel="prefetch" href="/quweiqian/assets/js/460.58eeeb32.js"><link rel="prefetch" href="/quweiqian/assets/js/461.02f4620d.js"><link rel="prefetch" href="/quweiqian/assets/js/462.79aa6a28.js"><link rel="prefetch" href="/quweiqian/assets/js/463.d63656da.js"><link rel="prefetch" href="/quweiqian/assets/js/464.764930ca.js"><link rel="prefetch" href="/quweiqian/assets/js/465.531e7565.js"><link rel="prefetch" href="/quweiqian/assets/js/466.adf2b0ec.js"><link rel="prefetch" href="/quweiqian/assets/js/467.378f980e.js"><link rel="prefetch" href="/quweiqian/assets/js/468.86366e60.js"><link rel="prefetch" href="/quweiqian/assets/js/469.b8500e84.js"><link rel="prefetch" href="/quweiqian/assets/js/47.a07078f9.js"><link rel="prefetch" href="/quweiqian/assets/js/470.db15e6b5.js"><link rel="prefetch" href="/quweiqian/assets/js/471.536fee35.js"><link rel="prefetch" href="/quweiqian/assets/js/472.f19b75ae.js"><link rel="prefetch" href="/quweiqian/assets/js/473.bc7efa07.js"><link rel="prefetch" href="/quweiqian/assets/js/474.b51a5292.js"><link rel="prefetch" href="/quweiqian/assets/js/475.12133f29.js"><link rel="prefetch" href="/quweiqian/assets/js/476.b1b8b744.js"><link rel="prefetch" href="/quweiqian/assets/js/477.9863f9b8.js"><link rel="prefetch" href="/quweiqian/assets/js/478.832da548.js"><link rel="prefetch" href="/quweiqian/assets/js/479.191774a1.js"><link rel="prefetch" href="/quweiqian/assets/js/48.7f4323bd.js"><link rel="prefetch" href="/quweiqian/assets/js/480.5cd76fc1.js"><link rel="prefetch" href="/quweiqian/assets/js/481.1f573010.js"><link rel="prefetch" href="/quweiqian/assets/js/482.68aa1d7d.js"><link rel="prefetch" href="/quweiqian/assets/js/483.f396532b.js"><link rel="prefetch" href="/quweiqian/assets/js/484.eb0659a0.js"><link rel="prefetch" href="/quweiqian/assets/js/485.302af10f.js"><link rel="prefetch" href="/quweiqian/assets/js/486.e1eda1aa.js"><link rel="prefetch" href="/quweiqian/assets/js/487.c54faf61.js"><link rel="prefetch" href="/quweiqian/assets/js/488.679b7438.js"><link rel="prefetch" href="/quweiqian/assets/js/489.4e06f5a6.js"><link rel="prefetch" href="/quweiqian/assets/js/49.85544d6d.js"><link rel="prefetch" href="/quweiqian/assets/js/490.be1db032.js"><link rel="prefetch" href="/quweiqian/assets/js/491.67c54fac.js"><link rel="prefetch" href="/quweiqian/assets/js/492.c7146c6e.js"><link rel="prefetch" href="/quweiqian/assets/js/493.583df96a.js"><link rel="prefetch" href="/quweiqian/assets/js/494.45c85253.js"><link rel="prefetch" href="/quweiqian/assets/js/495.3caa3060.js"><link rel="prefetch" href="/quweiqian/assets/js/496.f05340d9.js"><link rel="prefetch" href="/quweiqian/assets/js/497.62f89eb6.js"><link rel="prefetch" href="/quweiqian/assets/js/498.0c3dabd7.js"><link rel="prefetch" href="/quweiqian/assets/js/499.ad5bc953.js"><link rel="prefetch" href="/quweiqian/assets/js/5.20428549.js"><link rel="prefetch" href="/quweiqian/assets/js/50.4f0b8f36.js"><link rel="prefetch" href="/quweiqian/assets/js/500.418ad242.js"><link rel="prefetch" href="/quweiqian/assets/js/501.bb8a9e45.js"><link rel="prefetch" href="/quweiqian/assets/js/502.94269728.js"><link rel="prefetch" href="/quweiqian/assets/js/503.4bbe2f5e.js"><link rel="prefetch" href="/quweiqian/assets/js/504.d7b9daf9.js"><link rel="prefetch" href="/quweiqian/assets/js/505.4e24158a.js"><link rel="prefetch" href="/quweiqian/assets/js/506.36e08f78.js"><link rel="prefetch" href="/quweiqian/assets/js/507.5fce5131.js"><link rel="prefetch" href="/quweiqian/assets/js/508.3a337a8e.js"><link rel="prefetch" href="/quweiqian/assets/js/509.550cf303.js"><link rel="prefetch" href="/quweiqian/assets/js/51.5449dc56.js"><link rel="prefetch" href="/quweiqian/assets/js/510.a2619068.js"><link rel="prefetch" href="/quweiqian/assets/js/511.c4355e92.js"><link rel="prefetch" href="/quweiqian/assets/js/512.0fdaad0c.js"><link rel="prefetch" href="/quweiqian/assets/js/513.e8bc87e9.js"><link rel="prefetch" href="/quweiqian/assets/js/514.a17e0ba0.js"><link rel="prefetch" href="/quweiqian/assets/js/515.21b0e2e6.js"><link rel="prefetch" href="/quweiqian/assets/js/516.92fc20f3.js"><link rel="prefetch" href="/quweiqian/assets/js/517.43f42fb2.js"><link rel="prefetch" href="/quweiqian/assets/js/518.937d6e64.js"><link rel="prefetch" href="/quweiqian/assets/js/519.9420d66a.js"><link rel="prefetch" href="/quweiqian/assets/js/52.79b0ef5e.js"><link rel="prefetch" href="/quweiqian/assets/js/520.ca4392e8.js"><link rel="prefetch" href="/quweiqian/assets/js/521.e0fcd089.js"><link rel="prefetch" href="/quweiqian/assets/js/522.83105290.js"><link rel="prefetch" href="/quweiqian/assets/js/523.edcab369.js"><link rel="prefetch" href="/quweiqian/assets/js/524.d82069a9.js"><link rel="prefetch" href="/quweiqian/assets/js/525.6a81294a.js"><link rel="prefetch" href="/quweiqian/assets/js/526.a2aae0b2.js"><link rel="prefetch" href="/quweiqian/assets/js/527.6a548ac2.js"><link rel="prefetch" href="/quweiqian/assets/js/528.622dc1f8.js"><link rel="prefetch" href="/quweiqian/assets/js/529.52db6ea9.js"><link rel="prefetch" href="/quweiqian/assets/js/53.cf418fe3.js"><link rel="prefetch" href="/quweiqian/assets/js/531.048e8e9f.js"><link rel="prefetch" href="/quweiqian/assets/js/54.77ec35ca.js"><link rel="prefetch" href="/quweiqian/assets/js/55.0155b92e.js"><link rel="prefetch" href="/quweiqian/assets/js/56.7b8fb311.js"><link rel="prefetch" href="/quweiqian/assets/js/57.d4610d83.js"><link rel="prefetch" href="/quweiqian/assets/js/58.a23bcfe2.js"><link rel="prefetch" href="/quweiqian/assets/js/59.5b45fb7a.js"><link rel="prefetch" href="/quweiqian/assets/js/6.852c1cf6.js"><link rel="prefetch" href="/quweiqian/assets/js/60.5852f880.js"><link rel="prefetch" href="/quweiqian/assets/js/61.ed5db516.js"><link rel="prefetch" href="/quweiqian/assets/js/62.07986eb0.js"><link rel="prefetch" href="/quweiqian/assets/js/63.946a7c10.js"><link rel="prefetch" href="/quweiqian/assets/js/64.2df7eddb.js"><link rel="prefetch" href="/quweiqian/assets/js/65.a9ad7524.js"><link rel="prefetch" href="/quweiqian/assets/js/66.2d2e9bc3.js"><link rel="prefetch" href="/quweiqian/assets/js/67.b6d29865.js"><link rel="prefetch" href="/quweiqian/assets/js/68.5c191671.js"><link rel="prefetch" href="/quweiqian/assets/js/69.437a75e4.js"><link rel="prefetch" href="/quweiqian/assets/js/7.9f6dc1ad.js"><link rel="prefetch" href="/quweiqian/assets/js/70.bc4c17db.js"><link rel="prefetch" href="/quweiqian/assets/js/71.99583413.js"><link rel="prefetch" href="/quweiqian/assets/js/72.41daecef.js"><link rel="prefetch" href="/quweiqian/assets/js/73.f1332d5a.js"><link rel="prefetch" href="/quweiqian/assets/js/74.ad6da0ac.js"><link rel="prefetch" href="/quweiqian/assets/js/75.334a7ce5.js"><link rel="prefetch" href="/quweiqian/assets/js/76.22a56aa5.js"><link rel="prefetch" href="/quweiqian/assets/js/77.0831bbe0.js"><link rel="prefetch" href="/quweiqian/assets/js/78.7252d1bd.js"><link rel="prefetch" href="/quweiqian/assets/js/79.2e2d3e63.js"><link rel="prefetch" href="/quweiqian/assets/js/8.a3d91f80.js"><link rel="prefetch" href="/quweiqian/assets/js/80.441b973c.js"><link rel="prefetch" href="/quweiqian/assets/js/81.0b4a181e.js"><link rel="prefetch" href="/quweiqian/assets/js/82.dd8dd2d9.js"><link rel="prefetch" href="/quweiqian/assets/js/83.a9576c8f.js"><link rel="prefetch" href="/quweiqian/assets/js/84.34018d2d.js"><link rel="prefetch" href="/quweiqian/assets/js/85.573af1ba.js"><link rel="prefetch" href="/quweiqian/assets/js/86.0033096a.js"><link rel="prefetch" href="/quweiqian/assets/js/87.33eee731.js"><link rel="prefetch" href="/quweiqian/assets/js/88.8c1df3e7.js"><link rel="prefetch" href="/quweiqian/assets/js/89.83d3c242.js"><link rel="prefetch" href="/quweiqian/assets/js/9.8f7d3e38.js"><link rel="prefetch" href="/quweiqian/assets/js/90.d8129294.js"><link rel="prefetch" href="/quweiqian/assets/js/91.2773d070.js"><link rel="prefetch" href="/quweiqian/assets/js/92.1200560c.js"><link rel="prefetch" href="/quweiqian/assets/js/93.4ebd0996.js"><link rel="prefetch" href="/quweiqian/assets/js/94.6d5a95ec.js"><link rel="prefetch" href="/quweiqian/assets/js/95.8b238428.js"><link rel="prefetch" href="/quweiqian/assets/js/96.8e7a918c.js"><link rel="prefetch" href="/quweiqian/assets/js/97.0ecacb49.js"><link rel="prefetch" href="/quweiqian/assets/js/98.3a3fa801.js"><link rel="prefetch" href="/quweiqian/assets/js/99.24da1b30.js">
    <link rel="stylesheet" href="/quweiqian/assets/css/0.styles.e8fe9d41.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/quweiqian/" class="home-link router-link-active"><!----> <span class="site-name">以学愈愚</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/quweiqian/" class="nav-link">
  home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="context Menu" class="dropdown-title"><span class="title">基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="context Menu" class="mobile-dropdown-title"><span class="title">基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/quweiqian/base/frontend-base-htmlcss-master/5/10.html" class="nav-link">
  HTML+CSS 基础
</a></li><li class="dropdown-item"><!----> <a href="/quweiqian/base/webapp/1-1.html" class="nav-link">
  webapp
</a></li><li class="dropdown-item"><!----> <a href="/quweiqian/base/vue3/1.html" class="nav-link">
  vue3
</a></li></ul></div></div><div class="nav-item"><a href="/quweiqian/duyi/frontend-pre-htmlcss-master/01.html" class="nav-link">
  固定学习
</a></div><div class="nav-item"><a href="/quweiqian/interview/frontend-interview-html-master/1.html" class="nav-link">
  笔面试
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="context Menu" class="dropdown-title"><span class="title">详细版</span> <span class="arrow down"></span></button> <button type="button" aria-label="context Menu" class="mobile-dropdown-title"><span class="title">详细版</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/quweiqian/particular/html5/1.html" class="nav-link">
  html5详细版
</a></li><li class="dropdown-item"><!----> <a href="/quweiqian/particular/frontend-es6-particular-master/1.html" class="nav-link">
  ES6详细版
</a></li><li class="dropdown-item"><!----> <a href="/quweiqian/particular/frontend-module-particular-master/1.html" class="nav-link">
  模块化详细版
</a></li><li class="dropdown-item"><!----> <a href="/quweiqian/particular/frontend-packagemanager-particular-master/1.html" class="nav-link">
  包管理器详细版
</a></li><li class="dropdown-item"><!----> <a href="/quweiqian/particular/frontend-webpack-particular-master/1.1.html" class="nav-link">
  webpack详细版
</a></li></ul></div></div><div class="nav-item"><a href="/quweiqian/es6/intro.html" class="nav-link">
  es6阮
</a></div><div class="nav-item"><a href="/quweiqian/fragments/1.html" class="nav-link">
  散记
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/quweiqian/" class="nav-link">
  home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="context Menu" class="dropdown-title"><span class="title">基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="context Menu" class="mobile-dropdown-title"><span class="title">基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/quweiqian/base/frontend-base-htmlcss-master/5/10.html" class="nav-link">
  HTML+CSS 基础
</a></li><li class="dropdown-item"><!----> <a href="/quweiqian/base/webapp/1-1.html" class="nav-link">
  webapp
</a></li><li class="dropdown-item"><!----> <a href="/quweiqian/base/vue3/1.html" class="nav-link">
  vue3
</a></li></ul></div></div><div class="nav-item"><a href="/quweiqian/duyi/frontend-pre-htmlcss-master/01.html" class="nav-link">
  固定学习
</a></div><div class="nav-item"><a href="/quweiqian/interview/frontend-interview-html-master/1.html" class="nav-link">
  笔面试
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="context Menu" class="dropdown-title"><span class="title">详细版</span> <span class="arrow down"></span></button> <button type="button" aria-label="context Menu" class="mobile-dropdown-title"><span class="title">详细版</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/quweiqian/particular/html5/1.html" class="nav-link">
  html5详细版
</a></li><li class="dropdown-item"><!----> <a href="/quweiqian/particular/frontend-es6-particular-master/1.html" class="nav-link">
  ES6详细版
</a></li><li class="dropdown-item"><!----> <a href="/quweiqian/particular/frontend-module-particular-master/1.html" class="nav-link">
  模块化详细版
</a></li><li class="dropdown-item"><!----> <a href="/quweiqian/particular/frontend-packagemanager-particular-master/1.html" class="nav-link">
  包管理器详细版
</a></li><li class="dropdown-item"><!----> <a href="/quweiqian/particular/frontend-webpack-particular-master/1.1.html" class="nav-link">
  webpack详细版
</a></li></ul></div></div><div class="nav-item"><a href="/quweiqian/es6/intro.html" class="nav-link">
  es6阮
</a></div><div class="nav-item"><a href="/quweiqian/fragments/1.html" class="nav-link">
  散记
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>详细版</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>html5详细版</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/quweiqian/particular/html5/1.html" class="sidebar-link">drag</a></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading"><span>svg详细版</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/quweiqian/particular/html5/3.html" aria-current="page" class="active sidebar-link">Canvas</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/quweiqian/particular/html5/3.html#一-概述" class="sidebar-link">一 概述</a></li><li class="sidebar-sub-header"><a href="/quweiqian/particular/html5/3.html#二-画布与画笔" class="sidebar-link">二 画布与画笔</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/quweiqian/particular/html5/3.html#_1-创建画布和画笔" class="sidebar-link">1 创建画布和画笔</a></li><li class="sidebar-sub-header"><a href="/quweiqian/particular/html5/3.html#_2-画布区域特点" class="sidebar-link">2 画布区域特点</a></li></ul></li><li class="sidebar-sub-header"><a href="/quweiqian/particular/html5/3.html#三-绘制图形" class="sidebar-link">三 绘制图形</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/quweiqian/particular/html5/3.html#_1-绘制矩形" class="sidebar-link">1 绘制矩形</a></li><li class="sidebar-sub-header"><a href="/quweiqian/particular/html5/3.html#_2-beginpath方法" class="sidebar-link">2 beginPath方法</a></li><li class="sidebar-sub-header"><a href="/quweiqian/particular/html5/3.html#_3-绘制圆角矩形" class="sidebar-link">3 绘制圆角矩形</a></li><li class="sidebar-sub-header"><a href="/quweiqian/particular/html5/3.html#_4-绘制直线-折线" class="sidebar-link">4 绘制直线&amp;折线</a></li><li class="sidebar-sub-header"><a href="/quweiqian/particular/html5/3.html#_5-线条api" class="sidebar-link">5 线条API</a></li><li class="sidebar-sub-header"><a href="/quweiqian/particular/html5/3.html#_6-清除画布" class="sidebar-link">6 清除画布</a></li><li class="sidebar-sub-header"><a href="/quweiqian/particular/html5/3.html#_7-虚线小动画" class="sidebar-link">7 虚线小动画</a></li><li class="sidebar-sub-header"><a href="/quweiqian/particular/html5/3.html#_9-绘制圆弧" class="sidebar-link">9 绘制圆弧</a></li><li class="sidebar-sub-header"><a href="/quweiqian/particular/html5/3.html#_10-绘制椭圆" class="sidebar-link">10 绘制椭圆</a></li><li class="sidebar-sub-header"><a href="/quweiqian/particular/html5/3.html#_11-绘制曲线" class="sidebar-link">11 绘制曲线</a></li><li class="sidebar-sub-header"><a href="/quweiqian/particular/html5/3.html#_12-绘制文本" class="sidebar-link">12 绘制文本</a></li></ul></li><li class="sidebar-sub-header"><a href="/quweiqian/particular/html5/3.html#四-使用图像" class="sidebar-link">四 使用图像</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/quweiqian/particular/html5/3.html#_1-基本使用" class="sidebar-link">1 基本使用</a></li><li class="sidebar-sub-header"><a href="/quweiqian/particular/html5/3.html#_2-图像与动画" class="sidebar-link">2 图像与动画</a></li><li class="sidebar-sub-header"><a href="/quweiqian/particular/html5/3.html#_4-引入canvas图像" class="sidebar-link">4 引入Canvas图像</a></li><li class="sidebar-sub-header"><a href="/quweiqian/particular/html5/3.html#_5-图像像素处理" class="sidebar-link">5 图像像素处理</a></li><li class="sidebar-sub-header"><a href="/quweiqian/particular/html5/3.html#_6-图像填充" class="sidebar-link">6 图像填充</a></li></ul></li><li class="sidebar-sub-header"><a href="/quweiqian/particular/html5/3.html#五-图像裁剪" class="sidebar-link">五 图像裁剪</a></li><li class="sidebar-sub-header"><a href="/quweiqian/particular/html5/3.html#六-图像合成" class="sidebar-link">六 图像合成</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/quweiqian/particular/html5/3.html#_1-路径-形状-合成" class="sidebar-link">1 路径(形状)合成</a></li><li class="sidebar-sub-header"><a href="/quweiqian/particular/html5/3.html#_2-颜色合成" class="sidebar-link">2 颜色合成</a></li><li class="sidebar-sub-header"><a href="/quweiqian/particular/html5/3.html#_3-刮刮乐效果" class="sidebar-link">3 刮刮乐效果</a></li></ul></li><li class="sidebar-sub-header"><a href="/quweiqian/particular/html5/3.html#七-颜色渐变" class="sidebar-link">七 颜色渐变</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/quweiqian/particular/html5/3.html#_1-线性渐变" class="sidebar-link">1 线性渐变</a></li><li class="sidebar-sub-header"><a href="/quweiqian/particular/html5/3.html#_2-径向渐变" class="sidebar-link">2 径向渐变</a></li><li class="sidebar-sub-header"><a href="/quweiqian/particular/html5/3.html#_3-锥形渐变" class="sidebar-link">3 锥形渐变</a></li></ul></li><li class="sidebar-sub-header"><a href="/quweiqian/particular/html5/3.html#八-图形阴影" class="sidebar-link">八 图形阴影</a></li><li class="sidebar-sub-header"><a href="/quweiqian/particular/html5/3.html#九-滤镜" class="sidebar-link">九 滤镜</a></li><li class="sidebar-sub-header"><a href="/quweiqian/particular/html5/3.html#十-图像变换" class="sidebar-link">十 图像变换</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/quweiqian/particular/html5/3.html#_1-图形移动" class="sidebar-link">1 图形移动</a></li><li class="sidebar-sub-header"><a href="/quweiqian/particular/html5/3.html#_2-图形放缩" class="sidebar-link">2 图形放缩</a></li><li class="sidebar-sub-header"><a href="/quweiqian/particular/html5/3.html#_3-图像旋转" class="sidebar-link">3 图像旋转</a></li><li class="sidebar-sub-header"><a href="/quweiqian/particular/html5/3.html#_4-矩阵变换" class="sidebar-link">4 矩阵变换</a></li></ul></li><li class="sidebar-sub-header"><a href="/quweiqian/particular/html5/3.html#十一-状态存储与重置" class="sidebar-link">十一 状态存储与重置</a></li><li class="sidebar-sub-header"><a href="/quweiqian/particular/html5/3.html#十二-实战案例" class="sidebar-link">十二 实战案例</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/quweiqian/particular/html5/3.html#_1-动态时钟" class="sidebar-link">1 动态时钟</a></li><li class="sidebar-sub-header"><a href="/quweiqian/particular/html5/3.html#_2-粒子烟花" class="sidebar-link">2 粒子烟花</a></li><li class="sidebar-sub-header"><a href="/quweiqian/particular/html5/3.html#_3-贪吃蛇" class="sidebar-link">3 贪吃蛇</a></li><li class="sidebar-sub-header"><a href="/quweiqian/particular/html5/3.html#_4-画图板" class="sidebar-link">4 画图板</a></li></ul></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>ES6详细版</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>模块化详细版</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>包管理器详细版</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>webpack详细版</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="canvas"><a href="#canvas" class="header-anchor">#</a> Canvas</h1> <h2 id="一-概述"><a href="#一-概述" class="header-anchor">#</a> 一 概述</h2> <p>canvas是html5的一个新标签，相当于一个画布，可以用来绘制丰富的图形，最终渲染在浏览器上。</p> <p>但canvas标签本身不具备绘制图形的能力，配合javascript提供的CanvasAPI，才能绘制图形，文本和图像，以及实现动画和交互</p> <p>支持2d绘图，也支持3d绘图（webgl）</p> <p>canvas绘制的图形是一个位图</p> <ul><li>放缩会导致图像失真，所以需要注意放缩比例的控制</li> <li>可以操作每一个点位的像素，进而实现高度自定义的图形绘制和动画效果</li> <li>相当于img引入的图片，可以右键另存</li></ul> <p>canvas绘制的内容不属于dom元素，通常比dom元素绘制的方式有更高的渲染能力</p> <p>但也存在一些问题，比如无法在浏览器查看器中查找，也无法支持鼠标监听（但可以通过其他方式实现类似的效果）</p> <p>canvas应用领域：</p> <ul><li>可视化图表</li> <li>h5游戏制作</li> <li>banner广告</li></ul> <h2 id="二-画布与画笔"><a href="#二-画布与画笔" class="header-anchor">#</a> 二 画布与画笔</h2> <h3 id="_1-创建画布和画笔"><a href="#_1-创建画布和画笔" class="header-anchor">#</a> 1 创建画布和画笔</h3> <p>提供一个<code>&lt;canvas&gt;</code>标签(html)</p> <p>有一个canvas对象(js-画布)</p> <p>有一个context对象(js-画笔)</p> <ul><li>CanvasRenderingContext2D</li></ul> <div class="language-html extra-class"><pre class="language-html"><code> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>c1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">const</span> convas1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#c1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> context1 <span class="token operator">=</span> canvas1<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><blockquote><p>有2种提供canvas标签的方式</p></blockquote> <p>方式一：直接定义canvas标签</p> <p>方式二：利用js创建canvas标签 （推荐，vscode有更友好的提示）</p> <ul><li>使用js方式创建canvas时，canvas对象 和 context对象都是具体的类型(HTMLCavansElement , CanvasRenderingContext2D)，vscode编码开发时， 提示更加友好。</li></ul> <img src="https://qwq9527.gitee.io/resource/imgs/canvas/01.png" alt="1684995219436" style="zoom:50%;"> <blockquote><p>canvas标签的版本检查</p></blockquote> <p>绝大多数的浏览器都支持canvas。但少数老版本的浏览器支持不佳（IE9-）</p> <ul><li>使用文本/图片替换canvas : 浏览器不支持canvas，会显示标签中的文本或图片内容。</li> <li>脚本检测  : 浏览器不支持canvas，则canvas对象没有getContext函数</li></ul> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>c1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    您的浏览器版本过低，不支持canvas，请升级浏览器或更换浏览器
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>canvas2<span class="token punctuation">.</span>getContext<span class="token punctuation">)</span><span class="token punctuation">{</span>
     console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'您的浏览器版本过低，不支持canvas，请升级浏览器或更换浏览器'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
     <span class="token comment">// codeing...</span>
 <span class="token punctuation">}</span>
</code></pre></div><h3 id="_2-画布区域特点"><a href="#_2-画布区域特点" class="header-anchor">#</a> 2 画布区域特点</h3> <p>canvas是一个行内元素 。</p> <p>canvas可以使用width 和 height 设置区域宽高 （默认宽高：300*150）</p> <p>canvas也可以使用style样式设置宽高。 但与width 和height设置效果有所不同。</p> <p><strong>坐标系</strong></p> <p>每一个画布中都有一个坐标系统，画布的左上角为默认的(0,0)原点</p> <p><strong>画布区域</strong></p> <p>使用width 和 height属性控制的区域。</p> <p>这个区域有多大， 其包含的坐标系就有多大。</p> <p><code>&lt;canvas id=&quot;c1&quot; width=&quot;400&quot; height=&quot;400&quot;&gt;&lt;/canvas&gt;</code></p> <p>表示我们可以看到一个400*400的坐标系</p> <p><strong>放置区域</strong></p> <p>使用style样式控制的区域大小</p> <p>画布区域中绘制的图形，最终会在放置区域中展示。</p> <p>默认，放置区域与画布区域相同。</p> <p>放置区域如果比画布区域大 or 小。  画布中的图形就会按比例放大或缩小。 （图像可能失真）</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">canvas</span><span class="token punctuation">{</span>
        <span class="token property">border</span><span class="token punctuation">:</span>1px solid #ccc<span class="token punctuation">;</span>
        <span class="token property">margin-left</span><span class="token punctuation">:</span>100px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">#c2</span><span class="token punctuation">{</span>
        <span class="token property">width</span><span class="token punctuation">:</span>200px<span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span>200px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">#c3</span><span class="token punctuation">{</span>
        <span class="token property">width</span><span class="token punctuation">:</span>600px<span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> 600px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>c1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>400<span class="token punctuation">&quot;</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>400<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>c2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>400<span class="token punctuation">&quot;</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>400<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>c3<span class="token punctuation">&quot;</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>400<span class="token punctuation">&quot;</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>400<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token punctuation">{</span>
        <span class="token keyword">const</span> canvas<span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#c1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token punctuation">{</span>
        <span class="token keyword">const</span> canvas<span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#c2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token punctuation">{</span>
        <span class="token keyword">const</span> canvas<span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#c3'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><img src="https://qwq9527.gitee.io/resource/imgs/canvas/02.png" alt="1684997544061" style="zoom:50%;"> <h2 id="三-绘制图形"><a href="#三-绘制图形" class="header-anchor">#</a> 三 绘制图形</h2> <h3 id="_1-绘制矩形"><a href="#_1-绘制矩形" class="header-anchor">#</a> 1 绘制矩形</h3> <p>可以绘制两种矩形， 有三种方式。</p> <ul><li>填充的矩形(实心矩形)</li> <li>描边的矩形(空心矩形)</li></ul> <blockquote><p>ctx.fillRect(x , y , width ,height)</p></blockquote> <p>绘制填充矩形</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><img src="https://qwq9527.gitee.io/resource/imgs/canvas/03.png" alt="1684999450682" style="zoom:50%;"> <blockquote><p>ctx.strokeRect(x , y , width , height)</p></blockquote> <p>绘制描边矩形</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ctx<span class="token punctuation">.</span><span class="token function">strokeRect</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><img src="https://qwq9527.gitee.io/resource/imgs/canvas/04.png" alt="1684999462723" style="zoom:50%;"> <blockquote><p>ctx.rect(x , y , width , height)</p></blockquote> <p>绘制矩形路径， 默认没有效果。</p> <p>需要配合 ctx.stroke()  , ctx.fill() 来描边或填充才会有效果。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ctx<span class="token punctuation">.</span><span class="token function">rect</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p>使用ctx.fillStyle属性设置填充的颜色 （red , #f00 , rgba(255,0,0,1）</p> <p>使用ctx.strokeStyle属性设置描边颜色</p> <p>使用ctx.lineWidth属性设置描边粗细</p></blockquote> <ul><li>注意：一定要在绘制图形之前设置。</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ctx<span class="token punctuation">.</span><span class="token function">rect</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">'rgba(255,0,0,0.8)'</span>
ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">'#00f'</span><span class="token punctuation">;</span>
ctx<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">10</span> <span class="token punctuation">;</span>
ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//代码至此，已经绘画完毕了</span>
<span class="token comment">//ctx.fillStyle = 'red' ; //无效果</span>
</code></pre></div><img src="https://qwq9527.gitee.io/resource/imgs/canvas/05.png" alt="1684999490858" style="zoom:50%;"> <h3 id="_2-beginpath方法"><a href="#_2-beginpath方法" class="header-anchor">#</a> 2 beginPath方法</h3> <p>stroke() 或 fill() 默认会对之前所有绘制的路径进行一个处理。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
     <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'canvas'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span> <span class="token punctuation">;</span>
     canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span> <span class="token punctuation">;</span>
     document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

     <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

     ctx<span class="token punctuation">.</span><span class="token function">rect</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

     ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">'#f00'</span><span class="token punctuation">;</span>
     ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">'#0f0'</span><span class="token punctuation">;</span>
     ctx<span class="token punctuation">.</span><span class="token function">rect</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><img src="https://qwq9527.gitee.io/resource/imgs/canvas/08.png" alt="1685002339809" style="zoom:50%;"> <p>当我们需要只对刚刚绘制的图形途径进行处理时</p> <p>就可以使用ctx.beginPath()方法，为不同部分的途径设置开关(设置分组)。</p> <p>此时就只对紧邻这组路径进行绘制。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'canvas'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span> <span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span> <span class="token punctuation">;</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">'#00f'</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">10</span> <span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">rect</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">'#f00'</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">'#0f0'</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">rect</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><img src="https://qwq9527.gitee.io/resource/imgs/canvas/06.png" alt="1685001902271" style="zoom:50%;"> <blockquote><p>一组路径可以有多个图形（线，弧，曲线，矩形等）。</p></blockquote> <blockquote><p>使用fillRect() , strokeRect()不会受影响。</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'canvas'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span> <span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span> <span class="token punctuation">;</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    ctx<span class="token punctuation">.</span><span class="token function">strokeRect</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">'#f00'</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><img src="https://qwq9527.gitee.io/resource/imgs/canvas/07.png" alt="1685001937272" style="zoom:50%;"> <h3 id="_3-绘制圆角矩形"><a href="#_3-绘制圆角矩形" class="header-anchor">#</a> 3 绘制圆角矩形</h3> <p>使用ctx.roundRect(x , y , width , height , r)方法绘制圆角矩形</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'canvas'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span> <span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span> <span class="token punctuation">;</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>


    <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">roundRect</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><img src="https://qwq9527.gitee.io/resource/imgs/canvas/09.png" alt="1685004581662" style="zoom:50%;"> <blockquote><p>r 有多种写法，可以实现四个圆角单独设置</p></blockquote> <p>r : 10 | [10]</p> <p>r : [10,20] 				<code>[top-left-and-bottom-right, top-right-and-bottom-left]</code></p> <p>r : [10 ,20 ,30]		  <code>[top-left, top-right-and-bottom-left, bottom-right]</code></p> <p>r : [10 , 20 ,30 ,40]</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'canvas'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span> <span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span> <span class="token punctuation">;</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>


    <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">roundRect</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    ctx<span class="token punctuation">.</span><span class="token function">roundRect</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    ctx<span class="token punctuation">.</span><span class="token function">roundRect</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    ctx<span class="token punctuation">.</span><span class="token function">roundRect</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">40</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><img src="https://qwq9527.gitee.io/resource/imgs/canvas/10.png" alt="1685004593217" style="zoom:50%;"> <h3 id="_4-绘制直线-折线"><a href="#_4-绘制直线-折线" class="header-anchor">#</a> 4 绘制直线&amp;折线</h3> <p>两天之间的连线：直线</p> <p>多个直线连接 : 折线</p> <p>使用ctx.moveTo(x,y) 将画笔放置到指定的坐标位置 (起始点)</p> <p>使用ctx.lineTo(x,y) 从上一个点绘制直线路径到指定的点。</p> <ul><li>上一个点可以是moveTo指定的点。</li> <li>上一个点也可以是上一次lineTo指定的点。也就是可以多个lineTo连续使用，形成折线。</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
     <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'canvas'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span> <span class="token punctuation">;</span>
     canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span> <span class="token punctuation">;</span>
     document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

     <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

     ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

     ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">'#00f'</span><span class="token punctuation">;</span>
     ctx<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">10</span> <span class="token punctuation">;</span>
     ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

 <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><img src="https://qwq9527.gitee.io/resource/imgs/canvas/11.png" alt="1685066450244" style="zoom:50%;"> <div class="language-java extra-class"><pre class="language-java"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token char">'canvas'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span> <span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span> <span class="token punctuation">;</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token char">'2d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><img src="https://qwq9527.gitee.io/resource/imgs/canvas/12.png" alt="1685066461055" style="zoom:50%;"> <h3 id="_5-线条api"><a href="#_5-线条api" class="header-anchor">#</a> 5 线条API</h3> <p><strong>ctx.lineWidth 属性， 设置线条粗细。</strong></p> <p><strong>ctx.lineCap 属性 ， 设置线条端点的样式 （连接点， 线帽）</strong></p> <ul><li>butt 平的 （默认，没有任何额外的效果）</li> <li>round 圆的 （端点处增加了半圆，视觉效果直线变长了）</li> <li>square 平的 （端点处增加了矩形，视觉效果上直线变长了）</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'canvas'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span> <span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span> <span class="token punctuation">;</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span><span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    ctx<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">10</span> <span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">'#00f'</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span>lineCap <span class="token operator">=</span><span class="token string">&quot;butt&quot;</span>
    ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span>lineCap <span class="token operator">=</span><span class="token string">&quot;round&quot;</span>
    ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span>lineCap <span class="token operator">=</span><span class="token string">&quot;square&quot;</span>
    ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">70</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span><span class="token number">70</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><img src="https://qwq9527.gitee.io/resource/imgs/canvas/13.png" alt="1685068655601" style="zoom:50%;"> <p><strong>ctx.lineJoin属性， 设置折线连接处的样式</strong></p> <ul><li>miter 尖的 （默认）</li> <li>round 圆的</li> <li>bevel 平的</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'canvas'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span> <span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span> <span class="token punctuation">;</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


    ctx<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">10</span> <span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span>lineJoin <span class="token operator">=</span> <span class="token string">&quot;miter&quot;</span>
    ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">'#00f'</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">,</span><span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    ctx<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">10</span> <span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span>lineJoin <span class="token operator">=</span> <span class="token string">&quot;round&quot;</span>
    ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">'#00f'</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    ctx<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">10</span> <span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span>lineJoin <span class="token operator">=</span> <span class="token string">&quot;bevel&quot;</span>
    ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">'#00f'</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">,</span><span class="token number">250</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span><span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><img src="https://qwq9527.gitee.io/resource/imgs/canvas/14.png" alt="1685068692898" style="zoom:50%;"> <p><strong>ctx.miterLimit 属性， 限制折线形成的尖角长短。</strong></p> <ul><li>当线条比较粗， 折线夹角比较小的时候，lineJoin的miter设置形成的尖会比较长</li> <li>可以利用该属性来控制尖角的长短</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'canvas'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span> <span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span> <span class="token punctuation">;</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    ctx<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">30</span> <span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span>lineJoin <span class="token operator">=</span> <span class="token string">&quot;miter&quot;</span>
    ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">'#00f'</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span>miterLimit <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">110</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span>miterLimit <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">180</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">210</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><img src="https://qwq9527.gitee.io/resource/imgs/canvas/15.png" alt="1685070325781" style="zoom:50%;"> <p><strong>ctx.setLineDash( array ) 方法 ，设置虚线</strong></p> <p>array中可以放置多个数值。 分别表示线段的长度 和 线段间留白的长度。</p> <ul><li><p>array = [10]  线段长度 和 留白的长度都是 10</p></li> <li><p>array = [20,10] 线段的长度(20) 和 留白的长度(10)分别设置</p></li> <li><p>array = [10,20,30]   按照数组的数列，无限的延续下去</p> <p>线段10  留白20 线段30 留白10 线段20 留白30 线段10 留白20  ....</p> <p>[10,20,30,10,20,30,10,20,30,10,20,30,.....]</p></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'canvas'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span> <span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span> <span class="token punctuation">;</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


    ctx<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">10</span> <span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">'#00f'</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">setLineDash</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">setLineDash</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">setLineDash</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">40</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span><span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><img src="https://qwq9527.gitee.io/resource/imgs/canvas/16.png" alt="1685073265356" style="zoom:50%;"> <p><strong>ctx.lineDashOffset 属性 设置虚线起始位置的偏移</strong></p> <ul><li>正数值， 向左偏移</li> <li>负数值，向右偏移</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'canvas'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span> <span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span> <span class="token punctuation">;</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">190</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    ctx<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">10</span> <span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">'#00f'</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">setLineDash</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">40</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">setLineDash</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">40</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span>lineDashOffset <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">20</span> <span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">setLineDash</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">40</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span>lineDashOffset <span class="token operator">=</span> <span class="token number">20</span> <span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span><span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><img src="https://qwq9527.gitee.io/resource/imgs/canvas/17.png" alt="1685073356644" style="zoom:50%;"> <h3 id="_6-清除画布"><a href="#_6-清除画布" class="header-anchor">#</a> 6 清除画布</h3> <p>大多数情况下，当canvas配合js动画，实现动画效果时</p> <p>默认每一次都是在之前的基础上进行绘制</p> <p>所以应该清除上一次的绘画效果，重新绘制。</p> <p>使用ctx.clearRect( x , y , width ,height )方法，清除画布中的指定矩形区域</p> <ul><li>如果width 和 height 等于画布宽高，就相当于清除整个画布，否则清除画布的一部分。</li></ul> <blockquote><p>清除画布的本质就是将指定的矩形区域，设置透明度为0，之前的路径依然存在。</p> <p>绘制新路径时需要配合beginPath()，否则stroke() 或 fill() 时之前的清除效果重现。</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'canvas'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span> <span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span> <span class="token punctuation">;</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    ctx<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">10</span> <span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    ctx<span class="token punctuation">.</span><span class="token function">clearRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">400</span><span class="token punctuation">,</span><span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      
</code></pre></div><ul><li>绘制横线</li> <li>清除画布</li> <li>绘制竖线</li> <li>如果没有beginPath()，绘制竖线的时候，之前的横线也会出现。</li> <li>如果有beginPath(),只会绘制竖线，之前的横线不会重新绘制。实现永久擦除效果。</li></ul> <img src="https://qwq9527.gitee.io/resource/imgs/canvas/18.png" alt="1685081951801" style="zoom:50%;"> <h3 id="_7-虚线小动画"><a href="#_7-虚线小动画" class="header-anchor">#</a> 7 虚线小动画</h3> <iframe src="https://qwq9527.gitee.io/resource/imgs/canvas/01.html" height="250"></iframe> 
### 8 closePath方法
<p>多个连续线条合围的区域，是可以使用fill()进行填充的。</p> <p>如果需要首尾节点自动闭合，可以使用ctx.closePath()方法</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'canvas'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span> <span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span> <span class="token punctuation">;</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    ctx<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">10</span> <span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">'#fac'</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//ctx.lineTo(100,100); 手动闭合</span>
    ctx<span class="token punctuation">.</span><span class="token function">closePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><img src="https://qwq9527.gitee.io/resource/imgs/canvas/19.png" alt="1685083992942" style="zoom:50%;"> <h3 id="_9-绘制圆弧"><a href="#_9-绘制圆弧" class="header-anchor">#</a> 9 绘制圆弧</h3> <p><strong>arc( x , y , r , startAngle , endAngle , [dir])</strong></p> <ul><li><p>x y 圆点坐标</p></li> <li><p>r 半径</p></li> <li><p>startAngle 起始绘制的角度。 默认圆点x轴右侧半径位置为绘制的起始点(0度点,3点钟方向)。</p> <p>角度方向是顺时针的。</p></li> <li><p>endAngle 结束点的角度</p></li> <li><p>dir 绘制方向。 false顺时针(默认) ， true逆时针方向。</p></li></ul> <blockquote><p>设计圆弧时，用的是角度。 传递参数时，传递的是弧度。</p> <p>1(角度) = Math.PI / 180 (弧度)</p> <p>360(角度) = Math.PI * 2</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
     <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'canvas'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span> <span class="token punctuation">;</span>
     canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span> <span class="token punctuation">;</span>
     document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

     <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

     ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>
     ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

     ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

     ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">300</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">,</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><img src="https://qwq9527.gitee.io/resource/imgs/canvas/20.png" alt="1685085937052" style="zoom:50%;"> <p><strong>arcTo( x1 , y1 , x2 , y2 , r)</strong></p> <p>是由3个控制点实现圆弧的绘制</p> <ul><li><p>moveTo 或上一次图形结束的点， 为第一个点。</p></li> <li><p>x1 , y1 第二个点</p></li> <li><p>x2 , y2 第三个点</p></li> <li><p>按照1 ， 2  ， 3顺序 进行连线 。 两条线会形成一个夹角。</p></li> <li><p>根据r绘制圆弧，保证与两个线条相切。</p></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
     <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'canvas'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span> <span class="token punctuation">;</span>
     canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span> <span class="token punctuation">;</span>
     document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

     <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

     ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span><span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

     ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

     ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     ctx<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">4</span> <span class="token punctuation">;</span>
     ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">'#00f'</span><span class="token punctuation">;</span>
     ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     ctx<span class="token punctuation">.</span><span class="token function">arcTo</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">300</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">300</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

 <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><img src="https://qwq9527.gitee.io/resource/imgs/canvas/21.png" alt="1685087269681" style="zoom:50%;"> <h3 id="_10-绘制椭圆"><a href="#_10-绘制椭圆" class="header-anchor">#</a> 10 绘制椭圆</h3> <p>使用ctx.ellipse( x , y , rx , ry , rotate , startAngle , endAngle , dir )方法绘制椭圆</p> <ul><li>x y 圆点坐标</li> <li>rx , ry  x轴半径 和  y轴半径</li> <li>rotate x轴旋转角度(顺时针方向)</li> <li>startAngle 起始点角度 默认0度 ， 三点钟方向</li> <li>endAngle 终点角度</li> <li>dir 绘制方向。 false 顺时针， true 逆时针</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'canvas'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span> <span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span> <span class="token punctuation">;</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">4</span> <span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">'#00f'</span><span class="token punctuation">;</span>

    ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">ellipse</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">ellipse</span><span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">ellipse</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">300</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">,</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><img src="https://qwq9527.gitee.io/resource/imgs/canvas/22.png" alt="1685087968136" style="zoom:50%;"> <h3 id="_11-绘制曲线"><a href="#_11-绘制曲线" class="header-anchor">#</a> 11 绘制曲线</h3> <p>canvas提供了一种绘制曲线的方式：贝塞尔曲线。</p> <p>二次贝塞尔曲线 和 三次贝塞尔曲线。</p> <ul><li><p>有一个起点和终点</p></li> <li><p>在两点中间，有多个控制点。</p> <ul><li>有一个控制点，称为二次贝塞尔曲线</li> <li>有两个控制点，称为三次贝塞尔曲线</li></ul></li> <li><p>从起点，经过控制点，到终点 依次连线</p></li> <li><p>提供一个参数t  在[0-1]范围内变化</p></li> <li><p>每一个t都存在一下情况：</p> <ul><li>在任意线段中，从起点到终点，存在一个中间点，使得前部分线段/整条线段 = t</li> <li>对每条线段的这些点，再一次连接，形成了一批新的线段(比之前一批少一条)。</li> <li>在新的一批线段中，依然存在符合比例t的那个点</li> <li>重复之前连线，找点的操作。</li> <li>直到找到最后一个点。就是此贝塞尔曲线，在当前比例t时，曲线的点。</li></ul></li> <li><p>当t在0-1范围变化时，每次都会有一个这样的点，这些线点连接后就形成了贝塞尔曲线。</p></li></ul> <img src="https://qwq9527.gitee.io/resource/imgs/canvas/23.png" alt="1685089893213" style="zoom:50%;"> <p><img src="https://qwq9527.gitee.io/resource/imgs/canvas/24.gif" alt="2"> <img src="https://qwq9527.gitee.io/resource/imgs/canvas/25.gif" alt="3"></p> <p><strong>使用ctx.quadraticCurveTo( cx1 , cy1 , ex , ey)方法绘制二次贝塞尔曲线</strong></p> <ul><li>cx1 , cy1 控制点坐标</li> <li>ex , ey 终点坐标</li> <li>起点的坐标是moveTo设置，或者是上一次绘图的结尾。</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'canvas'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span> <span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span> <span class="token punctuation">;</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">'#f00'</span>
    ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">quadraticCurveTo</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">250</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p>移动控制点，可以改变曲线的形状</p></blockquote> <img src="https://qwq9527.gitee.io/resource/imgs/canvas/26.png" alt="1685090942767" style="zoom:50%;"> <p><strong>使用bezierCurveTo(cx1,cy1 , cx2 , cy2 , ex , ey)方法绘制三次贝塞尔曲线</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
     <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'canvas'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span> <span class="token punctuation">;</span>
     canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span> <span class="token punctuation">;</span>
     document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

     <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

     ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">'#f00'</span>
     ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">300</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

     ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     ctx<span class="token punctuation">.</span><span class="token function">bezierCurveTo</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">300</span><span class="token punctuation">,</span><span class="token number">250</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

 <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><img src="https://qwq9527.gitee.io/resource/imgs/canvas/27.png" alt="1685090974292" style="zoom:50%;"> <h3 id="_12-绘制文本"><a href="#_12-绘制文本" class="header-anchor">#</a> 12 绘制文本</h3> <p>使用 ctx.fillText( textStr , x , y [, maxWidth] ) 方法， 绘制填充文本</p> <p>使用 ctx.strokeText() 方法， 绘制描边文本（镂空）</p> <ul><li>textStr 文本内容</li> <li>x , y 文本位置(坐标)</li> <li>maxWidth (可选) 设置文本最大宽度。 如果文本宽度 &gt; 最大宽度 就会放缩， 压缩在maxWidth范围内</li></ul> <p>使用 ctx.font 属性 ，设置文本样式 （粗体 ， 斜体， 大小， 字体）</p> <blockquote><p>必须设置字体 ， 否则其他样式无效。</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
     <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
     canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
     document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

     <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

     ctx<span class="token punctuation">.</span>font <span class="token operator">=</span> <span class="token string">' bold italic 40px sans-serif'</span> <span class="token punctuation">;</span>
     ctx<span class="token punctuation">.</span><span class="token function">fillText</span><span class="token punctuation">(</span><span class="token string">&quot;DMC&quot;</span> <span class="token punctuation">,</span> <span class="token number">200</span> <span class="token punctuation">,</span> <span class="token number">200</span> <span class="token punctuation">)</span> <span class="token punctuation">;</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    ctx<span class="token punctuation">.</span>font <span class="token operator">=</span> <span class="token string">' bold italic 80px sans-serif'</span> <span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">strokeText</span><span class="token punctuation">(</span><span class="token string">&quot;DMC&quot;</span> <span class="token punctuation">,</span> <span class="token number">200</span> <span class="token punctuation">,</span> <span class="token number">200</span> <span class="token punctuation">,</span><span class="token number">500</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><img src="https://qwq9527.gitee.io/resource/imgs/canvas/28.png" alt="1685330893994" style="zoom:50%;"> <p>使用 ctx.textAlign属性， 设置基于锚点水平位置  （left， center， right）</p> <p>使用 ctx.textBaseline属性 ， 设置基于锚点的垂直位置 （bottom ，middle ， top）</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    ctx<span class="token punctuation">.</span>textAlign <span class="token operator">=</span> <span class="token string">'center'</span> <span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span>font <span class="token operator">=</span> <span class="token string">'80px sans-serif'</span> <span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span>textBaseline <span class="token operator">=</span> <span class="token string">&quot;middle&quot;</span> <span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">strokeText</span><span class="token punctuation">(</span><span class="token string">&quot;DMC&quot;</span> <span class="token punctuation">,</span> <span class="token number">200</span> <span class="token punctuation">,</span> <span class="token number">200</span> <span class="token punctuation">,</span><span class="token number">500</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>

    <span class="token keyword">const</span> obj <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">measureText</span><span class="token punctuation">(</span><span class="token string">'DMC'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>

    ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">'#f00'</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">0</span> <span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><img src="https://qwq9527.gitee.io/resource/imgs/canvas/29.png" alt="1685330959934" style="zoom:50%;"> <h2 id="四-使用图像"><a href="#四-使用图像" class="header-anchor">#</a> 四 使用图像</h2> <p>在canvas中引入其他的图片。</p> <h3 id="_1-基本使用"><a href="#_1-基本使用" class="header-anchor">#</a> 1 基本使用</h3> <p>需要有一个图片源</p> <ul><li>Image对象  对应img标签。
<ul><li>可以是图片的路径</li> <li>图片的base64表示</li></ul></li> <li>video对象</li> <li>canvas</li></ul> <p>使用 ctx.drawImage() 方法 ，引入图片。</p> <ul><li><p><code>ctx.drawImage(imgSource , x , y)</code></p> <p>x , y 在canvas画布中放置的起始坐标位置。</p> <p>会按照图像原大小展示。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>ctx<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span>img<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ul> <img src="https://qwq9527.gitee.io/resource/imgs/canvas/30.png" alt="1685430824898" style="zoom:50%;"> <ul><li><p><code>ctx.drawImage(imgSource , x , y , width , height)</code></p> <p>width 和 height 图像展示的大小 （缩放处理）</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>ctx<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span>img<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">90</span><span class="token punctuation">,</span><span class="token number">400</span><span class="token punctuation">,</span><span class="token number">220</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ul> <img src="https://qwq9527.gitee.io/resource/imgs/canvas/31.png" alt="1685430845953" style="zoom:50%;"> <ul><li><p><code>ctx.drawImage(imgSource,x1 , y1 , w1 , h1 , x2 , y2 , w2 , h2)</code></p> <p>x1 y1 w1 h1 区域是图像的截图区域。 此时基于图像的坐标系</p> <p>x2 y2 w2 h2 区域是画布展示区域</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>ctx<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span>img <span class="token punctuation">,</span><span class="token number">44</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span>img<span class="token punctuation">.</span>height <span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">400</span><span class="token operator">-</span>img<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span>img<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><img src="https://qwq9527.gitee.io/resource/imgs/canvas/32.png" alt="1685430915240" style="zoom:50%;"></li></ul> <blockquote><p>使用图片源时，要确保图片加载完成， 建议在img.onload事件中使用图片源</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> img <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
img<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">'../imgs/01.png'</span> <span class="token punctuation">;</span>
img<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    ctx<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span>img<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_2-图像与动画"><a href="#_2-图像与动画" class="header-anchor">#</a> 2 图像与动画</h3> <iframe src="https://qwq9527.gitee.io/resource/imgs/canvas/02.html" height="250"></iframe>
### 3 视频图像
<p>在视频播放中， 抓取当前帧作为图像，引入canvas。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>video</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>../imgs/01.mp4<span class="token punctuation">&quot;</span></span> <span class="token attr-name">controls</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>400<span class="token punctuation">&quot;</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>400<span class="token punctuation">&quot;</span></span> <span class="token attr-name">muted</span> <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>video</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span>
    (() =&gt; {
        const canvas = document.createElement(&quot;canvas&quot;);
        canvas.width = 400;
        canvas.height = 400;
        document.body.append(canvas);

        const ctx = canvas.getContext('2d');

        const video = document.querySelector('video');
        video.addEventListener('play',function(){
            draw();
        })



        ctx.arc(200,200,150,0,Math.PI*2);
        //ctx.filter = &quot;blur(5px)&quot;;
        //ctx.filter = 'invert(0.8)';
        //ctx.clip();
        function draw(){
            ctx.clearRect(0,0,400,400);
            ctx.drawImage(video,0,0,400,400);
            requestAnimationFrame(draw);
        }

    })();
</code></pre></div><img src="https://qwq9527.gitee.io/resource/imgs/canvas/33.png" alt="1685437746459" style="zoom:50%;"> <h3 id="_4-引入canvas图像"><a href="#_4-引入canvas图像" class="header-anchor">#</a> 4 引入Canvas图像</h3> <p>canvas本身也是一个图像， 也可以作为图像源，引入另一个canvas画布。</p> <img src="https://qwq9527.gitee.io/resource/imgs/canvas/34.png" alt="1685501783198" style="zoom:50%;"> <p>canvas画布可以下载</p> <ul><li>右键另存</li> <li>编程式下载</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
     <span class="token keyword">const</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>
     btn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
         <span class="token keyword">const</span> url <span class="token operator">=</span> canvas1<span class="token punctuation">.</span><span class="token function">toDataURL</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token keyword">const</span> a <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         a<span class="token punctuation">.</span>href <span class="token operator">=</span> url <span class="token punctuation">;</span>
         a<span class="token punctuation">.</span>download <span class="token operator">=</span> <span class="token string">'canvas画布'</span> <span class="token punctuation">;</span>
         a<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p>toDataURL()默认生成 png格式， 可以通过传参指定图片格式</p> <p><code>toDataURL('image/jpeg')</code></p></blockquote> <blockquote><p>如果canvas中的图像来自于其他路径的图像源（img ， video），可能存在同源问题 ， 画布被污染。</p> <p>设置同源策略 <code>img.crossOrigin = 'anonymous';</code></p> <p>服务器启动</p></blockquote> <h3 id="_5-图像像素处理"><a href="#_5-图像像素处理" class="header-anchor">#</a> 5 图像像素处理</h3> <p>ImageData对象。 包含了某一个区域内的像素值</p> <ul><li><p>imageData.width</p></li> <li><p>imageData.height</p></li> <li><p>imageData.data  array  包含区域内所有的像素值 (rgba值)</p> <p>array 是一个一维数组， 每4个位置表示一个像素值</p> <p>(x,y)像素的值为</p> <div class="language-text extra-class"><pre class="language-text"><code>(imageData.width * 4) * y + x * 4 + 0/1/2/3
</code></pre></div><img src="https://qwq9527.gitee.io/resource/imgs/canvas/35.png" alt="1685513596358" style="zoom:50%;"></li></ul> <p>使用 ctx.getImageData(x , y , width , height) 获得画布中指定区域的ImageData对象 （像素值）</p> <ul><li>获得ImageData对象后，就可以通过其获得每一个像素的值，也可以设置每一个像素的值</li> <li>设置之后不会默认生效，还需要重新设置画布的ImageData</li></ul> <p>使用 ctx.putImageData(imageData,x,y) 重新设置画布指定区域的像素值（灰度设置，反色设置等）</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> img <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    img<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">'../imgs/01.png'</span><span class="token punctuation">;</span>
    img<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        ctx<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span>img<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


        <span class="token keyword">const</span> imageData <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">getImageData</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">400</span><span class="token punctuation">,</span><span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>imageData<span class="token punctuation">.</span>data<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">+=</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">const</span> r <span class="token operator">=</span> imageData<span class="token punctuation">.</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">const</span> g <span class="token operator">=</span> imageData<span class="token punctuation">.</span>data<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">const</span> b <span class="token operator">=</span> imageData<span class="token punctuation">.</span>data<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">const</span> a <span class="token operator">=</span> imageData<span class="token punctuation">.</span>data<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

            <span class="token keyword">const</span> avg <span class="token operator">=</span> <span class="token punctuation">(</span>r<span class="token operator">+</span>g<span class="token operator">+</span>b<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">3</span> <span class="token punctuation">;</span>

            imageData<span class="token punctuation">.</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> avg <span class="token punctuation">;</span>
            imageData<span class="token punctuation">.</span>data<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> avg <span class="token punctuation">;</span>
            imageData<span class="token punctuation">.</span>data<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> avg <span class="token punctuation">;</span>

        <span class="token punctuation">}</span>
        ctx<span class="token punctuation">.</span><span class="token function">putImageData</span><span class="token punctuation">(</span>imageData<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><img src="https://qwq9527.gitee.io/resource/imgs/canvas/36.png" alt="1685513684366" style="zoom:100%;"> <blockquote><p>使用外部图像没有问题，但要通过ImageData对其进一步处理时，会存在跨域问题</p> <p>使用服务器模式启动即可。</p> <p>如果还是无效，可以设置img.cross-origin=&quot;anonymous&quot;</p></blockquote> <h3 id="_6-图像填充"><a href="#_6-图像填充" class="header-anchor">#</a> 6 图像填充</h3> <p>可以将引入图像作为填充背景 ， 也可以是描边背景。</p> <p>图像源可以有多种 ： img , canvas , video , . . .</p> <p>使用 ctx.createPattern(imgSource , repetition) 方法，创建一个图案对象。（CanvasPattern）</p> <ul><li>imgSource 图像源</li> <li>repetition 重复机制  repeat, repeat-x , repeat-y ,no-repeat</li></ul> <p>设置 ctx.fillStyle = pattern  或  ctx.strokeStyle = pattern</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> bgCanvas <span class="token punctuation">;</span>
<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    bgCanvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    bgCanvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span>
    bgCanvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>bgCanvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> ctx <span class="token operator">=</span> bgCanvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//绘制一个菱形</span>
    ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">closePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> img <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>
    img<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">'../imgs/03.png'</span><span class="token punctuation">;</span>
    img<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

        <span class="token keyword">const</span> pattern <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">createPattern</span><span class="token punctuation">(</span>img<span class="token punctuation">,</span><span class="token string">'repeat'</span><span class="token punctuation">)</span>
        <span class="token keyword">const</span> pattern2 <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">createPattern</span><span class="token punctuation">(</span>bgCanvas<span class="token punctuation">,</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        ctx<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">30</span> <span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> pattern2 <span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> pattern <span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span><span class="token function">rect</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">330</span><span class="token punctuation">,</span><span class="token number">330</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span> 

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><img src="https://qwq9527.gitee.io/resource/imgs/canvas/37.png" alt="1685520321897" style="zoom:50%;"> <blockquote><p>图案平铺的样式，都是基于画布坐标系的原点开始计算的。</p> <p>所以在横向平铺，纵向平铺和不平铺的情况下，有可能画布中央的图形无法显示效果。</p></blockquote> <h2 id="五-图像裁剪"><a href="#五-图像裁剪" class="header-anchor">#</a> 五 图像裁剪</h2> <p>使用 ctx.clip() 方法 设置裁剪路径， 接下来绘制的图形只会在裁剪路径中展示。（对之前绘制的图形没有影响）</p> <blockquote><p>clip方法只表示裁剪，按照什么路径裁剪呢？ 按照clip()上面绘制的路径</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> img <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    img<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">'../imgs/04.png'</span><span class="token punctuation">;</span>
    img<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token comment">//设置裁剪路径</span>
        ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span><span class="token function">clip</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//裁剪的图形</span>
        ctx<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span>img<span class="token punctuation">,</span><span class="token number">200</span><span class="token operator">-</span>img<span class="token punctuation">.</span>width<span class="token operator">/</span><span class="token number">2</span> <span class="token punctuation">,</span> <span class="token number">200</span><span class="token operator">-</span>img<span class="token punctuation">.</span>height<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><img src="https://qwq9527.gitee.io/resource/imgs/canvas/38.png" alt="1685588341702" style="zoom:50%;"> <blockquote><p>clip方法还可以传递一个参数 (rule)</p> <ul><li>nonzero : 默认值 非零环绕路径</li> <li>evenodd：奇偶环绕路径</li></ul></blockquote> <p>在绘制裁剪路径的时候，有些路径区域可能会被重复包含。</p> <p><strong>非零环绕：</strong>  顺时针绘制经过路径区域，数量+1 ， 逆时针绘制经过路径，数量-1.</p> <p>​					 路径区域最终经过的数量为0，就不裁剪(不可见）</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">strokeRect</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//顺时针</span>
    ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">80</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//逆时针</span>
    ctx<span class="token punctuation">.</span><span class="token function">clip</span><span class="token punctuation">(</span><span class="token string">'nonzero'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><img src="https://qwq9527.gitee.io/resource/imgs/canvas/39.png" alt="1685588644661" style="zoom:50%;"> <p>**奇偶环绕：**不分顺时针和逆时针，只要绘制路径经过区域，数量+1， 最终奇数裁剪(可见)，偶数不裁剪(不可见)。</p> <img src="https://qwq9527.gitee.io/resource/imgs/canvas/40.png" alt="1685588781520" style="zoom:50%;"> <h2 id="六-图像合成"><a href="#六-图像合成" class="header-anchor">#</a> 六 图像合成</h2> <p>将前后图形合成一个图形</p> <p>使用 ctx.globalCompositeOperation 属性 设置合成机制。</p> <p>需要在前后两个图形中间设置。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//前(原)图形</span>
    ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">'#f00'</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    ctx<span class="token punctuation">.</span>globalCompositeOperation <span class="token operator">=</span> <span class="token string">'???'</span>
	
    <span class="token comment">//后(新)图形</span>
    ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">'#0f0'</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">,</span><span class="token number">150</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_1-路径-形状-合成"><a href="#_1-路径-形状-合成" class="header-anchor">#</a> 1 路径(形状)合成</h3> <p>source-over : （默认）前后图形都展示， 重叠部分展示后面的图形。</p> <p>source-in : 只展示后面的图形，展示与前面图形重叠的部分。</p> <p>source-out：只展示后面的图形， 展示与前面图形不重叠的部分</p> <p>source-atop: 展示前面的图形 和  后面的图形只展示与前面图形重叠的部分。</p> <p>destination-系列(over,in,out,atop)   上述合成特点， 前后图形交换。</p> <ul><li>以destination-over 为例， 前面的图形，覆盖在后面的图形上。</li></ul> <p>copy 后面图形的覆盖前面的图形 （前面的图形没了）</p> <p>xor 展示前后两个图形非重叠的部分</p> <img src="https://qwq9527.gitee.io/resource/imgs/canvas/41.png" alt="1685592301532" style="zoom:50%;"> <img src="https://qwq9527.gitee.io/resource/imgs/canvas/42.png" alt="1685592421491" style="zoom:50%;"> <img src="https://qwq9527.gitee.io/resource/imgs/canvas/43.png" alt="1685592502213" style="zoom:50%;"> <h3 id="_2-颜色合成"><a href="#_2-颜色合成" class="header-anchor">#</a> 2 颜色合成</h3> <p>关注的是颜色的混合， 图形的形状没有变化。</p> <p>lighter 重叠部分的颜色相加</p> <p>multiply 整体偏暗</p> <p>screen 整体偏亮</p> <p>darken 同一个像素的颜色， 取暗色，整体偏暗</p> <p>lighten 同一个像素的颜色， 去亮色，整体偏亮</p> <img src="https://qwq9527.gitee.io/resource/imgs/canvas/44.png" alt="1685592591747" style="zoom:50%;"> <h3 id="_3-刮刮乐效果"><a href="#_3-刮刮乐效果" class="header-anchor">#</a> 3 刮刮乐效果</h3> <h2 id="七-颜色渐变"><a href="#七-颜色渐变" class="header-anchor">#</a> 七 颜色渐变</h2> <h3 id="_1-线性渐变"><a href="#_1-线性渐变" class="header-anchor">#</a> 1 线性渐变</h3> <p>使用 ctx.createLinearGradient( x0 , y0 , x1 , y1) 方法创建一个线性渐变的对象 CanvasGradient</p> <ul><li><p>x0,y0  和 x1,y1 是两个点， 会按照两点的连线方向渐变 (横向，纵向，斜向)</p></li> <li><p>注意：渐变中的两个点是基于坐标系的，需要考虑渐变区域与图形区域关系</p></li></ul> <p>使用gradient.addColorStop(% , color) 方法设置渐变过程中每一部分的颜色。</p> <p>设置 ctx.fillStyle = gradient , ctx.strokeStyle = gradient ;</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> gradient <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">createLinearGradient</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">400</span><span class="token punctuation">,</span><span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
gradient<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">'#f00'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
gradient<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span><span class="token string">'#0f0'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
gradient<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'#00f'</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>
ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> gradient<span class="token punctuation">;</span>
</code></pre></div><blockquote><p>如果渐变区域与图形区域相同，则显示完整渐变效果</p> <p>如果渐变区域比图形区域大，则图形显示对应区域的渐变效果</p> <p>如果渐变区域比图形区域小， 图形范围的两侧就是渐变两侧的颜色。</p></blockquote> <img src="https://qwq9527.gitee.io/resource/imgs/canvas/45.png" alt="1685610796218" style="zoom:50%;"> <h3 id="_2-径向渐变"><a href="#_2-径向渐变" class="header-anchor">#</a> 2 径向渐变</h3> <p>使用 ctx.createRadialGradient(x1 , y1 , r1 , x2 ,y2 , r2) 方法，创建径向渐变对象</p> <ul><li><p>x1,y1, r1 表示渐变开始的圆</p></li> <li><p>x2,y2,r2 表示渐变结束的圆</p></li> <li><p>注意：一般都是一个大圆，一个小圆才会有效果</p> <p>​			小圆一定要在大圆内，否则会出现意想不到的效果。</p></li> <li><p>注意：小圆以里， 大圆以外的范围就是渐变的两端的颜色</p></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


    <span class="token keyword">const</span> gradient <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">createRadialGradient</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    gradient<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">'#f00'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    gradient<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'#ff0'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> gradient <span class="token punctuation">;</span>

    ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><img src="https://qwq9527.gitee.io/resource/imgs/canvas/46.png" alt="1685612171636" style="zoom:50%;"> <h3 id="_3-锥形渐变"><a href="#_3-锥形渐变" class="header-anchor">#</a> 3 锥形渐变</h3> <p>使用 ctx.createConicGradient(angle,x , y ) 方法 创建一个锥形渐变对象</p> <ul><li><p>x y 圆心点</p></li> <li><p>angle起始角度， 默认0°角是三点钟方向。   angle = 90°  从六点钟方向开始旋转。</p></li> <li><p>注意：angle传参时使用的是角度对应的弧度值。</p></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> gradient <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">createConicGradient</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>
    gradient<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">'#f00'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    gradient<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0.25</span><span class="token punctuation">,</span><span class="token string">'#ff0'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    gradient<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span><span class="token string">'#0f0'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    gradient<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0.75</span><span class="token punctuation">,</span><span class="token string">'#0ff'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    gradient<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'#00f'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> gradient <span class="token punctuation">;</span>

    ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">'#fff'</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">60</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><img src="https://qwq9527.gitee.io/resource/imgs/canvas/47.png" alt="1685613069138" style="zoom:50%;"> <h2 id="八-图形阴影"><a href="#八-图形阴影" class="header-anchor">#</a> 八 图形阴影</h2> <p>ctx.shadowBlur 设置模糊程度， 数字越大，越模糊</p> <p>ctx.shadowColor 设置阴影颜色</p> <p>ctx.shadowOffsetX , ctx.shadowOffsetY 设置阴影的偏移量</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    ctx<span class="token punctuation">.</span>shadowColor <span class="token operator">=</span> <span class="token string">'#ff0'</span> <span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span>shadowBlur <span class="token operator">=</span> <span class="token number">100</span> <span class="token punctuation">;</span>

    ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">'#f00'</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><img src="https://qwq9527.gitee.io/resource/imgs/canvas/48.png" alt="1685690368804" style="zoom:50%;"> <h2 id="九-滤镜"><a href="#九-滤镜" class="header-anchor">#</a> 九 滤镜</h2> <p>使用 ctx.filter 属性，设置一个或多个滤镜</p> <p>ctx.filter = 'blur(10px)'  设置模糊，值越大，模糊效果越明显。</p> <p>ctx.filter = 'brightness(%)';  设置亮度， 1原样， &lt; 1变暗， &gt;1 变亮</p> <p>ctx.filter = 'contrast(%)';    设置对比度，1 原样， &lt; 1 颜色接近， &gt;1 颜色鲜明</p> <p>ctx.filter = 'saturate(%)'; 	设置饱和度，1原样， &lt; 1 变灰， &gt; 1 颜色鲜明</p> <p>ctx.filter = 'grayscale(%)';    设置灰度，0 原样， 1 变灰</p> <p>ctx.filter = 'sepia(1)';    1 怀旧风格（深褐色） 0 原样</p> <p>ctx.filter = 'invert(1)';   设置反色，0 原样  1 颜色取反 0.5 灰色</p> <p>ctx.filter = 'drop-shadow(x y blur color)';   设置阴影    x , y , blur 都需要带px单位。</p> <p>ctx.filter = 'hue-rotate(180deg)';  设置色调</p> <p>ctx.filter = 'hue-rotate(180deg) contrast(0.5)'  使用多个滤镜</p> <p>ctx.filter = 'url(svgFilterID)'  引用svg滤镜。</p> <img src="https://qwq9527.gitee.io/resource/imgs/canvas/49.png" alt="1685698571416" style="zoom:50%;"> <h2 id="十-图像变换"><a href="#十-图像变换" class="header-anchor">#</a> 十 图像变换</h2> <p>就是对图形进行一个移动，旋转，放缩，矩阵斜切。</p> <h3 id="_1-图形移动"><a href="#_1-图形移动" class="header-anchor">#</a> 1 图形移动</h3> <p>移动不是动画， 只是视觉位置上的变化</p> <p>使用 ctx.translate( x , y ) 方法实现图形位置的移动</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
     <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
     canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
     document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

     <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

     ctx<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

     ctx<span class="token punctuation">.</span><span class="token function">rect</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

 <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><img src="https://qwq9527.gitee.io/resource/imgs/canvas/50.png" alt="1685932448311" style="zoom:50%;"> <blockquote><p>这里实际移动的并不是指定的图形，而是坐标系。</p> <p>对于之前已经绘制过的图形没有影响。</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//基于原坐标系绘制的图形</span>
    <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>

    ctx<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//绘制坐标系</span>
    ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">400</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i<span class="token operator">=</span><span class="token operator">-</span><span class="token number">400</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span><span class="token number">400</span><span class="token punctuation">;</span>i<span class="token operator">+=</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//新坐标系中绘制图形</span>
    ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><img src="https://qwq9527.gitee.io/resource/imgs/canvas/51.png" alt="1685932503158" style="zoom:50%;"> <h3 id="_2-图形放缩"><a href="#_2-图形放缩" class="header-anchor">#</a> 2 图形放缩</h3> <p>本质是对坐标系横纵坐标的放缩</p> <p>使用ctx.scale(xRatio , yRatio) 方法设置横纵坐标的放缩比例</p> <ul><li><code>0&lt; ratio &lt;1</code> 缩小</li> <li><code>1 &lt; ratio</code> 放大</li> <li>负数 坐标系方向发生反转。</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//坐标系很坐标放大2倍</span>
ctx<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ctx<span class="token punctuation">.</span><span class="token function">scale</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//纵坐标系反转，构建数学坐标系</span>
ctx<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ctx<span class="token punctuation">.</span><span class="token function">scale</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><img src="https://qwq9527.gitee.io/resource/imgs/canvas/52.png" alt="1685934691265" style="zoom:50%;"> <h3 id="_3-图像旋转"><a href="#_3-图像旋转" class="header-anchor">#</a> 3 图像旋转</h3> <p>使用ctx.rotate(angle) 方法设置顺时针旋转的角度。</p> <blockquote><p>逻辑上传递的是角度， 语法上要求传递是弧度。</p></blockquote> <div class="language-java extra-class"><pre class="language-java"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token char">'#f00'</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">setLineDash</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">strokeRect</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//变化坐标系</span>
    ctx<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span><span class="token number">125</span><span class="token punctuation">,</span><span class="token number">125</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">rotate</span><span class="token punctuation">(</span><span class="token number">45</span> <span class="token operator">*</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">/</span> <span class="token number">180</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>

    <span class="token comment">//坐标系中绘制图形</span>
    ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">25</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">25</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><img src="https://qwq9527.gitee.io/resource/imgs/canvas/53.png" alt="1685936072509" style="zoom:50%;"> <blockquote><p>移动与旋转的设置顺序不同，最终的效果也不相同。</p></blockquote> <h3 id="_4-矩阵变换"><a href="#_4-矩阵变换" class="header-anchor">#</a> 4 矩阵变换</h3> <p>canvas没有提供斜切方法，可以利用矩阵变换来实现。</p> <p>矩阵变换又可以实现所有的图形变换（平移，放缩，旋转，斜切）</p> <p><strong>矩阵变换机制</strong></p> <p>所谓的变换就是将原坐标按照一定的变换公式(逻辑)，变换成一个新坐标。</p> <p><code>( x , y ) --- 矩阵 --- (x' , y')</code></p> <p>使用齐次坐标系来进行矩阵变换，可以简化平移计算。</p> <div class="language-txt extra-class"><pre class="language-txt"><code>|x|	  |a	c	e|		|x'|
|y|	* |b	d	f|	=	|y'|
|1|	  |0	0	1|		|1 |

x' = x*a + y*c + 1*e
y' = x*b + y*d * 1*f
1 =  x*0 + y*0 + 1*1
</code></pre></div><p><strong>使用 ctx.transform(a , b , c , d , e , f) 方法，传递转换矩阵，实现图形变换</strong></p> <p><strong>矩阵移动</strong></p> <p>就在原有x , y 的基础上， 移动指定的数值。</p> <div class="language-text extra-class"><pre class="language-text"><code>1 0 e
0 1 f
</code></pre></div><p>横纵各移动100</p> <p><code>ctx.transform(1,0, 0,1, 100,100);</code></p> <img src="https://qwq9527.gitee.io/resource/imgs/canvas/54.png" alt="1685957171823" style="zoom:50%;"> <p><strong>矩阵放缩</strong></p> <p>再原有x , y的基础上，乘上指定的倍率。  2 ， 0.5</p> <div class="language-text extra-class"><pre class="language-text"><code>a 0 0
0 d 0
</code></pre></div><p>横向放大至2，纵向缩小至0.5</p> <p><code>ctx.transform(2,0, 0,0.5, 0,0);</code></p> <img src="https://qwq9527.gitee.io/resource/imgs/canvas/55.png" alt="1685957204889" style="zoom:50%;"> <p><strong>矩阵斜切</strong></p> <p>延x 或 y 轴做一个拉扯，是的与x 或 y 轴形成一个夹角。</p> <ul><li>延x轴斜切，会产生与y轴的夹角。 最终x位置发生变化</li> <li>延y轴斜切， 会产生与x轴的夹角。最终y位置发生变化</li></ul> <img src="https://qwq9527.gitee.io/resource/imgs/canvas/56.png" alt="1685957257113" style="zoom:50%;"> <div class="language-text extra-class"><pre class="language-text"><code>	1		tan(angle)	0
tan(angle) 		1		0
</code></pre></div><p>实现skewX(30°)</p> <p><code>ctx.transform(1,0, Math.tan(30 * Math.PI/180),1 ,0,0);</code></p> <img src="https://qwq9527.gitee.io/resource/imgs/canvas/57.png" alt="1685957311914" style="zoom:50%;"> <p><strong>矩阵旋转</strong></p> <p>旋转也会发生一个角度的变化</p> <p>旋转都是基于x轴正方向，顺时针旋转</p> <p>这里面的旋转角度是基于原位置的旋转角度，而不是基于x轴的旋转角度，所以还要考虑原位置与x轴夹角。</p> <div class="language-text extra-class"><pre class="language-text"><code>和角公式
sin(a+b) = sin(a) * cos(b) + cos(a) * sin(b)
cos(a+b) = cos(a) * cos(b) - sin(a) * sin(b)
</code></pre></div><img src="https://qwq9527.gitee.io/resource/imgs/canvas/58.png" alt="1685958541579" style="zoom:50%;"> <div class="language-text extra-class"><pre class="language-text"><code>cos(angle) -sin(angle) 0
sin(angle) cos(angle) 0
</code></pre></div><p>旋转45°</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>ctx<span class="token punctuation">.</span><span class="token function">transform</span><span class="token punctuation">(</span>
    Math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span><span class="token number">45</span><span class="token operator">*</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token operator">/</span><span class="token number">180</span><span class="token punctuation">)</span><span class="token punctuation">,</span>Math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span><span class="token number">45</span><span class="token operator">*</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token operator">/</span><span class="token number">180</span><span class="token punctuation">)</span><span class="token punctuation">,</span>	<span class="token comment">//a b</span>
    <span class="token operator">-</span>Math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span><span class="token number">45</span><span class="token operator">*</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token operator">/</span><span class="token number">180</span><span class="token punctuation">)</span><span class="token punctuation">,</span>Math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span><span class="token number">45</span><span class="token operator">*</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token operator">/</span><span class="token number">180</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//c d</span>
    <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>												<span class="token comment">//e f</span>
</code></pre></div><img src="https://qwq9527.gitee.io/resource/imgs/canvas/59.png" alt="1685958568617" style="zoom:50%;"> <h2 id="十一-状态存储与重置"><a href="#十一-状态存储与重置" class="header-anchor">#</a> 十一 状态存储与重置</h2> <p>使用 ctx.save()  和 ctx.restore() 两个方法实现绘制状态的存储和重置。</p> <p>绘制状态：</p> <ul><li>描边样式，填充样式</li> <li>线条样式</li> <li>文本样式</li> <li>裁剪</li> <li>合成</li> <li>图像变换</li></ul> <p>每次调用ctx.save()方法，都会将之前设置的状态存储起来(存入栈中)</p> <p>可以调用多次save方法，将多个状态按照顺序存入栈中。</p> <p>每次调用ctx.restore()方法，会重置状态。所谓的重置状态，就是将当前状态从栈中移除（删除），恢复到上一次的状态。</p> <p>save 和 restore 不是必须的，可以手动按照逻辑，恢复上一次的状态。</p> <div class="language-java extra-class"><pre class="language-java"><code> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>
     <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
     canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
     document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

     <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

     <span class="token comment">//填充一个红色的矩形</span>
     ctx<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
         ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token char">'#0f0'</span><span class="token punctuation">;</span>
     ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

     <span class="token comment">//填充一个蓝色的圆</span>
     ctx<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token char">'#00f'</span><span class="token punctuation">;</span>
     ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token constant">PI</span><span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


     <span class="token comment">//填充一个红色的矩形</span>
     <span class="token comment">//ctx.fillStyle = '#f00'; //逻辑上恢复状态</span>
     ctx<span class="token punctuation">.</span><span class="token function">restore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>			   <span class="token comment">//通过restore方法恢复状态</span>
     ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span><span class="token number">300</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><img src="https://qwq9527.gitee.io/resource/imgs/canvas/60.png" alt="1685960131460" style="zoom:50%;"> <h2 id="十二-实战案例"><a href="#十二-实战案例" class="header-anchor">#</a> 十二 实战案例</h2> <h3 id="_1-动态时钟"><a href="#_1-动态时钟" class="header-anchor">#</a> 1 动态时钟</h3> <p>表盘 ， 刻度（大刻度，小刻度） ，表针（时针，分针，秒针）</p> <p>表针需要不停的变动</p> <ul><li>动画绘制</li> <li>表针角度</li></ul> <h3 id="_2-粒子烟花"><a href="#_2-粒子烟花" class="header-anchor">#</a> 2 粒子烟花</h3> <p>过程分2部分</p> <ul><li><p>烟花升空</p> <ul><li><p>由多个小球组成一个烟花升空拖尾的效果</p></li> <li><p>每一个小球的半径依次减小</p></li> <li><p>每一个小球的透明度依次变化，上升过程中，透明度整体还会变化</p> <p>第一瞬间  10个小球的透明度 分别是1  0.99  0.98 ....</p> <p>第二瞬间 10个小球的透明度 分别是  0.5 0.49 0.48 ...</p></li></ul></li> <li><p>烟花爆炸</p> <ul><li>烟花主体消失</li> <li>绘制一组小颗粒</li> <li>沿着圆弧扩散</li></ul></li></ul> <p>有的烟花处于升空状态，有的烟花处于爆炸状态，两个效果可以同时进行。</p> <p>所以需要每一次都重新绘制。</p> <p>涉及对象：</p> <ul><li>烟花对象</li> <li>小球对象，组成烟花主体</li> <li>粒子对象，爆炸中的例子</li></ul> <p>从升空到爆炸</p> <ul><li><p>每隔一段时间，升空一个烟花</p></li> <li><p>当屏幕中达到3个烟花时，最开始烟花就可以爆炸了</p></li> <li><p>爆炸的时候，烟花主体消失（不再绘制）</p></li> <li><p>绘制爆炸后产生的粒子（400,500），每次重新绘制的时候，改变其位置。</p></li></ul> <h3 id="_3-贪吃蛇"><a href="#_3-贪吃蛇" class="header-anchor">#</a> 3 贪吃蛇</h3> <p>组成部分：</p> <ul><li>棋盘</li> <li>蛇（蛇头  + 身体）</li> <li>食物</li></ul> <p>提供2个画布，一个绘制棋牌（静态），一个绘制蛇 + 食物（动态）</p> <p>绘制蛇</p> <ul><li>将蛇设计成一个对象</li> <li>设计一个矩形对象，表示蛇的组成，表示食物</li></ul> <p>蛇(头)的移动</p> <ul><li>注意方向</li> <li>每绘制一个新位置，要将原来位置的图形删除掉。</li></ul> <p>生成食物</p> <ul><li><p>随机绘制一个矩形</p></li> <li><p>确保在一个空白的位置 （没有蛇的位置）</p></li> <li><p>设计： 定义一个对象，每一个格子的坐标作为key，value表示格子的占用状态 0空闲， 1占用</p> <p>​			 每次绘制矩形的时候，将其格子设置为1 ， 清除矩形的时候，将其格子设置为0</p> <p>​			生成食物时，随机一个格子位置，判断其状态， 1就重新随机，0 绘制食物。</p></li></ul> <p>吃食物，身体变化，身体移动</p> <ul><li>当蛇头坐标与食物坐标相撞时，表示吃到食物</li> <li>吃到食物后，蛇的身体会边长，视觉效果上看就是后面身体的部分都没有变化，只有原来蛇头的位置加了一块身体，所以只需要在body的头部增加一个矩形，并绘制即可。</li> <li>没有吃到事务，当蛇移动时，视觉效果上，最后一个位置的身体部分消失，在原来蛇头的位置增加了新的身体部分，其余部分没有变化。所以只需要将最后一个矩形移动到body的最前面并绘制即可。</li></ul> <h3 id="_4-画图板"><a href="#_4-画图板" class="header-anchor">#</a> 4 画图板</h3> <p>线条绘制：</p> <ul><li>多个点的连线</li> <li>鼠标按下是起始点</li> <li>鼠标移动，产生过程点</li> <li>鼠标抬起，绘制结束。</li></ul> <p>矩形绘制</p> <ul><li>起始点， 宽高</li> <li>鼠标按下，获得起始点</li> <li>鼠标移动，产生过程点。</li> <li>通过两点，可以计算宽高</li> <li>矩形在绘制过程中，没有抬起鼠标，则还处于选择阶段，矩形没有确定。有一个拖拽的视觉效果</li> <li>实际上是一个不断绘制的过程，此时存在一个问题：
<ul><li>由于矩形会与其他图形产生覆盖， 如果删除之前绘制的矩形，也会将之前图形覆盖的部分也删除</li> <li>为了提高性能，考虑使用2个画布。</li> <li>在第一个画布中，绘制当前的这一个图形， 提起鼠标后，图形确定，再将其绘制到第二个画布上。</li></ul></li></ul> <p>圆形绘制</p> <ul><li><p>圆心点，半径</p></li> <li><p>鼠标按下，获得起始点</p></li> <li><p>鼠标移动，产生过程点</p></li> <li><p>起始点 和 过程点，计算半径 和 圆心点</p></li> <li><p>可能是正圆，也可能是椭圆。</p></li> <li><p>原的拖拽绘制与矩形相同。</p></li></ul> <p>填充：</p> <ul><li>不是对某一个图形进行填充，而是对一块合围区域填充。</li> <li>合围区域可能是有多个图形部分合围而成</li> <li>难点：如何确定这个合围区域 。 可以通过像素操作来实现
<ul><li>以触发填充操作的那个点为基准</li> <li>获得那个点的rgba值</li> <li>然后向四周分散，一次找到四周所有的点， 与这个rgba比较，</li> <li>完全相等，就实现颜色的变化，继续向四周扩散</li> <li>不相等，说明已经到了一个边界，就不在继续发散了</li></ul></li></ul> <p>橡皮擦：</p> <ul><li>与刮刮乐实现过程相似</li> <li>本质还是画线条</li> <li>只不过与原图形的合成关系发生了变化。</li></ul> <p>综上分析：</p> <ul><li><p>目前需要2个画布。 一个体现绘制过程， 一个用来展示绘制结果</p></li> <li><p>需要图形对象 ，包括多种类型（线条，矩形，圆形，橡皮擦）</p></li></ul> <p>填充代码1：递归（范围有限）</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//改变当前点的颜色</span>
<span class="token keyword">function</span> <span class="token function">change</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span>y</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//获得要改变这个点的原始颜色 (如何根据坐标点，获得其imageData中的显色位置)</span>
    <span class="token keyword">const</span> i <span class="token operator">=</span> <span class="token function">point2Index</span><span class="token punctuation">(</span>imageData<span class="token punctuation">,</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//判断这个原始颜色和基准颜色是否相同， 相同就改，不相同就结束了</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>baseImageData<span class="token punctuation">.</span>data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> imageData<span class="token punctuation">.</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span> 
       <span class="token operator">&amp;&amp;</span> baseImageData<span class="token punctuation">.</span>data<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> imageData<span class="token punctuation">.</span>data<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span>
       <span class="token operator">&amp;&amp;</span> baseImageData<span class="token punctuation">.</span>data<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">==</span> imageData<span class="token punctuation">.</span>data<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">]</span>
       <span class="token operator">&amp;&amp;</span> baseImageData<span class="token punctuation">.</span>data<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">==</span> imageData<span class="token punctuation">.</span>data<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">//相等， 这个位置颜色可以改变</span>
        imageData<span class="token punctuation">.</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">255</span> <span class="token punctuation">;</span>
        imageData<span class="token punctuation">.</span>data<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">;</span>
        imageData<span class="token punctuation">.</span>data<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">;</span>
        imageData<span class="token punctuation">.</span>data<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">255</span> <span class="token punctuation">;</span>

        <span class="token comment">//继续发散，再检查其四周</span>
        <span class="token function">change</span><span class="token punctuation">(</span>x<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">change</span><span class="token punctuation">(</span>x<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">change</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">change</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
        <span class="token comment">//不相等，到达边界</span>
        <span class="token keyword">return</span> <span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">change</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/quweiqian/particular/html5/2-2.html" class="prev">
        二 进阶篇
      </a></span> <span class="next"><a href="/quweiqian/particular/frontend-es6-particular-master/1.html">
        ES6 课程概述
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/quweiqian/assets/js/app.d9b1c135.js" defer></script><script src="/quweiqian/assets/js/4.af0a715f.js" defer></script><script src="/quweiqian/assets/js/530.09d4aa48.js" defer></script>
  </body>
</html>
