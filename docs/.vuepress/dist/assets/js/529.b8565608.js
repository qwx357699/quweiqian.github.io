(window.webpackJsonp=window.webpackJsonp||[]).push([[529],{899:function(s,t,e){"use strict";e.r(t);var a=e(10),n=Object(a.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"包的使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#包的使用"}},[s._v("#")]),s._v(" 包的使用")]),s._v(" "),t("p",[s._v("nodejs 对 npm 支持非常良好")]),s._v(" "),t("p",[s._v("当使用 nodejs 导入模块时，如果模块路径不是以 ./ 或 ../ 开头，则 node 会认为导入的模块来自于 "),t("strong",[s._v("node_modules 目录")]),s._v("，例如：")]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" _ "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"lodash"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("p",[s._v("它首先会从当前目录的以下位置寻找文件（"),t("strong",[s._v("先找 node_modules 目录，进入后找同名文件，没有再找同名目录")]),s._v("）")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("node_modules/lodash.js\nnode_modules/lodash/入口文件\n")])])]),t("p",[s._v("若当前目录没有这样的文件，则会回溯到上级目录按照同样的方式查找")]),s._v(" "),t("p",[s._v("如果到顶级目录都无法找到文件，则抛出错误")]),s._v(" "),t("p",[s._v("如果是内置的模块，则直接使用内置模块，自定义模块不起效果，如 "),t("code",[s._v('require("fs")。')])]),s._v(" "),t("p",[s._v("上面提到的入口文件按照以下规则确定")]),s._v(" "),t("ol",[t("li",[s._v("查看导入包的"),t("strong",[s._v("package.json文件")]),s._v("，"),t("strong",[s._v("读取main字段")]),s._v("作为入口文件")]),s._v(" "),t("li",[t("strong",[s._v("若不包含main字段，则使用 index.js 作为入口文件")])])]),s._v(" "),t("blockquote",[t("p",[s._v("入口文件的规则同样适用于自己工程中的模块\n在 node 中，还可以手动指定路径来导入相应的文件，这种情况比较少见")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://qwq9527.gitee.io/resource/imgs/require.svg",alt:"qwq9527.gitee.io/resource/imgs/require.svg"}})])])}),[],!1,null,null,null);t.default=n.exports}}]);