(window.webpackJsonp=window.webpackJsonp||[]).push([[466],{837:function(a,t,s){"use strict";s.r(t);var n=s(10),e=Object(n.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"yarn-的核心命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#yarn-的核心命令"}},[a._v("#")]),a._v(" yarn 的核心命令")]),a._v(" "),t("h2",{attrs:{id:"稳定版v1-22-19"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#稳定版v1-22-19"}},[a._v("#")]),a._v(" 稳定版v1.22.19")]),a._v(" "),t("ol",[t("li",[t("strong",[a._v("初始化")])])]),a._v(" "),t("p",[a._v("初始化："),t("code",[a._v("yarn init [--yes/-y]")])]),a._v(" "),t("ol",{attrs:{start:"2"}},[t("li",[t("strong",[a._v("安装")])])]),a._v(" "),t("p",[a._v("添加指定包："),t("code",[a._v("yarn [global] add package-name [--dev/-D] [--exact/-E]")])]),a._v(" "),t("p",[a._v("安装package.json中的所有依赖："),t("code",[a._v("yarn install [--production/--prod]")])]),a._v(" "),t("p",[a._v("分别添加到 "),t("code",[a._v("devDependencies")]),a._v("、"),t("code",[a._v("peerDependencies")]),a._v(" 和 "),t("code",[a._v("optionalDependencies")]),a._v(" 类别中：")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("yarn")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("add")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("package"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--dev")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("yarn")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("add")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("package"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--peer")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("yarn")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("add")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("package"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--optional")]),a._v("\n")])])]),t("p",[t("code",[a._v("peerDependencies")])]),a._v(" "),t("p",[t("em",[a._v("我们组件的包需要react，使用者的项目也需要react，两个react的版本可能不一致，这个时候可以使用 "),t("code",[a._v("peer-dependencies")]),a._v("来安装我们的react，避免与使用者冲突。")])]),a._v(" "),t("ol",{attrs:{start:"3"}},[t("li",[t("strong",[a._v("脚本和本地CLI")])])]),a._v(" "),t("p",[a._v("运行脚本："),t("code",[a._v("yarn run 脚本名")])]),a._v(" "),t("blockquote",[t("p",[a._v("start、stop、test可以省略run")])]),a._v(" "),t("p",[a._v("运行本地安装的CLI："),t("code",[a._v("yarn run CLI名")])]),a._v(" "),t("ol",{attrs:{start:"4"}},[t("li",[t("strong",[a._v("查询")])])]),a._v(" "),t("p",[a._v("查看bin目录："),t("code",[a._v("yarn [global] bin")])]),a._v(" "),t("p",[a._v("查看config:"),t("code",[a._v("yarn config list")])]),a._v(" "),t("p",[a._v("查询包信息："),t("code",[a._v("yarn info 包名 [子字段]")]),a._v(" "),t("code",[a._v("yarn info vue readme/versions")])]),a._v(" "),t("p",[a._v("列举已安装的依赖："),t("code",[a._v("yarn [global] list [--depth=依赖深度]")])]),a._v(" "),t("blockquote",[t("p",[a._v("yarn的list命令和npm的list不同，yarn输出的信息更加丰富，包括顶级目录结构、每个包的依赖版本号")])]),a._v(" "),t("ol",{attrs:{start:"5"}},[t("li",[t("strong",[a._v("更新")])])]),a._v(" "),t("p",[a._v("列举需要更新的包："),t("code",[a._v("yarn outdated")])]),a._v(" "),t("p",[a._v("更新包："),t("code",[a._v("yarn [global] upgrade [包名]")])]),a._v(" "),t("blockquote",[t("p",[a._v("包的版本如果是固定的，如 "),t("code",[a._v('"lodash:3.5.0"')]),a._v("，使用 "),t("code",[a._v("yarn upgrade lodash")]),a._v("没用，"),t("code",[a._v("yarn outdated")]),a._v("能查看最新的版本，需要升级，直接重新安装 "),t("code",[a._v("yarn add lodash")]),a._v("，完成后 "),t("code",[a._v("lodash:^4.17.21")])])]),a._v(" "),t("ol",{attrs:{start:"6"}},[t("li",[t("strong",[a._v("卸载")])])]),a._v(" "),t("p",[a._v("卸载包："),t("code",[a._v("yarn remove 包名")])]),a._v(" "),t("h2",{attrs:{id:"安装报错"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装报错"}},[a._v("#")]),a._v(" 安装报错")]),a._v(" "),t("ol",[t("li",[a._v("版本对不上的问题")])]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("C:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Users"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("12181")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Desktop"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("yarn"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("yarn "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("yarn")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" v1.22.19\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v("/4"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" Resolving packages"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v(".\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v("/4"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" Fetching packages"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v(".\nerror commander@11.1.0: The engine "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"node"')]),a._v(" is incompatible with this module. Expected version "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('">=16"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(".")]),a._v(" Got "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"14.21.3"')]),a._v("\nerror Found incompatible module.\ninfo Visit https://yarnpkg.com/en/docs/cli/install "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("for")]),a._v(" documentation about this command.\n")])])]),t("p",[a._v("解决方式，加上 "),t("code",[a._v("--ignore-engines")]),a._v("指令")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("yarn")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" --ignore-engines\n\n")])])]),t("h2",{attrs:{id:"修改全局包安装位置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改全局包安装位置"}},[a._v("#")]),a._v(" 修改全局包安装位置")]),a._v(" "),t("ul",[t("li",[t("code",[a._v('yarn config set global-folder "E:\\Developer\\Yarn\\global"')])]),a._v(" "),t("li",[t("code",[a._v('yarn config set cache-folder "E:\\Developer\\Yarn\\cache"')])]),a._v(" "),t("li",[t("code",[a._v('yarn config set prefix "D"')])]),a._v(" "),t("li",[t("code",[a._v("yarn global dir")])]),a._v(" "),t("li",[t("code",[a._v("yarn config list")])])])])}),[],!1,null,null,null);t.default=e.exports}}]);