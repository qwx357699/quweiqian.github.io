(window.webpackJsonp=window.webpackJsonp||[]).push([[81],{454:function(t,s,v){"use strict";v.r(s);var a=v(10),_=Object(a.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"_3-移动端基础知识"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-移动端基础知识"}},[t._v("#")]),t._v(" 3. 移动端基础知识")]),t._v(" "),s("p",[t._v("在前面介绍 "),s("em",[t._v("WebApp")]),t._v(" 的时候，我们有提到过开发移动端网页和传统 "),s("em",[t._v("PC")]),t._v(" 端网页的区别：")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("系统")]),t._v(" "),s("ul",[s("li",[s("em",[t._v("PC")]),t._v("："),s("em",[t._v("Windows/Mac")]),t._v("（区别不大）")]),t._v(" "),s("li",[t._v("移动端："),s("em",[t._v("ios/Android/Windows")]),t._v("（有区别）")])])]),t._v(" "),s("li",[s("p",[t._v("浏览器")]),t._v(" "),s("ul",[s("li",[s("em",[t._v("PC")]),t._v("：区别很大")]),t._v(" "),s("li",[t._v("移动端：区别不大")])])]),t._v(" "),s("li",[s("p",[t._v("分辨率（尺寸）")]),t._v(" "),s("ul",[s("li",[s("em",[t._v("PC")]),t._v("：有区别")]),t._v(" "),s("li",[t._v("移动端：区别很大")])])])]),t._v(" "),s("p",[t._v("曾几何时，为了兼容 "),s("em",[t._v("IE")]),t._v(" 低版本浏览器而头痛，以为到移动端时代可以跟这些麻烦说拜拜了。可没想到到了移动时代，更麻烦的事情等着我们的。")]),t._v(" "),s("p",[t._v("移动端 "),s("em",[t._v("Web")]),t._v(" 页面的开发，由于手机屏幕尺寸、分辨率不同，或者需要考虑横竖屏问题，为了使得 "),s("em",[t._v("Web")]),t._v(" 页面在不同移动设备上具有相适应的展示效果，需要在开发过程中使用合理的适配方案来解决这个问题。")]),t._v(" "),s("p",[t._v("因此在移动端页面开发中，适配是一个非常重要的问题。本章也将围绕整个移动端的适配来做讲解。")]),t._v(" "),s("p",[t._v("在具体介绍适配方案之前，我们先来学习一点关于移动端的基础知识。主要包含以下内容：")]),t._v(" "),s("ul",[s("li",[t._v("设备像素（物理像素）")]),t._v(" "),s("li",[t._v("屏幕尺寸和像素密度（"),s("em",[t._v("PPI")]),t._v("）")]),t._v(" "),s("li",[s("em",[t._v("CSS")]),t._v(" 像素（设备独立像素、逻辑像素）")]),t._v(" "),s("li",[t._v("像素比（"),s("em",[t._v("DPR")]),t._v("）")])]),t._v(" "),s("p",[t._v("是不是看到这一堆新名词与概念就有点头晕了？没事儿，咱们由浅入深一个一个来看。")]),t._v(" "),s("h2",{attrs:{id:"设备像素-物理像素"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#设备像素-物理像素"}},[t._v("#")]),t._v(" 设备像素（物理像素）")]),t._v(" "),s("p",[t._v("首先要介绍的是“设备像素”，也被称之为“物理像素”。这是最好理解的一个名词，对于一般的显示设备来说，一个像素对应着屏幕上的一个发光点，这个点能够发出红、绿、蓝三种颜色的光，通过混合不同的 RGB 值，为我们创造了一个像素的颜色。")]),t._v(" "),s("p",[t._v("因此设备像素就是指实际存在的像素。")]),t._v(" "),s("img",{staticStyle:{zoom:"33%"},attrs:{src:"https://xiejie-typora.oss-cn-chengdu.aliyuncs.com/2022-02-23-055132.png",alt:"image-20220223135132119"}}),t._v(" "),s("p",[t._v("平时我们在看一个设备屏幕的参数时，往往就有分辨率这么一个参数，例如 "),s("em",[t._v("2340")]),t._v(" × "),s("em",[t._v("1080")]),t._v("，这代表什么含义呢？")]),t._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://xiejie-typora.oss-cn-chengdu.aliyuncs.com/2022-02-23-055207.png",alt:"image-20220223135207018"}}),t._v(" "),s("p",[t._v("这表示在设备屏幕的水平方向上有 "),s("em",[t._v("2340")]),t._v(" 个像素点，垂直方向上有 "),s("em",[t._v("1080")]),t._v(" 个像素点。")]),t._v(" "),s("p",[t._v("有一个非常有趣的现象，那就是 "),s("em",[t._v("PC")]),t._v(" 端的屏幕显示器分辨率是"),s("strong",[t._v("横纵比")]),t._v("，而手机屏幕确实"),s("strong",[t._v("纵横比")]),t._v("。")]),t._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://xiejie-typora.oss-cn-chengdu.aliyuncs.com/2022-02-23-055233.png",alt:"image-20220223135233028"}}),t._v(" "),s("p",[t._v("这是为什么呢？")]),t._v(" "),s("p",[t._v("实际上在智能手机之前，大部分功能手机和黑莓屏幕都也还是横屏，下面则是按键区。后来屏幕慢慢扩大，才逐渐拉长的。再到了智能手机时代，因为不需要键盘区域了，而屏幕又越来越大，因此就将屏幕竖着放置。")]),t._v(" "),s("img",{staticStyle:{zoom:"67%"},attrs:{src:"https://xiejie-typora.oss-cn-chengdu.aliyuncs.com/2022-02-23-055251.png",alt:"image-20220223135250679"}}),t._v(" "),s("p",[s("strong",[t._v("因此，分辨率的表示方式仍然是横纵比，只不过因为屏幕竖着放了，给人的感觉是纵横比。")])]),t._v(" "),s("h2",{attrs:{id:"屏幕尺寸和像素密度-ppi"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#屏幕尺寸和像素密度-ppi"}},[t._v("#")]),t._v(" 屏幕尺寸和像素密度（"),s("em",[t._v("PPI")]),t._v("）")]),t._v(" "),s("p",[t._v("明白了设备像素后，接下来我们再来普及 "),s("em",[t._v("2")]),t._v(" 个概念，屏幕尺寸和像素密度（"),s("em",[t._v("PPI")]),t._v("）。")]),t._v(" "),s("p",[t._v("大家在买手机的时候，一般在手机配置信息里面还会有屏幕尺寸这个信息，一般以英寸为单位。")]),t._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://xiejie-typora.oss-cn-chengdu.aliyuncs.com/2022-02-23-055321.png",alt:"image-20220223135320937"}}),t._v(" "),s("p",[t._v("那么这个屏幕尺寸 "),s("em",[t._v("6.67")]),t._v(" 英寸是指什么呢？难道是屏幕的面积么？")]),t._v(" "),s("p",[t._v("实际上并不是，首先英寸是一个长度单位，"),s("em",[t._v("1")]),t._v(" 英寸（"),s("em",[t._v("inch")]),t._v("）等于 "),s("em",[t._v("2.54")]),t._v(" 厘米（"),s("em",[t._v("cm")]),t._v("）。其次这里的 "),s("em",[t._v("6.67")]),t._v(" 英寸指的是屏幕对角线的长度。")]),t._v(" "),s("img",{staticStyle:{zoom:"40%"},attrs:{src:"https://xiejie-typora.oss-cn-chengdu.aliyuncs.com/2022-02-23-055339.png",alt:"image-20220223135338581"}}),t._v(" "),s("p",[t._v("有了屏幕分辨率和屏幕尺寸的信息，我们就可以计算像素密度（"),s("em",[t._v("PPI")]),t._v("）。所谓像素密度，就是指 "),s("em",[t._v("1")]),t._v(" 英寸下的设备像素数量，计算公式如下：")]),t._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://xiejie-typora.oss-cn-chengdu.aliyuncs.com/2022-02-23-055411.png",alt:"image-20220223135410933"}}),t._v(" "),s("p",[t._v("这里我们可以简单的计算一下 "),s("em",[t._v("iPhone6 Plus")]),t._v(" 的 "),s("em",[t._v("ppi")]),t._v("：")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 屏幕斜边的像素")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" margin "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Math"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sqrt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Math"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("pow")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1080")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("Math"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("pow")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1920")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("margin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 2202.9071700822983")]),t._v("\nconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("margin"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5.5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 400.52857637859967 PPI")]),t._v("\n")])])]),s("p",[t._v("可以看到正如官方所描述的每英寸有 "),s("em",[t._v("401")]),t._v(" 个设备像素，也就是 "),s("em",[t._v("ppi")]),t._v(" 值为 "),s("em",[t._v("401")]),t._v("。")]),t._v(" "),s("p",[t._v("在 "),s("em",[t._v("https://www.sven.de/dpi/")]),t._v(" 这里可以查看到一些常见设备的 "),s("em",[t._v("ppi")]),t._v(" 值。")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://xiejie-typora.oss-cn-chengdu.aliyuncs.com/2022-02-23-055430.png",alt:"image-20220223135430637"}})]),t._v(" "),s("h2",{attrs:{id:"css-像素-设备独立像素、逻辑像素"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#css-像素-设备独立像素、逻辑像素"}},[t._v("#")]),t._v(" "),s("em",[t._v("CSS")]),t._v(" 像素（设备独立像素、逻辑像素）")]),t._v(" "),s("p",[t._v("接下来我们来看下一个概念，叫做“"),s("em",[t._v("CSS")]),t._v(" 像素”。")]),t._v(" "),s("p",[t._v("上面我们已经介绍了 "),s("em",[t._v("ppi")]),t._v(" 的概念，那么 "),s("em",[t._v("ppi")]),t._v(" 越高，所包含的设备像素也就越多。")]),t._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://xiejie-typora.oss-cn-chengdu.aliyuncs.com/2022-02-23-055456.png",alt:"image-20220223135456332"}}),t._v(" "),s("p",[t._v("但是这就会滋生出另外一个问题，如果我的 "),s("em",[t._v("CSS")]),t._v(" 像素和设备像素是 "),s("em",[t._v("1:1")]),t._v(" 的关系的话，随着设备像素的提升，图像就会越来越小。")]),t._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://xiejie-typora.oss-cn-chengdu.aliyuncs.com/2022-02-23-055513.png",alt:"image-20220223135513062"}}),t._v(" "),s("p",[t._v("那么怎么解决这个问题呢？")]),t._v(" "),s("p",[t._v("其实也非常好办，之前我们 "),s("em",[t._v("CSS")]),t._v(" 像素和设备像素是 "),s("em",[t._v("1:1")]),t._v(" 的关系，现在只需要将这个比例稍作修改即可。")]),t._v(" "),s("img",{staticStyle:{zoom:"90%"},attrs:{src:"https://xiejie-typora.oss-cn-chengdu.aliyuncs.com/2022-02-23-055531.png",alt:"image-20220223135530944"}}),t._v(" "),s("p",[t._v("正如上面的图片所示，以前 "),s("em",[t._v("CSS")]),t._v(" 像素和设备像素 "),s("em",[t._v("1:1")]),t._v(" 关系，"),s("em",[t._v("1")]),t._v(" 个 "),s("em",[t._v("CSS")]),t._v(" 像素对应 "),s("em",[t._v("1")]),t._v(" 个设备像素，那么现在我修改这个比例，"),s("em",[t._v("1")]),t._v(" 个 "),s("em",[t._v("CSS")]),t._v(" 像素对应 "),s("em",[t._v("2")]),t._v(" 个设备像素即可。")]),t._v(" "),s("p",[t._v("以前在做 "),s("em",[t._v("PC")]),t._v(" 端网页开发的时候，由于 "),s("em",[t._v("CSS")]),t._v(" 像素始终和设备像素是 "),s("em",[t._v("1:1")]),t._v(" 的关系（不考虑缩放），所以给大家了一种错觉，以为 "),s("em",[t._v("CSS")]),t._v(" 像素和设备像素就是 "),s("em",[t._v("1:1")]),t._v(" 的对应关系，但是实际上 "),s("em",[t._v("CSS")]),t._v(" 像素确是一个抽象的单位，具体含有多少个设备像素不是一定的。")]),t._v(" "),s("h2",{attrs:{id:"像素比-dpr"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#像素比-dpr"}},[t._v("#")]),t._v(" 像素比（"),s("em",[t._v("DPR")]),t._v("）")]),t._v(" "),s("p",[s("em",[t._v("dpr简单来说就是一个css1px里面有多少个物理像素")])]),t._v(" "),s("p",[t._v("最后要介绍的概念就是像素比（"),s("em",[t._v("DPR")]),t._v("），英文全称为 "),s("em",[t._v("device pixel ratio")]),t._v("（设备像素比），计算公式为："),s("em",[t._v("DPR")]),t._v(" = 设备像素 / "),s("em",[t._v("CSS")]),t._v(" 像素。")]),t._v(" "),s("p",[t._v("举个例子，如果 "),s("em",[t._v("CSS")]),t._v(" 像素和设备像素 "),s("em",[t._v("1:1")]),t._v(" 关系，那么 "),s("em",[t._v("DPR")]),t._v(" 值就为 "),s("em",[t._v("1")]),t._v("。如果 "),s("em",[t._v("1")]),t._v(" 个 "),s("em",[t._v("CSS")]),t._v(" 像素对应 "),s("em",[t._v("2")]),t._v(" 个设备像素，那么 "),s("em",[t._v("DPR")]),t._v(" 值就为 "),s("em",[t._v("2")]),t._v("。")]),t._v(" "),s("p",[t._v("说简单点，就是一个 "),s("em",[t._v("CSS")]),t._v(" 像素要用多少个设备像素来显示。如果 "),s("em",[t._v("DPR")]),t._v(" 值为 "),s("em",[t._v("1")]),t._v("，表示用一个设备像素就够了，如果 "),s("em",[t._v("DPR")]),t._v(" 值为 "),s("em",[t._v("2")]),t._v("，则表示一个 "),s("em",[t._v("CSS")]),t._v(" 像素要用 "),s("em",[t._v("2")]),t._v(" 个设备像素来表示。("),s("em",[t._v("这里指的是边，面表示的话就是2x2=4个点")]),t._v(")")]),t._v(" "),s("p",[t._v("可以通过 "),s("em",[t._v("window.devicePixelRatio")]),t._v(" 获取一个设备的 "),s("em",[t._v("DPR")]),t._v("。")]),t._v(" "),s("p",[t._v("这里我们以 "),s("em",[t._v("iPhone6")]),t._v(" 为例。")]),t._v(" "),s("p",[s("em",[t._v("iPhone6")]),t._v(" 官方给出的分辨率为 "),s("em",[t._v("1334")]),t._v(" x "),s("em",[t._v("750")]),t._v("，但是我们设置一个 "),s("em",[t._v("div")]),t._v("，宽度为 "),s("em",[t._v("375")]),t._v(" 却能撑满整个手机。")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("div",{staticClass:"language-css extra-class"},[s("pre",{pre:!0,attrs:{class:"language-css"}},[s("code",[s("span",{pre:!0,attrs:{class:"token selector"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("margin")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("padding")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("width")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 375px"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("height")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 100px"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("background-color")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" red"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("由此我们可以推测，一个 "),s("em",[t._v("CSS")]),t._v(" 像素和设备像素的对应关系为 "),s("em",[t._v("1:2")]),t._v("，那么 "),s("em",[t._v("DPR")]),t._v(" 就应该是 "),s("em",[t._v("2")]),t._v("，通过查看 "),s("em",[t._v("window.devicePixelRatio")]),t._v(" 的值发现也确实为 "),s("em",[t._v("2")]),t._v("。")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("window"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("devicePixelRatio"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("在 "),s("em",[t._v("https://www.paintcodeapp.com/news/ultimate-guide-to-iphone-resolutions")]),t._v(" 可以看到 "),s("em",[t._v("iPhone")]),t._v(" 常见设备的 "),s("em",[t._v("DPR")]),t._v(" 值。")]),t._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://xiejie-typora.oss-cn-chengdu.aliyuncs.com/2022-02-23-055621.png",alt:"image-20220223135620835"}}),t._v(" "),s("h2",{attrs:{id:"思维误区"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#思维误区"}},[t._v("#")]),t._v(" 思维误区")]),t._v(" "),s("p",[t._v("**")]),t._v(" "),s("p",[t._v("-"),s("em",[t._v("EOF")]),t._v("-")])])}),[],!1,null,null,null);s.default=_.exports}}]);