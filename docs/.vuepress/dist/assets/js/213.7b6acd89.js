(window.webpackJsonp=window.webpackJsonp||[]).push([[213],{585:function(t,s,n){"use strict";n.r(s);var v=n(10),_=Object(v.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"数据链路层"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#数据链路层"}},[t._v("#")]),t._v(" 数据链路层")]),t._v(" "),s("p",[t._v("Hub采取的是广播的模式，如果每一台电脑发出的包，宿舍的每个电脑都能收到，那就麻烦了。I\n"),s("strong",[t._v("三个问题需要解决")])]),t._v(" "),s("ol",[s("li",[s("p",[t._v("这个包是发给谁的？谁应该接收？")])]),t._v(" "),s("li",[s("p",[t._v("大家都在发，会不会产生混乱？有没有谁先发、谁后发的规则？")])]),t._v(" "),s("li",[s("p",[t._v("如果发送的时候出现了错误，怎么办？")])])]),t._v(" "),s("p",[t._v("这几个问题，都是第二层，数据链路层，也即MAC层要解决的问题。MAC 的全称是 "),s("strong",[t._v("Medium Access")]),t._v(" "),s("strong",[t._v("Control")]),t._v("，即"),s("strong",[t._v("媒体访问控制")]),t._v("。")]),t._v(" "),s("p",[t._v("控制什么呢？其实就是控制在往媒体上发数据的时候，谁先发、谁后发的问题。防止发生混乱。这解决\n的是第二个问题。")]),t._v(" "),s("p",[t._v("方式一：分多个车道。每个车一个车道，你走你的，我走我的。"),s("strong",[t._v("这在计算机网络里叫作信道划分")]),t._v("；")]),t._v(" "),s("p",[t._v("方式二：今天单号出行，明天双号出行，轮着来。这在计算机网络里叫作"),s("strong",[t._v("轮流协议")]),t._v("；")]),t._v(" "),s("p",[t._v("方式三：不管三七二十一，有事儿先出门，发现特堵，就回去。错过高峰再出。我们叫作"),s("strong",[t._v("随机接入协")]),t._v(" "),s("strong",[t._v("议。著名的以太网，用的就是这个方式")]),t._v("。")]),t._v(" "),s("p",[t._v("接下来要解决第一个问题：发给谁，谁接收？这里用到一个物理地址，叫作"),s("strong",[t._v("链路层地址")]),t._v("。但是因为第二层主要解决媒体接入控制的问题，所以它常被称为MAC地址。")]),t._v(" "),s("p",[t._v("解决第一个问题就牵扯到第二层的网络包格式。对于以太网，第二层的最开始，就是目标的MAC地址\n和源的MAC地址。")]),t._v(" "),s("p",[s("img",{attrs:{src:"C:%5CUsers%5C12181%5CDesktop%5C%E8%AE%B0%E5%BD%95%5C9%E5%89%91%5C1701676204598.png",alt:"1701676204598"}})]),t._v(" "),s("p",[s("strong",[t._v("接下来是类型，大部分的类型是P数据包")]),t._v("，然后P里面包含TCP、UDP,以及HTTP等，这都是里层\n封装的事情。")]),t._v(" "),s("p",[s("strong",[t._v("对于以太网，第二层的最后面是CRC")]),t._v(",也就是循环冗余检测。通过XOR异或的算法，来计算整个包是\n否在发送的过程中出现了错误，主要解决第三个问题。")]),t._v(" "),s("p",[t._v("这里还有一个没有解决的问题，当源机器知道目标机器的时候，可以将目标地址放入包里面，如果不知\n道呢？一个广播的网络里面接入了N台机器，我怎么知道每个MAC地址是谁呢？"),s("strong",[t._v("这就是ARP协议，也")]),t._v(" "),s("strong",[t._v("就是已知P地址，求MAC地址的协议")]),t._v("。")]),t._v(" "),s("p",[t._v("现在路由器是很智能的，可以对ARP进行缓存。")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ARP")]),t._v("协议就是在局域网里面，吼一句，"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("IP")]),t._v(" xxx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("XXX")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("XXX")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("XXX")]),t._v(" 你的"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("MAC")]),t._v("地址是啥，马上告诉我？\n然后路由器就会告诉你。\n")])])]),s("p",[s("img",{attrs:{src:"C:%5CUsers%5C12181%5CDesktop%5C%E8%AE%B0%E5%BD%95%5C9%E5%89%91%5C1701676455427.png",alt:"1701676455427"}})])])}),[],!1,null,null,null);s.default=_.exports}}]);