(window.webpackJsonp=window.webpackJsonp||[]).push([[82],{453:function(t,a,s){"use strict";s.r(a);var e=s(10),n=Object(e.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"_4-viewport-视口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-viewport-视口"}},[t._v("#")]),t._v(" 4. "),a("em",[t._v("viewport")]),t._v(" 视口")]),t._v(" "),a("p",[t._v("上一篇文章介绍了有关移动端中一些基本的概念，本文要介绍的 "),a("em",[t._v("viewport")]),t._v(" 也非常重要。")]),t._v(" "),a("p",[t._v("本文主要包含以下内容：")]),t._v(" "),a("ul",[a("li",[t._v("视口的概念")]),t._v(" "),a("li",[t._v("视口的分类")]),t._v(" "),a("li",[t._v("视口相关属性")]),t._v(" "),a("li",[t._v("关于缩放")])]),t._v(" "),a("h2",{attrs:{id:"视口的概念"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#视口的概念"}},[t._v("#")]),t._v(" 视口的概念")]),t._v(" "),a("p",[t._v("视口，英语全称 "),a("em",[t._v("viewport")]),t._v("，指的是设备的屏幕上能用来显示我们的网页的那一块区域，再具体一点，就是浏览器上（也可能是一个 "),a("em",[t._v("app")]),t._v(" 中的 "),a("em",[t._v("webview")]),t._v("）用来显示网页的那部分区域。")]),t._v(" "),a("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://xiejie-typora.oss-cn-chengdu.aliyuncs.com/2022-02-25-025813.png",alt:"image-20220225105813126"}}),t._v(" "),a("p",[t._v("在早期 "),a("em",[t._v("PC")]),t._v(" 年代，电脑上的网页常见的宽度有："),a("em",[t._v("960px、980px、1190px、1210px")]),t._v("，其中以 "),a("em",[t._v("980px")]),t._v(" 居多。")]),t._v(" "),a("p",[t._v("到了移动端时代，由于一开始并不存在专门的移动端网页，所以在最开始的时候也就自然而然沿用了这一设定，以苹果的 "),a("em",[t._v("Safari")]),t._v(" 为首的浏览器默认采用的视口宽度就是 "),a("em",[t._v("980px")]),t._v(" 的宽度，后面的很多安卓机型也都就沿袭了这一设定。")]),t._v(" "),a("blockquote",[a("p",[t._v("故事是这样的，有一天乔帮主在想一个问题，就是自己的苹果手机如果在市场上火爆了，但是各个网站还没有来得及制作手机版本的网页，那么用户不得不用手机访问电脑版的网页。如何用小屏幕访问大屏幕的页面也同样可读呢？")]),t._v(" "),a("p",[t._v("乔帮主就想着为手机固定一个视口宽度，让手机的视口宽度等于世界上绝大多数 "),a("em",[t._v("PC")]),t._v(" 网页的版心宽度，就是 "),a("em",[t._v("980px")]),t._v("。这样，用手机访问电脑版网页的时候，刚好没有留白。像从 "),a("em",[t._v("3000")]),t._v(" 米高空，俯瞰整个页面，用户想看哪个区域，可以用两个指头捏合，放大页面。")]),t._v(" "),a("p",[t._v("安卓手机也非常尊重乔帮主的决定，都把自己的手机的视口定位 "),a("em",[t._v("980px")]),t._v("。")])]),t._v(" "),a("p",[t._v("下图列出了一些设备上浏览器的默认 "),a("em",[t._v("viewport")]),t._v(" 的宽度：")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://xiejie-typora.oss-cn-chengdu.aliyuncs.com/2022-02-25-025837.png",alt:"image-20220225105836899"}})]),t._v(" "),a("p",[t._v("此时使用手机浏览器打开电脑版的网页的效果如下：")]),t._v(" "),a("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://xiejie-typora.oss-cn-chengdu.aliyuncs.com/2022-02-25-025905.png",alt:"image-20220225105904722"}}),t._v(" "),a("p",[t._v("可以看到在手机端的浏览器中，对网页进行了缩放，以便显示整张网页。之后用户可以将两个指头捏合，放大页面。")]),t._v(" "),a("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://xiejie-typora.oss-cn-chengdu.aliyuncs.com/2022-02-25-025950.png",alt:"image-20220225105949823"}}),t._v(" "),a("p",[t._v("我们也可以进行一个简单的验证，如下：")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("head")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("meta")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("charset")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("UTF-8"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("title")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("Document"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("title")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("style")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token style"}},[a("span",{pre:!0,attrs:{class:"token language-css"}},[t._v("\n        "),a("span",{pre:!0,attrs:{class:"token selector"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("margin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("padding")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".container")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("width")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 375px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("display")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" flex"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".container>div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("width")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 50%"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("height")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 50px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".container>div:nth-child(1)")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("background-color")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" red"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".container>div:nth-child(2)")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("background-color")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" yellow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    ")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("style")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("head")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("body")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("container"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("body")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("p",[t._v("在上面的代码中，我们将默认的视口设置取消了，此时就会采用默认的 "),a("em",[t._v("980px")]),t._v("，而我们的 "),a("em",[t._v("div.contianer")]),t._v(" 设置的为 "),a("em",[t._v("375px")]),t._v("，效果如下：")]),t._v(" "),a("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://xiejie-typora.oss-cn-chengdu.aliyuncs.com/2022-02-25-030013.png",alt:"image-20220225110013229"}}),t._v(" "),a("p",[t._v("可以看到，由于默认的视口宽度为 "),a("em",[t._v("980px")]),t._v("，因此 "),a("em",[t._v("div.container")]),t._v(" 并没有占满，只占了一半都还不到。")]),t._v(" "),a("p",[t._v("后来随着移动端的发展，渐渐的专门针对移动端的网页就出来，如下图所示：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[a("img",{staticStyle:{zoom:"50%",float:"left"},attrs:{src:"https://xiejie-typora.oss-cn-chengdu.aliyuncs.com/2022-02-25-030036.png",alt:"image-20220225110035146"}})]),t._v(" "),a("th",[a("img",{staticStyle:{zoom:"50%",float:"right"},attrs:{src:"https://xiejie-typora.oss-cn-chengdu.aliyuncs.com/2022-02-25-030049.png",alt:"image-20220225110049135"}})])])]),t._v(" "),a("tbody")]),t._v(" "),a("p",[t._v("此时就不能像之前一样视口一直按照 "),a("em",[t._v("PC")]),t._v(" 端的 "),a("em",[t._v("980px")]),t._v(" 来作为标准，因为 "),a("em",[t._v("980px")]),t._v(" 实际上是超出了设备屏幕的，只不过浏览器智能的进行了缩放。至于缩放的比例是多少，我们后面再说。")]),t._v(" "),a("p",[t._v("此时就应该按照设备的 "),a("em",[t._v("CSS")]),t._v(" 像素来作为标准。还记得 "),a("em",[t._v("iPhone 6/7/8")]),t._v(" 的 "),a("em",[t._v("CSS")]),t._v(" 像素是多少么？没错，是 "),a("em",[t._v("375")]),t._v(" x "),a("em",[t._v("667")]),t._v("，也就是说现在的网页就应该按照 "),a("em",[t._v("375px")]),t._v(" 的标准。")]),t._v(" "),a("p",[t._v("那么如何进行修改呢？")]),t._v(" "),a("p",[t._v("不着急，在此之前我们再来了解一个知识点，那就是视口的分类。")]),t._v(" "),a("h2",{attrs:{id:"视口的分类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#视口的分类"}},[t._v("#")]),t._v(" 视口的分类")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://www.quirksmode.org/",target:"_blank",rel:"noopener noreferrer"}},[a("em",[t._v("ppk")]),a("OutboundLink")],1),t._v(" 大神对于移动设备上的 "),a("em",[t._v("viewport")]),t._v(" 有着非常多的研究（"),a("a",{attrs:{href:"https://www.quirksmode.org/mobile/viewports.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("第一篇"),a("OutboundLink")],1),t._v("，"),a("a",{attrs:{href:"https://www.quirksmode.org/mobile/viewports2.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("第二篇"),a("OutboundLink")],1),t._v("，"),a("a",{attrs:{href:"https://www.quirksmode.org/mobile/metaviewport/",target:"_blank",rel:"noopener noreferrer"}},[t._v("第三篇"),a("OutboundLink")],1),t._v("），"),a("em",[t._v("ppk")]),t._v(" 认为，移动设备上有三个 "),a("em",[t._v("viewport")]),t._v("。分别是：")]),t._v(" "),a("ul",[a("li",[a("em",[t._v("layout viewport")])]),t._v(" "),a("li",[a("em",[t._v("visual viewport")])]),t._v(" "),a("li",[a("em",[t._v("ideal viewport")])])]),t._v(" "),a("p",[a("em",[t._v("ppk")]),t._v(" 把浏览器默认的 "),a("em",[t._v("viewport")]),t._v("，也就是前面我们所讲的 "),a("em",[t._v("980px")]),t._v(" 宽的 "),a("em",[t._v("viewport")]),t._v(" 叫做 "),a("em",[t._v("layout viewport")]),t._v("。这个 "),a("em",[t._v("layout viewport")]),t._v(" 的宽度可以通过  "),a("em",[a("strong",[t._v("window.innerWidth")])]),t._v(" 来获取。")]),t._v(" "),a("blockquote",[a("p",[t._v("有问题！"),a("em",[t._v("ppk 提到布局视口通过  "),a("strong",[t._v("document.documentElement.clientWidth")]),t._v(" 获取。")])])]),t._v(" "),a("img",{staticStyle:{zoom:"60%"},attrs:{src:"https://xiejie-typora.oss-cn-chengdu.aliyuncs.com/2022-02-25-030110.png",alt:"image-20220225110109828"}}),t._v(" "),a("p",[t._v("然而，"),a("em",[t._v("layout viewport")]),t._v(" 的宽度是大于浏览器可视区域的宽度的，所以我们还需要一个 "),a("em",[t._v("viewport")]),t._v(" 来代表浏览器可视区域的大小，"),a("em",[t._v("ppk")]),t._v(" 把这个 "),a("em",[t._v("viewport")]),t._v(" 叫做 "),a("em",[t._v("visual viewport")]),t._v("。"),a("em",[t._v("visual viewport")]),t._v(" 的宽度可以通过 "),a("em",[a("strong",[t._v("document.documentElement.clientWidth")])]),t._v(" 来获取。")]),t._v(" "),a("blockquote",[a("p",[t._v("有问题！"),a("em",[t._v("ppk 提到可视视口通过  "),a("strong",[t._v("window.innerWidth")]),t._v(" 获取。")])])]),t._v(" "),a("img",{staticStyle:{zoom:"60%"},attrs:{src:"https://xiejie-typora.oss-cn-chengdu.aliyuncs.com/2022-02-25-030132.png",alt:"image-20220225110131730"}}),t._v(" "),a("p",[t._v("现在我们已经有两个 "),a("em",[t._v("viewport")]),t._v(" 了："),a("em",[t._v("layout viewport")]),t._v(" 和 "),a("em",[t._v("visual viewport")]),t._v("。"),a("em",[t._v("layout viewport")]),t._v(" 是网页实际的宽度，而 "),a("em",[t._v("visual viewport")]),t._v(" 是设备的宽度。")]),t._v(" "),a("p",[t._v("在早期 "),a("em",[t._v("iPhone3GS")]),t._v(" 时代，由于一个 "),a("em",[t._v("CSS")]),t._v(" 像素对应一个设备像素，因此 "),a("em",[t._v("visual viewport")]),t._v(" 和设备 "),a("em",[t._v("CSS")]),t._v(" 宽度是等价的。")]),t._v(" "),a("p",[t._v("但是从 "),a("em",[t._v("iPhone4")]),t._v(" 时代开始，一个 "),a("em",[t._v("CSS")]),t._v(" 像素对应 "),a("em",[t._v("2")]),t._v(" 个设备像素，设备的 "),a("em",[t._v("CSS")]),t._v(" 宽度仍然是 "),a("em",[t._v("320px")]),t._v("，但是物理像素翻了倍。")]),t._v(" "),a("img",{staticStyle:{zoom:"67%"},attrs:{src:"https://xiejie-typora.oss-cn-chengdu.aliyuncs.com/2022-02-25-030159.png",alt:"image-20220225110158908"}}),t._v(" "),a("p",[t._v("于是 "),a("em",[t._v("ppk")]),t._v(" 又发明了一个新词，叫做 "),a("em",[t._v("ideal viewport")]),t._v("，也就是第三个 "),a("em",[t._v("viewport")]),t._v(" ——移动设备的完美适配 "),a("em",[t._v("viewport")]),t._v("，其实对应的就是设备的 "),a("em",[t._v("CSS")]),t._v(" 宽度。")]),t._v(" "),a("p",[t._v("例如 "),a("em",[t._v("iPhone 3GS")]),t._v(" 和 "),a("em",[t._v("iPhone4")]),t._v(" 的 "),a("em",[t._v("ideal viewport")]),t._v(" 宽度都是 "),a("em",[t._v("320px")]),t._v("，无论它的设备像素是 "),a("em",[t._v("320")]),t._v(" 还是 "),a("em",[t._v("640")]),t._v("，这两款 "),a("em",[t._v("iPhone")]),t._v(" 中，"),a("em",[t._v("CSS")]),t._v(" 中的 "),a("em",[t._v("320px")]),t._v(" 就代表 "),a("em",[t._v("iPhone")]),t._v(" 屏幕的宽度。")]),t._v(" "),a("p",[t._v("最后再总结一下："),a("em",[t._v("ppk")]),t._v(" 把移动设备上的 "),a("em",[t._v("viewport")]),t._v(" 分为 "),a("em",[t._v("layout viewport")]),t._v("、"),a("em",[t._v("visual viewport")]),t._v(" 和 "),a("em",[t._v("ideal viewport")]),t._v(" 三类，其中的 "),a("em",[t._v("ideal viewport")]),t._v(" 是最适合移动设备的 "),a("em",[t._v("viewport")]),t._v("。")]),t._v(" "),a("p",[a("em",[t._v("ideal viewport")]),t._v(" 的意义在于，无论在何种分辨率的屏幕下，那些针对 "),a("em",[t._v("ideal viewport")]),t._v(" 而设计的网站，不需要用户手动缩放，也不需要出现横向滚动条，都可以完美的呈现给用户。")]),t._v(" "),a("h2",{attrs:{id:"视口相关属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#视口相关属性"}},[t._v("#")]),t._v(" 视口相关属性")]),t._v(" "),a("p",[t._v("移动设备默认的 "),a("em",[t._v("viewport")]),t._v(" 是 "),a("em",[t._v("layout viewport")]),t._v("，也就是那个比屏幕要宽的 "),a("em",[t._v("viewport")]),t._v("，但在进行移动设备网站的开发时，我们需要的是 "),a("em",[t._v("ideal viewport")]),t._v("。那么怎么才能得到 "),a("em",[t._v("ideal viewport")]),t._v(" 呢？")]),t._v(" "),a("p",[t._v("这就该轮到 "),a("em",[t._v("meta")]),t._v(" 标签出场了。")]),t._v(" "),a("p",[t._v("我们在开发移动设备的网站时，最常见的的一个动作就是把下面这个东西复制到我们的 "),a("em",[t._v("head")]),t._v(" 标签中：")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("meta")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("viewport"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("content")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("p",[t._v("该 "),a("em",[t._v("meta")]),t._v(" 标签的作用是让当前 "),a("em",[t._v("viewport")]),t._v(" 为 "),a("em",[t._v("ideal viewport")]),t._v("，同时不允许用户手动缩放。")]),t._v(" "),a("p",[t._v("也许允不允许用户缩放不同的网站有不同的要求，但让 "),a("em",[t._v("viewport")]),t._v(" 的宽度为 "),a("em",[t._v("ideal viewport")]),t._v("，这个应该是大家都想要的效果，如果你不这样的设定的话，那就会使用那个比屏幕宽的默认 "),a("em",[t._v("viewport")]),t._v("，在不缩放的情况下会出现横向滚动条。")]),t._v(" "),a("p",[a("em",[t._v("name")]),t._v(" 为 "),a("em",[t._v("viewport")]),t._v(" 的标 "),a("em",[t._v("meta")]),t._v(" 标签最早是由苹果公司在其 "),a("em",[t._v("safari")]),t._v(" 浏览器中引入的，目的就是解决移动设备的 "),a("em",[t._v("viewport")]),t._v(" 问题。后来安卓以及各大浏览器厂商也都纷纷效仿，引入对 "),a("em",[t._v("meta viewport")]),t._v(" 的支持，事实也证明这个东西还是非常有用的。")]),t._v(" "),a("p",[t._v("在苹果的规范中，"),a("em",[t._v("meta viewport")]),t._v(" 有 "),a("em",[t._v("6")]),t._v(" 个属性（暂且把 "),a("em",[t._v("content")]),t._v(" 中的那些东西称为一个个属性和值），如下：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("属性名")]),t._v(" "),a("th",[t._v("作用")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("em",[t._v("width")])]),t._v(" "),a("td",[t._v("设置 "),a("em",[t._v("layout viewport")]),t._v('  的宽度，为一个正整数，或字符串"'),a("em",[t._v("device-width")]),t._v('"')])]),t._v(" "),a("tr",[a("td",[a("em",[t._v("height")])]),t._v(" "),a("td",[t._v("设置 "),a("em",[t._v("layout viewport")]),t._v(" 的高度，这个属性对我们并不重要，很少使用")])]),t._v(" "),a("tr",[a("td",[a("em",[t._v("initial-scale")])]),t._v(" "),a("td",[t._v("设置页面的初始缩放值，为一个数字，可以带小数")])]),t._v(" "),a("tr",[a("td",[a("em",[t._v("minimum-scale")])]),t._v(" "),a("td",[t._v("允许用户的最小缩放值，为一个数字，可以带小数")])]),t._v(" "),a("tr",[a("td",[a("em",[t._v("maximum-scale")])]),t._v(" "),a("td",[t._v("允许用户的最大缩放值，为一个数字，可以带小数")])]),t._v(" "),a("tr",[a("td",[a("em",[t._v("user-scalable")])]),t._v(" "),a("td",[t._v('是否允许用户进行缩放，值为"'),a("em",[t._v("no")]),t._v('"或"'),a("em",[t._v("yes")]),t._v('", '),a("em",[t._v("no")]),t._v(" 代表不允许，"),a("em",[t._v("yes")]),t._v(" 代表允许")])])])]),t._v(" "),a("p",[t._v("这些属性可以同时使用，也可以单独使用或混合使用，多个属性同时使用时用逗号隔开就行了。")]),t._v(" "),a("p",[t._v("最简单的方式是设置 "),a("em",[t._v("width=device-width")]),t._v("，表示把默认的 "),a("em",[t._v("layout viewport")]),t._v(" 的宽度设为移动设备的屏幕宽度。")]),t._v(" "),a("p",[t._v("下图是这句代码在各大移动端浏览器上的测试结果：")]),t._v(" "),a("img",{staticStyle:{zoom:"80%"},attrs:{src:"https://xiejie-typora.oss-cn-chengdu.aliyuncs.com/2022-02-25-030234.png",alt:"image-20220225110233988"}}),t._v(" "),a("p",[a("strong",[t._v("可见通过 "),a("em",[t._v("width=device-width")]),t._v("，所有浏览器都能把当前的 "),a("em",[t._v("viewport")]),t._v(" 宽度变成 "),a("em",[t._v("ideal viewport")]),t._v(" 的宽度。")])]),t._v(" "),a("p",[t._v("例如：")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("container"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token script"}},[a("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"document.documentElement.clientWidth:"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("documentElement"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("clientWidth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"window.innerWidth:"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerWidth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 实验性的api visualViewport visualViewport.width")]),t._v("\n")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("div",{staticClass:"language-css extra-class"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token selector"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("margin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("padding")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".container")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("width")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 375px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("display")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" flex"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".container>div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("width")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 50%"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("height")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 50px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".container>div:nth-child(1)")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("background-color")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" red"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".container>div:nth-child(2)")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("background-color")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" yellow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("meta")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("viewport"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("content")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("width=device-width"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("p",[t._v("效果如下：")]),t._v(" "),a("img",{staticStyle:{zoom:"60%"},attrs:{src:"https://xiejie-typora.oss-cn-chengdu.aliyuncs.com/2022-02-25-030253.png",alt:"image-20220225110253028"}}),t._v(" "),a("blockquote",[a("p",[t._v("但要注意的是，在 "),a("em",[t._v("iphone")]),t._v(" 和 "),a("em",[t._v("ipad")]),t._v(" 上，无论是竖屏还是横屏，宽度都是竖屏时 "),a("em",[t._v("ideal viewport")]),t._v(" 的宽度。")])]),t._v(" "),a("p",[t._v("另外，如果我们只设置 "),a("em",[t._v("initial-scale")]),t._v(" 为 "),a("em",[t._v("1")]),t._v("，也能达到相同的效果，也就是说能把当前的 "),a("em",[t._v("viewport")]),t._v(" 变为 "),a("em",[t._v("ideal viewport")]),t._v("。")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("meta")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("viewport"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("content")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("initial-scale=1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("p",[a("em",[t._v("what")]),t._v("？这句代码的作用只是不对当前的页面进行缩放，也就是页面本该是多大就是多大。那为什么会有 "),a("em",[t._v("width=device-width")]),t._v(" 的效果呢？")]),t._v(" "),a("p",[t._v("要想清楚这件事情，首先你得弄明白这个缩放是相对于什么来缩放的，因为这里的缩放值是 "),a("em",[t._v("1")]),t._v("，也就是没缩放，但却达到了 "),a("em",[t._v("ideal viewport")]),t._v(" 的效果，所以，那答案就只有一个了，"),a("strong",[t._v("缩放是相对于 "),a("em",[t._v("ideal viewport")]),t._v(" 来进行缩放的")]),t._v("，当对 "),a("em",[t._v("ideal viewport")]),t._v(" 进行 "),a("em",[t._v("100%")]),t._v(" 的缩放，也就是缩放值为 "),a("em",[t._v("1")]),t._v(" 的时候，不就得到了 "),a("em",[t._v("ideal viewport")]),t._v(" 吗？")]),t._v(" "),a("blockquote",[a("p",[t._v("ppk第三篇文章提到：initial-scale 指令两个意思：1.设置ideal viewport 2.将layout viewport的宽度等于缩放后的ideal viewport 的宽度")])]),t._v(" "),a("p",[t._v("事实证明，的确是这样的。下图是各大移动端的浏览器当设置了 "),a("em",[t._v('content="initial-scale=1"')]),t._v(" 后是否能把当前的 "),a("em",[t._v("viewport")]),t._v(" 宽度变成 "),a("em",[t._v("ideal viewport")]),t._v(" 的宽度的测试结果。")]),t._v(" "),a("img",{staticStyle:{zoom:"80%"},attrs:{src:"https://xiejie-typora.oss-cn-chengdu.aliyuncs.com/2022-02-25-030318.png",alt:"image-20220225110317816"}}),t._v(" "),a("p",[t._v("测试结果表明 "),a("em",[t._v("initial-scale=1")]),t._v(" 也能把当前的 "),a("em",[t._v("viewport")]),t._v(" 宽度变成 "),a("em",[t._v("ideal viewport")]),t._v(" 的宽度，但这次轮到了 "),a("em",[t._v("windows phone")]),t._v(" 上的 "),a("em",[t._v("IE")]),t._v(" 无论是竖屏还是横屏都把宽度设为竖屏时 "),a("em",[t._v("ideal viewport")]),t._v(" 的宽度。但这点小瑕疵已经无关紧要了。")]),t._v(" "),a("p",[t._v("但如果 "),a("em",[t._v("width")]),t._v(" 和 "),a("em",[t._v("initial-scale=1")]),t._v(" 同时出现，并且还出现了冲突呢？比如：")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("meta")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("viewport"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("content")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("width=400, initial-scale=1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("p",[a("em",[t._v("width=400")]),t._v(" 表示把当前 "),a("em",[t._v("viewport")]),t._v(" 的宽度设为 "),a("em",[t._v("400px")]),t._v("，"),a("em",[t._v("initial-scale=1")]),t._v(" 则表示把当前 "),a("em",[t._v("viewport")]),t._v(" 的宽度设为 "),a("em",[t._v("ideal viewport")]),t._v(" 的宽度，那么浏览器到底该服从哪个命令呢？是书写顺序在后面的那个吗？")]),t._v(" "),a("p",[t._v("不是。当遇到这种情况时，"),a("strong",[t._v("浏览器会取它们两个中较大的那个值")]),t._v("。例如，当 "),a("em",[t._v("width=400，ideal viewport")]),t._v(" 的宽度为 "),a("em",[t._v("320")]),t._v(" 时，取的是 "),a("em",[t._v("400")]),t._v("；当 "),a("em",[t._v("width=400，ideal viewport")]),t._v(" 的宽度为 "),a("em",[t._v("480")]),t._v(" 时，取的是 "),a("em",[t._v("ideal viewport")]),t._v(" 的宽度。")]),t._v(" "),a("p",[t._v("最后，总结一下，要把当前的 "),a("em",[t._v("viewport")]),t._v(" 宽度设为 "),a("em",[t._v("ideal viewport")]),t._v(" 的宽度，既可以设置 "),a("em",[t._v("width=device-width")]),t._v("，也可以设置 "),a("em",[t._v("initial-scale=1")]),t._v("，但这两者各有一个小缺陷，就是 "),a("em",[t._v("iphone、ipad")]),t._v(" 以及 "),a("em",[t._v("IE")]),t._v(" 会横竖屏不分，通通以竖屏的 "),a("em",[t._v("ideal viewport")]),t._v(" 宽度为准。")]),t._v(" "),a("p",[t._v("所以，最完美的写法应该是，两者都写上去，这样就 "),a("em",[t._v("initial-scale=1")]),t._v(" 解决了 "),a("em",[t._v("iphone、ipad")]),t._v(" 的毛病，"),a("em",[t._v("width=device-width")]),t._v(" 则解决了 "),a("em",[t._v("IE")]),t._v(" 的毛病：")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("meta")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("viewport"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("content")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("width=device-width, initial-scale=1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("h2",{attrs:{id:"关于缩放"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#关于缩放"}},[t._v("#")]),t._v(" 关于缩放")]),t._v(" "),a("p",[t._v("最后要说一下关于缩放的问题。")]),t._v(" "),a("p",[t._v("前面我们说过，即使使用手机浏览器打开 "),a("em",[t._v("PC")]),t._v(" 端的网页，手机浏览器也能很智能的对页面进行缩放，从而不出现滚动条。")]),t._v(" "),a("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://xiejie-typora.oss-cn-chengdu.aliyuncs.com/2022-02-25-030337.png",alt:"image-20220225110337093"}}),t._v(" "),a("p",[t._v("那么这个缩放比例究竟是多少呢？")]),t._v(" "),a("p",[t._v("这里其实有一个公式，那就是：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("当前缩放值 = ideal viewport宽度  / layout viewport 宽度\n")])])]),a("p",[t._v("比如说，我们不设置任何的 "),a("em",[t._v("viewport meta")]),t._v(" 标签，此时 "),a("em",[t._v("layout viewport")]),t._v(" 的宽度为 "),a("em",[t._v("980px")]),t._v("，但我们可以看到浏览器并没有出现横向滚动条，因为浏览器默认的把页面缩小了。")]),t._v(" "),a("p",[t._v("根据上面的公式，缩放比就为 "),a("em",[t._v("375 / 980 = 0.38")]),t._v(" 左右。")]),t._v(" "),a("p",[t._v("也就是当前的 "),a("em",[t._v("initial-scale")]),t._v(" 默认值应该是 "),a("em",[t._v("0.38")]),t._v(" 这样子。但是如果指定了 "),a("em",[t._v("initial-scale")]),t._v(" 的值，那么这个默认值就不起作用了。")]),t._v(" "),a("p",[t._v("最后总结一下，为了保证在不同设备中，显示网页的视口正常，最常见的设置如下：")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("meta")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("viewport"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("content")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("p",[t._v("之后我们书写移动端页面，也会采取此视口设置。")]),t._v(" "),a("div",{staticClass:"language-tex extra-class"},[a("pre",{pre:!0,attrs:{class:"language-tex"}},[a("code",[t._v("警告：来自 mdn 文档\n使用 user-scalable=no 会给有视觉障碍的用户造成无障碍问题，如弱视力。WCAG (en-US) 要求至少有 2 倍的缩放；然而，最佳做法是启用 5 倍的缩放。\n")])])]),a("hr"),t._v(" "),a("h2",{attrs:{id:"问题记录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#问题记录"}},[t._v("#")]),t._v(" 问题记录")]),t._v(" "),a("h3",{attrs:{id:"全名星空网页"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#全名星空网页"}},[t._v("#")]),t._v(" 全名星空网页")]),t._v(" "),a("div",{staticClass:"language-tex extra-class"},[a("pre",{pre:!0,attrs:{class:"language-tex"}},[a("code",[t._v("1.该网页没有<meata name=viewport ...> 标签\n2.切换成ipone xr 后，控制台输入 \n(visual viewport)   window.innerWidth                      1142 \n(layout viewport)   document.documentElement.clientWidth    980 \napi 获取\t\t\t   visualViewport.width                   1141.8837890625 \n猜测：1.缩放比例：理想窗口宽度/页面的实际画布尺寸的宽度;\n2.缩放比例还搜到默认最小比例影响，默认0.25\n3.只缩放了比例，layout viewport 宽度没有改变？或者说不设置meta viewport标签，那么初始默认的可视窗口是980px,按照这个比例算的？感觉也不对，因为visableVeiwport.width 和layout viewport 最后的尺寸不一致。只能猜测：\n使用的是画布的尺寸\n")])])]),a("p",[t._v("-"),a("em",[t._v("EOF")]),t._v("-")])])}),[],!1,null,null,null);a.default=n.exports}}]);