(window.webpackJsonp=window.webpackJsonp||[]).push([[188],{555:function(t,s,a){"use strict";a.r(s);var e=a(10),n=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"css-渲染性能优化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#css-渲染性能优化"}},[t._v("#")]),t._v(" "),s("em",[t._v("CSS")]),t._v(" 渲染性能优化")]),t._v(" "),s("h2",{attrs:{id:"经典真题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#经典真题"}},[t._v("#")]),t._v(" 经典真题")]),t._v(" "),s("ul",[s("li",[t._v("总结一下如何提升或者优化 "),s("em",[t._v("CSS")]),t._v(" 的渲染性能")])]),t._v(" "),s("h2",{attrs:{id:"css-渲染性能优化-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#css-渲染性能优化-2"}},[t._v("#")]),t._v(" "),s("em",[t._v("CSS")]),t._v(" 渲染性能优化")]),t._v(" "),s("p",[t._v("很多人往往不重视性能优化这一块，觉得功能做出来就行了。")]),t._v(" "),s("p",[t._v("诚然，在软件开发过程中，功能确实是优先要考虑的，但是当功能完善后，接下来就需要考虑性能问题了。")]),t._v(" "),s("p",[t._v("我们可以从两个方面来看性能优化的意义：")]),t._v(" "),s("ol",[s("li",[t._v("用户角度\n网站优化能够让页面加载得更快，响应更加及时，极大提升用户体验。")]),t._v(" "),s("li",[t._v("服务商角度\n优化会减少页面资源请求数，减小请求资源所占带宽大小，从而节省可观的带宽资源。")])]),t._v(" "),s("p",[t._v("网站优化的目标就是减少网站加载时间，提高响应速度。")]),t._v(" "),s("p",[t._v("那么网站加载速度和用户体验又有着怎样的关系呢？我们来看下面这张图：")]),t._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://xiejie-typora.oss-cn-chengdu.aliyuncs.com/2021-09-16-041118.png",alt:"image-20210916121117684"}}),t._v(" "),s("p",[s("em",[t._v("Google")]),t._v(" 和亚马逊的研究表明，"),s("em",[t._v("Google")]),t._v(" 页面加载的时间从 "),s("em",[t._v("0.4")]),t._v(" 秒提升到 "),s("em",[t._v("0.9")]),t._v(" 秒导致丢失了 "),s("em",[t._v("20%")]),t._v(" 流量和广告收入，对于亚马逊，页面加载时间每增加 "),s("em",[t._v("100ms")]),t._v(" 就意味着 "),s("em",[t._v("1%")]),t._v(" 的销售额损失。")]),t._v(" "),s("p",[t._v("可见，页面的加载速度对于用户有着至关重要的影响。")]),t._v(" "),s("p",[t._v("一个好的交互效果可能是这样的：")]),t._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://xiejie-typora.oss-cn-chengdu.aliyuncs.com/2021-09-16-041314.png",alt:"image-20210916121313325"}}),t._v(" "),s("p",[t._v("当然，性能优化是来自方方面面的。")]),t._v(" "),s("p",[t._v("这里我们主要来看 "),s("em",[t._v("CSS")]),t._v(" 方面能够进行哪些性能优化。")]),t._v(" "),s("p",[t._v("1.使用 "),s("code",[t._v("id selector")]),t._v(" 非常的高效。在使用 "),s("code",[t._v("id selector")]),t._v(" 的时候需要注意一点：因为 "),s("code",[t._v("id")]),t._v(" 是唯一的，所以不需要既指定 "),s("code",[t._v("id")]),t._v(" 又指定 "),s("code",[t._v("tagName")]),t._v("：")]),t._v(" "),s("div",{staticClass:"language-css extra-class"},[s("pre",{pre:!0,attrs:{class:"language-css"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* Bad  */")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v("p#id1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("color")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("red"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("  \n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* Good  */")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v("#id1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("color")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("red"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("2.避免深层次的 "),s("code",[t._v("node")]),t._v(" ，譬如：")]),t._v(" "),s("div",{staticClass:"language-css extra-class"},[s("pre",{pre:!0,attrs:{class:"language-css"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* Bad  */")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v("div > div > div > p")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("color")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("red"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" \n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* Good  */")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v("p-class")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("color")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("red"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("3.不要使用 "),s("code",[t._v("attribute selector")]),t._v("，如：p[att1=”val1”]。这样的匹配非常慢。更不要这样写："),s("code",[t._v('p[id="id1"]')]),t._v("。这样将 "),s("code",[t._v("id selector")]),t._v(" 退化成 "),s("code",[t._v("attribute selector")]),t._v("。")]),t._v(" "),s("div",{staticClass:"language-css extra-class"},[s("pre",{pre:!0,attrs:{class:"language-css"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* Bad  */")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v('p[id="jartto"]')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("color")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("red"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("  \n"),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v('p[class="blog"]')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("color")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("red"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("  \n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* Good  */")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v("#jartto")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("color")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("red"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("  \n"),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".blog")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("color")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("red"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("4.通常将浏览器前缀置于前面，将标准样式属性置于最后，类似：")]),t._v(" "),s("div",{staticClass:"language-css extra-class"},[s("pre",{pre:!0,attrs:{class:"language-css"}},[s("code",[s("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".foo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("-moz-border-radius")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 5px"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("border-radius")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 5px"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("这里推荐参阅 "),s("em",[t._v("CSS")]),t._v(" 规范-优化方案："),s("em",[t._v("http://nec.netease.com/standard/css-optimize.html")])]),t._v(" "),s("p",[t._v("5.遵守 "),s("em",[t._v("CSSLint")]),t._v(" 规则")]),t._v(" "),s("div",{staticClass:"language-css extra-class"},[s("pre",{pre:!0,attrs:{class:"language-css"}},[s("code",[t._v("font-faces        　　　　  　　　不能使用超过5个web字体\nimport        　　　　　　　 　　  禁止使用@import\nregex-selectors        　　　　  禁止使用属性选择器中的正则表达式选择器\nuniversal-selector    　　 　　  禁止使用通用选择器*\nunqualified-attributes    　　　禁止使用不规范的属性选择器\nzero-units            　　 　　　0后面不要加单位\noverqualified-elements    　　　使用相邻选择器时，不要使用不必要的选择器\nshorthand        　　　　　　　　 简写样式属性\nduplicate-background-images    相同的url在样式表中不超过一次\n")])])]),s("p",[t._v("更多的 "),s("em",[t._v("CSSLint")]),t._v(" 规则可以参阅："),s("em",[t._v("https://github.com/CSSLint/csslint")])]),t._v(" "),s("p",[t._v("6.不要使用 "),s("code",[t._v("@import")])]),t._v(" "),s("p",[t._v("使用 "),s("code",[t._v("@import")]),t._v(" 引入 "),s("code",[t._v("CSS")]),t._v(" 会影响浏览器的并行下载。使用 "),s("code",[t._v("@import")]),t._v(" 引用的 "),s("code",[t._v("CSS")]),t._v(" 文件只有在引用它的那个 "),s("code",[t._v("CSS")]),t._v(" 文件被下载、解析之后，浏览器才会知道还有另外一个 "),s("code",[t._v("CSS")]),t._v(" 需要下载，这时才去下载，然后下载后开始解析、构建 "),s("code",[t._v("Render Tree")]),t._v(" 等一系列操作。")]),t._v(" "),s("p",[t._v("多个 "),s("code",[t._v("@import")]),t._v(" 会导致下载顺序紊乱。在 "),s("code",[t._v("IE")]),t._v(" 中，"),s("code",[t._v("@import")]),t._v(" 会引发资源文件的下载顺序被打乱，即排列在 "),s("code",[t._v("@import")]),t._v(" 后面的 "),s("code",[t._v("JS")]),t._v(" 文件先于 "),s("code",[t._v("@import")]),t._v(" 下载，并且打乱甚至破坏 "),s("code",[t._v("@import")]),t._v(" 自身的并行下载。")]),t._v(" "),s("p",[t._v("7.避免过分重排（"),s("em",[t._v("Reflow")]),t._v("）\n所谓重排就是浏览器重新计算布局位置与大小。常见的重排元素：")]),t._v(" "),s("div",{staticClass:"language-css extra-class"},[s("pre",{pre:!0,attrs:{class:"language-css"}},[s("code",[t._v("width \nheight \npadding \nmargin \ndisplay \nborder-width \nborder \ntop \nposition \nfont-size \nfloat \ntext-align \noverflow-y \nfont-weight \noverflow \nleft \nfont-family \nline-height \nvertical-align \nright \nclear \nwhite-space \nbottom \nmin-height\n")])])]),s("p",[t._v("8.依赖继承。如果某些属性可以继承，那么自然没有必要在写一遍。")]),t._v(" "),s("h2",{attrs:{id:"真题解答"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#真题解答"}},[t._v("#")]),t._v(" 真题解答")]),t._v(" "),s("ul",[s("li",[t._v("总结一下如何提升或者优化 "),s("em",[t._v("CSS")]),t._v(" 的渲染性能")])]),t._v(" "),s("blockquote",[s("p",[t._v("参考答案：")]),t._v(" "),s("p",[s("em",[t._v("CSS")]),t._v(" 渲染性能的优化来自方方面面，这里列举一些常见的方式：")]),t._v(" "),s("ol",[s("li",[t._v("使用 "),s("em",[t._v("id")]),t._v(" 选择器非常高效，因为 "),s("em",[t._v("id")]),t._v(" 是唯一的")]),t._v(" "),s("li",[t._v("避免深层次的选择器嵌套")]),t._v(" "),s("li",[t._v("尽量避免使用属性选择器，因为匹配速度慢")]),t._v(" "),s("li",[t._v("使用渐进增强的方案")]),t._v(" "),s("li",[t._v("遵守 "),s("em",[t._v("CSSLint")]),t._v(" 规则")]),t._v(" "),s("li",[t._v("不要使用 "),s("code",[t._v("@import")])]),t._v(" "),s("li",[t._v("避免过分重排（"),s("em",[t._v("Reflow")]),t._v("）")]),t._v(" "),s("li",[t._v("依赖继承")]),t._v(" "),s("li",[t._v("值缩写")]),t._v(" "),s("li",[t._v("避免耗性能的属性")]),t._v(" "),s("li",[t._v("背景图优化合并")]),t._v(" "),s("li",[t._v("文件压缩")])])]),t._v(" "),s("p",[t._v("-"),s("em",[t._v("EOF")]),t._v("-")])])}),[],!1,null,null,null);s.default=n.exports}}]);