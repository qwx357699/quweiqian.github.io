(window.webpackJsonp=window.webpackJsonp||[]).push([[311],{682:function(t,s,a){"use strict";a.r(s);var n=a(10),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"jwt"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#jwt"}},[t._v("#")]),t._v(" jwt")]),t._v(" "),s("h2",{attrs:{id:"æ¦‚è¿°"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ¦‚è¿°"}},[t._v("#")]),t._v(" æ¦‚è¿°")]),t._v(" "),s("p",[t._v("å›žé¡¾ç™»å½•çš„æµç¨‹ï¼š")]),t._v(" "),s("img",{attrs:{src:"http://mdrs.yuanjin.tech/img/image-20200417161950450.png",alt:"img",align:"left"}}),t._v(" "),s("p",[t._v("æŽ¥ä¸‹æ¥çš„é—®é¢˜æ˜¯ï¼šè¿™ä¸ªå‡ºå…¥è¯ï¼ˆä»¤ç‰Œï¼‰é‡Œé¢åˆ°åº•å­˜å•¥ï¼Ÿ")]),t._v(" "),s("p",[t._v("ä¸€ç§æ¯”è¾ƒç®€å•çš„åŠžæ³•å°±æ˜¯ç›´æŽ¥å­˜å‚¨ç”¨æˆ·ä¿¡æ¯çš„JSONä¸²ï¼Œè¿™ä¼šé€ æˆä¸‹é¢çš„å‡ ä¸ªé—®é¢˜ï¼š")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("éžæµè§ˆå™¨çŽ¯å¢ƒï¼Œå¦‚ä½•åœ¨ä»¤ç‰Œä¸­è®°å½•è¿‡æœŸæ—¶é—´")]),t._v(" "),s("blockquote",[s("p",[t._v('è§£å†³æ–¹æ¡ˆï¼š abc:token={"account":"admin","age":18,"maxage":3600}ï¼Œ')]),t._v(" "),s("p",[t._v("ä½†æ˜¯è¯·æ±‚å¤´ç‰¹åˆ«å®¹æ˜“è¢«ä¼ªé€ ")])])]),t._v(" "),s("li",[s("p",[t._v("å¦‚ä½•é˜²æ­¢ä»¤ç‰Œè¢«ä¼ªé€ ")]),t._v(" "),s("blockquote",[s("p",[t._v("è§£å†³æ–¹æ¡ˆï¼š")]),t._v(" "),s("p",[t._v("æœåŠ¡å™¨ï¼š ç§˜é’¥ï¼ˆå¯¹ç§°åŠ å¯†ï¼ŒæœåŠ¡å™¨ä¿ç•™ï¼Œä¸è¿”å›žç»™å®¢æˆ·ç«¯ï¼‰")]),t._v(" "),s("p",[t._v("abc : token=1.234afddd3409   1 å‡è®¾è¡¨ç¤ºç”¨æˆ·idæ•°æ®ï¼Œç‚¹åŽé¢æ•°æ®æ˜¯ç™»å½•åŽï¼ŒæœåŠ¡ç«¯åŠ å¯†å¤„ç†å†è¿”å›ž")]),t._v(" "),s("p",[t._v("ä¼ªé€ ï¼š")]),t._v(" "),s("p",[t._v("bcd:token=1.2ewe32434234 "),s("strong",[t._v("æ²¡ç™»å½•")]),t._v("ï¼Œå°±ä¸çŸ¥é“ç‚¹åŽé¢å…·ä½“æ˜¯å•¥ï¼Œè‡ªå·±éšä¾¿å¡«å†™ï¼ŒæœåŠ¡ç«¯å¯¹1åŠ å¯†åŽè¿›è¡Œæ¯”å¯¹ï¼Œå‘çŽ°ä¸ä¸€è‡´è®¤ä¸ºæ˜¯ä¼ªé€ çš„ï¼ˆè¿™é‡Œè¦æ˜¯ç™»å½•äº†èŽ·å–ç‚¹åŽé¢å†…å®¹å°±æ²¡æ³•å­äº†ï¼‰")])])])]),t._v(" "),s("p",[t._v("JWTå°±æ˜¯ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜å‡ºçŽ°çš„ã€‚")]),t._v(" "),s("p",[s("strong",[t._v("JWTå…¨ç§°"),s("code",[t._v("Json Web Token")]),t._v("ï¼Œæœ¬è´¨å°±æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²")])]),t._v(" "),s("p",[t._v("å®ƒè¦è§£å†³çš„é—®é¢˜ï¼Œå°±æ˜¯åœ¨äº’è”ç½‘çŽ¯å¢ƒä¸­ï¼Œæä¾›"),s("strong",[t._v("ç»Ÿä¸€çš„ã€å®‰å…¨çš„")]),t._v("ä»¤ç‰Œæ ¼å¼")]),t._v(" "),s("p",[t._v("å› æ­¤ï¼Œjwtåªæ˜¯ä¸€ä¸ªä»¤ç‰Œæ ¼å¼è€Œå·²ï¼Œä½ å¯ä»¥æŠŠå®ƒå­˜å‚¨åˆ°cookieï¼Œä¹Ÿå¯ä»¥å­˜å‚¨åˆ°localstorageï¼Œæ²¡æœ‰ä»»ä½•é™åˆ¶ï¼")]),t._v(" "),s("p",[t._v("åŒæ ·çš„ï¼Œå¯¹äºŽä¼ è¾“ï¼Œä½ å¯ä»¥ä½¿ç”¨ä»»ä½•ä¼ è¾“æ–¹å¼æ¥ä¼ è¾“jwtï¼Œä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬ä¼šä½¿ç”¨æ¶ˆæ¯å¤´æ¥ä¼ è¾“å®ƒ")]),t._v(" "),s("p",[t._v("æ¯”å¦‚ï¼Œå½“ç™»å½•æˆåŠŸåŽï¼ŒæœåŠ¡å™¨å¯ä»¥ç»™å®¢æˆ·ç«¯å“åº”ä¸€ä¸ªjwtï¼š")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("HTTP/1.1 200 OK\n...\nset-cookie:token=jwtä»¤ç‰Œ\nauthentication:jwtä»¤ç‰Œ\n...\n\n{..., token:jwtä»¤ç‰Œ}\n")])])]),s("p",[t._v("å¯ä»¥çœ‹åˆ°ï¼Œjwtä»¤ç‰Œå¯ä»¥å‡ºçŽ°åœ¨å“åº”çš„ä»»ä½•ä¸€ä¸ªåœ°æ–¹ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨è‡ªè¡Œçº¦å®šå³å¯ã€‚")]),t._v(" "),s("blockquote",[s("p",[t._v("å½“ç„¶ï¼Œå®ƒä¹Ÿå¯ä»¥å‡ºçŽ°åœ¨å“åº”çš„å¤šä¸ªåœ°æ–¹ï¼Œæ¯”å¦‚ä¸ºäº†å……åˆ†åˆ©ç”¨æµè§ˆå™¨çš„cookieï¼ŒåŒæ—¶ä¸ºäº†ç…§é¡¾å…¶ä»–è®¾å¤‡ï¼Œä¹Ÿå¯ä»¥è®©jwtå‡ºçŽ°åœ¨"),s("code",[t._v("set-cookie")]),t._v("å’Œ"),s("code",[t._v("authorizationæˆ–body")]),t._v("ä¸­ï¼Œå°½ç®¡è¿™ä¼šå¢žåŠ é¢å¤–çš„ä¼ è¾“é‡ã€‚")])]),t._v(" "),s("p",[t._v("å½“å®¢æˆ·ç«¯æ‹¿åˆ°ä»¤ç‰ŒåŽï¼Œå®ƒè¦åšçš„åªæœ‰ä¸€ä»¶äº‹ï¼šå­˜å‚¨å®ƒã€‚")]),t._v(" "),s("p",[t._v("ä½ å¯ä»¥å­˜å‚¨åˆ°ä»»ä½•ä½ç½®ï¼Œæ¯”å¦‚æ‰‹æœºæ–‡ä»¶ã€PCæ–‡ä»¶ã€localstorageã€cookie")]),t._v(" "),s("p",[t._v("å½“åŽç»­è¯·æ±‚å‘ç”Ÿæ—¶ï¼Œä½ åªéœ€è¦å°†å®ƒä½œä¸ºè¯·æ±‚çš„ä¸€éƒ¨åˆ†å‘é€åˆ°æœåŠ¡å™¨å³å¯ã€‚")]),t._v(" "),s("p",[t._v("è™½ç„¶jwtæ²¡æœ‰æ˜Žç¡®è¦æ±‚åº”è¯¥å¦‚ä½•é™„å¸¦åˆ°è¯·æ±‚ä¸­ï¼Œä½†é€šå¸¸æˆ‘ä»¬ä¼šä½¿ç”¨å¦‚ä¸‹çš„æ ¼å¼ï¼š")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("GET /api/resources HTTP/1.1\n...\nauthorization: bearer jwtä»¤ç‰Œ\n...\n")])])]),s("p",[t._v("è¿™æ ·ä¸€æ¥ï¼ŒæœåŠ¡å™¨å°±èƒ½å¤Ÿæ”¶åˆ°è¿™ä¸ªä»¤ç‰Œäº†ï¼Œé€šè¿‡å¯¹ä»¤ç‰Œçš„éªŒè¯ï¼Œå³å¯çŸ¥é“è¯¥ä»¤ç‰Œæ˜¯å¦æœ‰æ•ˆã€‚")]),t._v(" "),s("p",[t._v("å®ƒä»¬çš„å®Œæ•´äº¤äº’æµç¨‹æ˜¯éžå¸¸ç®€å•æ¸…æ™°çš„")]),t._v(" "),s("p",[s("img",{attrs:{src:"http://mdrs.yuanjin.tech/img/image-20200422172837190.png",alt:"image-20200422172837190"}})]),t._v(" "),s("h2",{attrs:{id:"ä»¤ç‰Œçš„ç»„æˆ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä»¤ç‰Œçš„ç»„æˆ"}},[t._v("#")]),t._v(" ä»¤ç‰Œçš„ç»„æˆ")]),t._v(" "),s("p",[t._v("ä¸ºäº†ä¿è¯ä»¤ç‰Œçš„å®‰å…¨æ€§ï¼Œjwtä»¤ç‰Œç”±ä¸‰ä¸ªéƒ¨åˆ†ç»„æˆï¼Œåˆ†åˆ«æ˜¯ï¼š")]),t._v(" "),s("ol",[s("li",[t._v("headerï¼šä»¤ç‰Œå¤´éƒ¨ï¼Œè®°å½•äº†æ•´ä¸ªä»¤ç‰Œçš„ç±»åž‹å’Œç­¾åç®—æ³•")]),t._v(" "),s("li",[t._v("payloadï¼šä»¤ç‰Œè´Ÿè·ï¼Œè®°å½•äº†ä¿å­˜çš„ä¸»ä½“ä¿¡æ¯ï¼Œæ¯”å¦‚ä½ è¦ä¿å­˜çš„ç”¨æˆ·ä¿¡æ¯å°±å¯ä»¥æ”¾åˆ°è¿™é‡Œ")]),t._v(" "),s("li",[t._v("signatureï¼šä»¤ç‰Œç­¾åï¼ŒæŒ‰ç…§å¤´éƒ¨å›ºå®šçš„ç­¾åç®—æ³•å¯¹æ•´ä¸ªä»¤ç‰Œè¿›è¡Œç­¾åï¼Œè¯¥ç­¾åçš„ä½œç”¨æ˜¯ï¼šä¿è¯ä»¤ç‰Œä¸è¢«ä¼ªé€ å’Œç¯¡æ”¹")])]),t._v(" "),s("p",[t._v("å®ƒä»¬ç»„åˆè€Œæˆçš„å®Œæ•´æ ¼å¼æ˜¯ï¼š"),s("code",[t._v("header.payload.signature")])]),t._v(" "),s("p",[t._v("æ¯”å¦‚ï¼Œä¸€ä¸ªå®Œæ•´çš„jwtä»¤ç‰Œå¦‚ä¸‹ï¼š")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJmb28iOiJiYXIiLCJpYXQiOjE1ODc1NDgyMTV9.BCwUy3jnUQ_E6TqCayc7rCHkx-vxxdagUwPOWqwYCFc\n")])])]),s("p",[t._v("å®ƒå„ä¸ªéƒ¨åˆ†çš„å€¼åˆ†åˆ«æ˜¯ï¼š")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("headerï¼šeyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9")])]),t._v(" "),s("li",[s("code",[t._v("payloadï¼šeyJmb28iOiJiYXIiLCJpYXQiOjE1ODc1NDgyMTV9")])]),t._v(" "),s("li",[s("code",[t._v("signature: BCwUy3jnUQ_E6TqCayc7rCHkx-vxxdagUwPOWqwYCFc")])])]),t._v(" "),s("p",[t._v("ä¸‹é¢åˆ†åˆ«å¯¹æ¯ä¸ªéƒ¨åˆ†è¿›è¡Œè¯´æ˜Ž")]),t._v(" "),s("h3",{attrs:{id:"header"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#header"}},[t._v("#")]),t._v(" header")]),t._v(" "),s("p",[t._v("å®ƒæ˜¯ä»¤ç‰Œå¤´éƒ¨ï¼Œè®°å½•äº†æ•´ä¸ªä»¤ç‰Œçš„ç±»åž‹å’Œç­¾åç®—æ³•")]),t._v(" "),s("p",[t._v("å®ƒçš„æ ¼å¼æ˜¯ä¸€ä¸ª"),s("code",[t._v("json")]),t._v("å¯¹è±¡ï¼Œå¦‚ä¸‹ï¼š")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"alg"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"HS256"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"typ"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"JWT"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("è¯¥å¯¹è±¡è®°å½•äº†ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("algï¼šsignatureéƒ¨åˆ†ä½¿ç”¨çš„ç­¾åç®—æ³•ï¼Œé€šå¸¸å¯ä»¥å–ä¸¤ä¸ªå€¼\n"),s("ul",[s("li",[s("p",[t._v("HS256ï¼šä¸€ç§å¯¹ç§°åŠ å¯†ç®—æ³•ï¼Œä½¿ç”¨åŒä¸€ä¸ªç§˜é’¥å¯¹signatureåŠ å¯†è§£å¯†")])]),t._v(" "),s("li",[s("p",[t._v("RS256ï¼šä¸€ç§éžå¯¹ç§°åŠ å¯†ç®—æ³•ï¼Œä½¿ç”¨ç§é’¥ç­¾åï¼Œå…¬é’¥éªŒè¯")]),t._v(" "),s("blockquote",[s("p",[s("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/505799575",target:"_blank",rel:"noopener noreferrer"}},[t._v("RS256å’ŒHS256çš„åŒºåˆ«ï¼Œä»–ä»¬ä¸ŽSHA-256çš„è”ç³» - çŸ¥ä¹Ž (zhihu.com)"),s("OutboundLink")],1)])])])])]),t._v(" "),s("li",[t._v("typï¼šæ•´ä¸ªä»¤ç‰Œçš„ç±»åž‹ï¼Œå›ºå®šå†™"),s("code",[t._v("JWT")]),t._v("å³å¯")])]),t._v(" "),s("p",[t._v("è®¾ç½®å¥½äº†"),s("code",[t._v("header")]),t._v("ä¹‹åŽï¼Œå°±å¯ä»¥ç”Ÿæˆ"),s("code",[t._v("header")]),t._v("éƒ¨åˆ†äº†")]),t._v(" "),s("p",[t._v("å…·ä½“çš„ç”Ÿæˆæ–¹å¼åŠå…¶ç®€å•ï¼Œå°±æ˜¯æŠŠ"),s("code",[t._v("header")]),t._v("éƒ¨åˆ†ä½¿ç”¨"),s("code",[t._v("base64 url")]),t._v("ç¼–ç å³å¯")]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("base64 url")]),t._v("ä¸æ˜¯ä¸€ä¸ªåŠ å¯†ç®—æ³•ï¼Œè€Œæ˜¯ä¸€ç§ç¼–ç æ–¹å¼ï¼Œå®ƒæ˜¯åœ¨"),s("code",[t._v("base64")]),t._v("ç®—æ³•çš„åŸºç¡€ä¸Šå¯¹"),s("code",[t._v("+")]),t._v("ã€"),s("code",[t._v("=")]),t._v("ã€"),s("code",[t._v("/")]),t._v("ä¸‰ä¸ªå­—ç¬¦åšå‡ºç‰¹æ®Šå¤„ç†çš„ç®—æ³•")]),t._v(" "),s("p",[t._v("è€Œ"),s("code",[t._v("base64")]),t._v("æ˜¯ä½¿ç”¨64ä¸ªå¯æ‰“å°å­—ç¬¦æ¥è¡¨ç¤ºä¸€ä¸ªäºŒè¿›åˆ¶æ•°æ®ï¼Œå…·ä½“çš„åšæ³•å‚è€ƒ"),s("a",{attrs:{href:"https://baike.baidu.com/item/base64/8545775?fr=aladdin",target:"_blank",rel:"noopener noreferrer"}},[t._v("ç™¾åº¦ç™¾ç§‘"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v('10(0-9) + 52( 26(a-z)+26(A-Z) ) + "+" å’Œ "/"')])]),t._v(" "),s("p",[t._v("æµè§ˆå™¨æä¾›äº†"),s("code",[t._v("btoa")]),t._v("å‡½æ•°ï¼Œå¯ä»¥å®Œæˆè¿™ä¸ªæ“ä½œï¼š")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("window"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("btoa")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("stringify")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"alg"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"HS256"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"typ"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"JWT"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¾—åˆ°å­—ç¬¦ä¸²ï¼šeyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("btoa")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"a"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// "YQ==" ç¬¦å· = è¡¨ç¤ºå ä½ a åªæœ‰ä¸€ä¸ªå­—èŠ‚ï¼Œä¸è¶³ï¼Œå¿…é¡»3ä¸ªå­—èŠ‚ å¦‚æžœ abc å°±æ²¡é—®é¢˜')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("btoa")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"abc"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// "YWJj"')]),t._v("\n\n")])])]),s("p",[t._v("åŒæ ·çš„ï¼Œæµè§ˆå™¨ä¹Ÿæä¾›äº†"),s("code",[t._v("atob")]),t._v("å‡½æ•°ï¼Œå¯ä»¥å¯¹å…¶è¿›è¡Œè§£ç ï¼š")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("window"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("atob")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// å¾—åˆ°å­—ç¬¦ä¸²ï¼š{"alg":"HS256","typ":"JWT"}')]),t._v("\n")])])]),s("blockquote",[s("p",[t._v("nodejsä¸­æ²¡æœ‰æä¾›è¿™ä¸¤ä¸ªå‡½æ•°ï¼Œå¯ä»¥å®‰è£…ç¬¬ä¸‰æ–¹åº“"),s("code",[t._v("atob")]),t._v("å’Œ"),s("code",[t._v("bota")]),t._v("æžå®š")]),t._v(" "),s("p",[t._v("æˆ–è€…ï¼Œæ‰‹åŠ¨æžå®š")])]),t._v(" "),s("h3",{attrs:{id:"payload"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#payload"}},[t._v("#")]),t._v(" payload")]),t._v(" "),s("p",[t._v("è¿™éƒ¨åˆ†æ˜¯jwtçš„ä¸»ä½“ä¿¡æ¯ï¼Œå®ƒä»ç„¶æ˜¯ä¸€ä¸ªJSONå¯¹è±¡ï¼Œå®ƒå¯ä»¥åŒ…å«ä»¥ä¸‹å†…å®¹ï¼š")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"iss"')]),t._v("ï¼š"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"å‘è¡Œè€…"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"iat"')]),t._v("ï¼š"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"å‘å¸ƒæ—¶é—´"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"exp"')]),t._v("ï¼š"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"åˆ°æœŸæ—¶é—´"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"sub"')]),t._v("ï¼š"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ä¸»é¢˜"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"aud"')]),t._v("ï¼š"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"å¬ä¼—"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"nbf"')]),t._v("ï¼š"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"åœ¨æ­¤ä¹‹å‰ä¸å¯ç”¨"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"jti"')]),t._v("ï¼š"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"JWT ID"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("ä»¥ä¸Šå±žæ€§å¯ä»¥å…¨å†™ï¼Œä¹Ÿå¯ä»¥ä¸€ä¸ªéƒ½ä¸å†™ï¼Œå®ƒåªæ˜¯ä¸€ä¸ªè§„èŒƒï¼Œå°±ç®—å†™äº†ï¼Œä¹Ÿéœ€è¦ä½ åœ¨å°†æ¥éªŒè¯è¿™ä¸ªjwtä»¤ç‰Œæ—¶æ‰‹åŠ¨å¤„ç†æ‰èƒ½å‘æŒ¥ä½œç”¨")]),t._v(" "),s("p",[t._v("ä¸Šè¿°å±žæ€§è¡¨è¾¾çš„å«ä¹‰åˆ†åˆ«æ˜¯ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("issï¼š(Issuer) å‘è¡Œè¯¥jwtçš„æ˜¯è°ï¼Œå¯ä»¥å†™å…¬å¸åå­—ï¼Œä¹Ÿå¯ä»¥å†™æœåŠ¡åç§°")]),t._v(" "),s("li",[t._v("subï¼š(Subject) è¯¥jwtæ˜¯ç”¨äºŽå¹²å˜›çš„")]),t._v(" "),s("li",[t._v("iatï¼š(Issued At) è¯¥jwtçš„å‘æ”¾æ—¶é—´ï¼Œé€šå¸¸å†™å½“å‰æ—¶é—´çš„æ—¶é—´æˆ³")]),t._v(" "),s("li",[t._v("expï¼š(Expiration Time) è¯¥jwtçš„åˆ°æœŸæ—¶é—´ï¼Œé€šå¸¸å†™æ—¶é—´æˆ³")]),t._v(" "),s("li",[t._v("audï¼š (Audience) è¯¥ jwt æ˜¯å‘æ”¾ç»™å“ªä¸ªç»ˆç«¯çš„ï¼Œå¯ä»¥æ˜¯ç»ˆç«¯ç±»åž‹ï¼Œä¹Ÿå¯ä»¥æ˜¯ç”¨æˆ·åç§°ï¼Œéšæ„ä¸€ç‚¹")]),t._v(" "),s("li",[t._v("nbfï¼š(Not Before) ä¸€ä¸ªæ—¶é—´ç‚¹ï¼Œåœ¨è¯¥æ—¶é—´ç‚¹åˆ°è¾¾ä¹‹å‰ï¼Œè¿™ä¸ªä»¤ç‰Œæ˜¯ä¸å¯ç”¨çš„")]),t._v(" "),s("li",[t._v("jtiï¼š (JWT ID) jwtçš„å”¯ä¸€ç¼–å·ï¼Œè®¾ç½®æ­¤é¡¹çš„ç›®çš„ï¼Œä¸»è¦æ˜¯ä¸ºäº†é˜²æ­¢é‡æ”¾æ”»å‡»ï¼ˆé‡æ”¾æ”»å‡»æ˜¯åœ¨æŸäº›åœºæ™¯ä¸‹ï¼Œç”¨æˆ·ä½¿ç”¨ä¹‹å‰çš„ä»¤ç‰Œå‘é€åˆ°æœåŠ¡å™¨ï¼Œè¢«æœåŠ¡å™¨æ­£ç¡®çš„è¯†åˆ«ï¼Œä»Žè€Œå¯¼è‡´ä¸å¯é¢„æœŸçš„è¡Œä¸ºå‘ç”Ÿï¼‰")])]),t._v(" "),s("p",[s("a",{attrs:{href:"https://jwt.io/introduction/",target:"_blank",rel:"noopener noreferrer"}},[t._v("JSON Web Token Introduction - jwt.io"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("å¯æ˜¯åˆ°çŽ°åœ¨ï¼Œçœ‹äº†åŠå¤©ï¼Œæ²¡æœ‰å‡ºçŽ°æˆ‘æƒ³è¦å†™å…¥çš„æ•°æ®å•ŠðŸ˜‚")]),t._v(" "),s("p",[t._v("å½“ç”¨æˆ·ç™»é™†æˆåŠŸä¹‹åŽï¼Œæˆ‘å¯èƒ½éœ€è¦æŠŠç”¨æˆ·çš„ä¸€äº›ä¿¡æ¯å†™å…¥åˆ°jwtä»¤ç‰Œä¸­ï¼Œæ¯”å¦‚ç”¨æˆ·idã€è´¦å·ç­‰ç­‰ï¼ˆå¯†ç å°±ç®—äº†ðŸ˜³ï¼‰")]),t._v(" "),s("p",[t._v("å…¶å®žå¾ˆç®€å•ï¼Œpayloadè¿™ä¸€éƒ¨åˆ†åªæ˜¯ä¸€ä¸ªjsonå¯¹è±¡è€Œå·²ï¼Œä½ å¯ä»¥å‘å¯¹è±¡ä¸­åŠ å…¥ä»»ä½•æƒ³è¦åŠ å…¥çš„ä¿¡æ¯")]),t._v(" "),s("p",[t._v("æ¯”å¦‚ï¼Œä¸‹é¢çš„jsonå¯¹è±¡ä»ç„¶æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„payload")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"foo"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"bar"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"iat"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1587548215")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[s("code",[t._v("foo: bar")]),t._v("æ˜¯æˆ‘ä»¬è‡ªå®šä¹‰çš„ä¿¡æ¯ï¼Œ"),s("code",[t._v("iat: 1587548215")]),t._v("æ˜¯jwtè§„èŒƒä¸­çš„ä¿¡æ¯")]),t._v(" "),s("p",[t._v("æœ€ç»ˆï¼Œpayloadéƒ¨åˆ†å’Œheaderä¸€æ ·ï¼Œéœ€è¦é€šè¿‡"),s("code",[t._v("base64 url")]),t._v("ç¼–ç å¾—åˆ°ï¼š")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("window"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("btoa")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("stringify")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"foo"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"bar"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"iat"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1587548215")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¾—åˆ°å­—ç¬¦ä¸²ï¼šeyJmb28iOiJiYXIiLCJpYXQiOjE1ODc1NDgyMTV9")]),t._v("\n")])])]),s("h3",{attrs:{id:"signature"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#signature"}},[t._v("#")]),t._v(" signature")]),t._v(" "),s("p",[t._v("è¿™ä¸€éƒ¨åˆ†æ˜¯jwtçš„ç­¾åï¼Œæ­£æ˜¯å®ƒçš„å­˜åœ¨ï¼Œä¿è¯äº†æ•´ä¸ªjwtä¸è¢«ç¯¡æ”¹")]),t._v(" "),s("p",[t._v("è¿™éƒ¨åˆ†çš„ç”Ÿæˆï¼Œæ˜¯å¯¹å‰é¢ä¸¤ä¸ªéƒ¨åˆ†çš„ç¼–ç ç»“æžœï¼ŒæŒ‰ç…§å¤´éƒ¨æŒ‡å®šçš„æ–¹å¼è¿›è¡ŒåŠ å¯†")]),t._v(" "),s("p",[t._v("æ¯”å¦‚ï¼šå¤´éƒ¨æŒ‡å®šçš„åŠ å¯†æ–¹æ³•æ˜¯"),s("code",[t._v("HS256")]),t._v("ï¼Œå‰é¢ä¸¤éƒ¨åˆ†çš„ç¼–ç ç»“æžœæ˜¯"),s("code",[t._v("eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJmb28iOiJiYXIiLCJpYXQiOjE1ODc1NDgyMTV9")])]),t._v(" "),s("p",[t._v("åˆ™ç¬¬ä¸‰éƒ¨åˆ†å°±æ˜¯ç”¨å¯¹ç§°åŠ å¯†ç®—æ³•"),s("code",[t._v("HS256")]),t._v("å¯¹å­—ç¬¦ä¸²"),s("code",[t._v("eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJmb28iOiJiYXIiLCJpYXQiOjE1ODc1NDgyMTV9")]),t._v("è¿›è¡ŒåŠ å¯†ï¼Œå½“ç„¶ä½ å¾—æŒ‡å®šä¸€ä¸ªç§˜é’¥ï¼Œæ¯”å¦‚"),s("code",[t._v("shhhhh")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("HS256")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJmb28iOiJiYXIiLCJpYXQiOjE1ODc1NDgyMTV9")]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"shhhhh"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¾—åˆ°ï¼šBCwUy3jnUQ_E6TqCayc7rCHkx-vxxdagUwPOWqwYCFc")]),t._v("\n")])])]),s("p",[t._v("æœ€ç»ˆï¼Œå°†ä¸‰éƒ¨åˆ†ç»„åˆåœ¨ä¸€èµ·ï¼Œå°±å¾—åˆ°äº†å®Œæ•´çš„jwt")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJmb28iOiJiYXIiLCJpYXQiOjE1ODc1NDgyMTV9.BCwUy3jnUQ_E6TqCayc7rCHkx-vxxdagUwPOWqwYCFc\n")])])]),s("p",[t._v("ç”±äºŽç­¾åä½¿ç”¨çš„ç§˜é’¥ä¿å­˜åœ¨æœåŠ¡å™¨ï¼Œè¿™æ ·ä¸€æ¥ï¼Œå®¢æˆ·ç«¯å°±æ— æ³•ä¼ªé€ å‡ºç­¾åï¼Œå› ä¸ºå®ƒæ‹¿ä¸åˆ°ç§˜é’¥ã€‚")]),t._v(" "),s("p",[t._v("æ¢å¥è¯è¯´ï¼Œä¹‹æ‰€ä»¥è¯´æ— æ³•ä¼ªé€ jwtï¼Œå°±æ˜¯å› ä¸ºç¬¬ä¸‰éƒ¨åˆ†çš„å­˜åœ¨ã€‚")]),t._v(" "),s("p",[t._v("è€Œå‰é¢ä¸¤éƒ¨åˆ†å¹¶æ²¡æœ‰åŠ å¯†ï¼Œåªæ˜¯ä¸€ä¸ªç¼–ç ç»“æžœè€Œå·²ï¼Œå¯ä»¥è®¤ä¸ºå‡ ä¹Žæ˜¯æ˜Žæ–‡ä¼ è¾“")]),t._v(" "),s("blockquote",[s("p",[t._v("è¿™ä¸ä¼šé€ æˆå¤ªå¤§çš„é—®é¢˜ï¼Œå› ä¸ºæ—¢ç„¶ç”¨æˆ·ç™»é™†æˆåŠŸäº†ï¼Œå®ƒå½“ç„¶æœ‰æƒåŠ›æŸ¥çœ‹è‡ªå·±çš„ç”¨æˆ·ä¿¡æ¯")]),t._v(" "),s("p",[t._v("ç”šè‡³åœ¨æŸäº›ç½‘ç«™ï¼Œç”¨æˆ·çš„åŸºæœ¬ä¿¡æ¯å¯ä»¥è¢«ä»»ä½•äººæŸ¥çœ‹")]),t._v(" "),s("p",[t._v("ä½ è¦ä¿è¯çš„ï¼Œæ˜¯ä¸è¦æŠŠæ•æ„Ÿçš„ä¿¡æ¯å­˜æ”¾åˆ°jwtä¸­ï¼Œæ¯”å¦‚å¯†ç ")])]),t._v(" "),s("p",[t._v("jwtçš„"),s("code",[t._v("signature")]),t._v("å¯ä»¥ä¿è¯ä»¤ç‰Œä¸è¢«ä¼ªé€ ï¼Œé‚£å¦‚ä½•ä¿è¯ä»¤ç‰Œä¸è¢«ç¯¡æ”¹å‘¢ï¼Ÿ")]),t._v(" "),s("p",[t._v("æ¯”å¦‚ï¼ŒæŸä¸ªç”¨æˆ·ç™»é™†æˆåŠŸäº†ï¼ŒèŽ·å¾—äº†jwtï¼Œä½†ä»–äººä¸ºçš„ç¯¡æ”¹äº†"),s("code",[t._v("payload")]),t._v("ï¼Œæ¯”å¦‚æŠŠè‡ªå·±çš„è´¦æˆ·ä½™é¢ä¿®æ”¹ä¸ºåŽŸæ¥çš„ä¸¤å€ï¼Œç„¶åŽé‡æ–°ç¼–ç å‡º"),s("code",[t._v("payload")]),t._v("å‘é€åˆ°æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨å¦‚ä½•å¾—çŸ¥è¿™äº›ä¿¡æ¯è¢«ç¯¡æ”¹è¿‡äº†å‘¢ï¼Ÿ")]),t._v(" "),s("p",[t._v("è¿™å°±è¦è¯´åˆ°ä»¤ç‰Œçš„éªŒè¯äº†")]),t._v(" "),s("h2",{attrs:{id:"ä»¤ç‰Œçš„éªŒè¯"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä»¤ç‰Œçš„éªŒè¯"}},[t._v("#")]),t._v(" ä»¤ç‰Œçš„éªŒè¯")]),t._v(" "),s("p",[s("img",{attrs:{src:"http://mdrs.yuanjin.tech/img/image-20200422172837190.png",alt:"image-20200422172837190"}})]),t._v(" "),s("p",[t._v("ä»¤ç‰Œåœ¨æœåŠ¡å™¨ç»„è£…å®ŒæˆåŽï¼Œä¼šä»¥ä»»æ„çš„æ–¹å¼å‘é€åˆ°å®¢æˆ·ç«¯")]),t._v(" "),s("p",[t._v("å®¢æˆ·ç«¯ä¼šæŠŠä»¤ç‰Œä¿å­˜èµ·æ¥ï¼ŒåŽç»­çš„è¯·æ±‚ä¼šå°†ä»¤ç‰Œå‘é€ç»™æœåŠ¡å™¨")]),t._v(" "),s("p",[t._v("è€ŒæœåŠ¡å™¨éœ€è¦éªŒè¯ä»¤ç‰Œæ˜¯å¦æ­£ç¡®ï¼Œå¦‚ä½•éªŒè¯å‘¢ï¼Ÿ")]),t._v(" "),s("p",[t._v("é¦–å…ˆï¼ŒæœåŠ¡å™¨è¦éªŒè¯è¿™ä¸ªä»¤ç‰Œæ˜¯å¦è¢«ç¯¡æ”¹è¿‡ï¼ŒéªŒè¯æ–¹å¼éžå¸¸ç®€å•ï¼Œå°±æ˜¯å¯¹"),s("code",[t._v("header+payload")]),t._v("ç”¨åŒæ ·çš„ç§˜é’¥å’ŒåŠ å¯†ç®—æ³•è¿›è¡Œé‡æ–°åŠ å¯†")]),t._v(" "),s("p",[t._v("ç„¶åŽæŠŠåŠ å¯†çš„ç»“æžœå’Œä¼ å…¥jwtçš„"),s("code",[t._v("signature")]),t._v("è¿›è¡Œå¯¹æ¯”ï¼Œå¦‚æžœå®Œå…¨ç›¸åŒï¼Œåˆ™è¡¨ç¤ºå‰é¢ä¸¤éƒ¨åˆ†æ²¡æœ‰åŠ¨è¿‡ï¼Œå°±æ˜¯è‡ªå·±é¢å‘çš„ï¼Œå¦‚æžœä¸åŒï¼Œè‚¯å®šæ˜¯è¢«ç¯¡æ”¹è¿‡äº†ã€‚")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("ä¼ å…¥çš„header.ä¼ å…¥çš„payload.ä¼ å…¥çš„signature\næ–°çš„signature = headerä¸­çš„åŠ å¯†ç®—æ³•(ä¼ å…¥çš„header.ä¼ å…¥çš„payload, ç§˜é’¥)\néªŒè¯ï¼šæ–°çš„signature == ä¼ å…¥çš„signature\n")])])]),s("p",[t._v("å½“ä»¤ç‰ŒéªŒè¯ä¸ºæ²¡æœ‰è¢«ç¯¡æ”¹åŽï¼ŒæœåŠ¡å™¨å¯ä»¥è¿›è¡Œå…¶ä»–éªŒè¯ï¼šæ¯”å¦‚æ˜¯å¦è¿‡æœŸã€å¬ä¼—æ˜¯å¦æ»¡è¶³è¦æ±‚ç­‰ç­‰ï¼Œè¿™äº›å°±è§†æƒ…å†µè€Œå®šäº†")]),t._v(" "),s("p",[t._v("æ³¨æ„ï¼šè¿™äº›éªŒè¯éƒ½éœ€è¦æœåŠ¡å™¨æ‰‹åŠ¨å®Œæˆï¼Œæ²¡æœ‰å“ªä¸ªæœåŠ¡å™¨ä¼šç»™ä½ è¿›è¡Œè‡ªåŠ¨éªŒè¯ï¼Œå½“ç„¶ï¼Œä½ å¯ä»¥å€ŸåŠ©ç¬¬ä¸‰æ–¹åº“æ¥å®Œæˆè¿™äº›æ“ä½œ")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// npm i webjsontoken")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" jwt "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"jsonwebtoken"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" privateKey "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"quweiqianhenshuai"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("await")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("duration")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" date "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Date"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("now")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Date"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("now")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" date "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),t._v(" duration"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" result "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" jwt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sign")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("a")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("b")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" privateKey"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("expiresIn")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhIjoxLCJiIjoyLCJpYXQiOjE2OTI1ODc5OTR9.-bXfff4UKeB5uNPSXhUbp525TWrJ18QjPF5WC_0TUdY")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// const res = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhIjoxLCJiIjoyLCJpYXQiOjE2OTI1ODc5OTR9.-bXfff4UKeB5uNPSXhUbp525TWrJ18QjPF5WC_0TUdY'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" v "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" jwt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("verify")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" privateKey"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("v"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è®¾ç½®è¿‡æœŸæ—¶é—´åŽæŠ¥é”™")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* c:\\Users\\Administrator\\Desktop\\q\\jwt\\node_modules\\jsonwebtoken\\verify.js:40\n      if (err) throw err;\n               ^\nTokenExpiredError: jwt expired */")]),t._v("\n\n")])])]),s("h2",{attrs:{id:"æ€»ç»“"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ€»ç»“"}},[t._v("#")]),t._v(" æ€»ç»“")]),t._v(" "),s("p",[t._v("æœ€åŽï¼Œæ€»ç»“ä¸€ä¸‹jwtçš„ç‰¹ç‚¹ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("jwtæœ¬è´¨ä¸Šæ˜¯ä¸€ç§ä»¤ç‰Œæ ¼å¼ã€‚å®ƒå’Œç»ˆç«¯è®¾å¤‡æ— å…³ï¼ŒåŒæ ·å’ŒæœåŠ¡å™¨æ— å…³ï¼Œç”šè‡³ä¸Žå¦‚ä½•ä¼ è¾“æ— å…³ï¼Œå®ƒåªæ˜¯è§„èŒƒäº†ä»¤ç‰Œçš„æ ¼å¼è€Œå·²")]),t._v(" "),s("li",[t._v("jwtç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼šheaderã€payloadã€signatureã€‚ä¸»ä½“ä¿¡æ¯åœ¨payload")]),t._v(" "),s("li",[t._v("jwtéš¾ä»¥è¢«ç¯¡æ”¹å’Œä¼ªé€ ã€‚è¿™æ˜¯å› ä¸ºæœ‰ç¬¬ä¸‰éƒ¨åˆ†çš„ç­¾åå­˜åœ¨ã€‚")])]),t._v(" "),s("h2",{attrs:{id:"é¢è¯•é¢˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#é¢è¯•é¢˜"}},[t._v("#")]),t._v(" é¢è¯•é¢˜")]),t._v(" "),s("p",[t._v("è¯·é˜è¿°JWTçš„ä»¤ç‰Œæ ¼å¼")]),t._v(" "),s("blockquote",[s("p",[t._v("å‚è€ƒç­”æ¡ˆï¼š")]),t._v(" "),s("p",[t._v("token åˆ†ä¸ºä¸‰æ®µï¼Œåˆ†åˆ«æ˜¯ headerã€payloadã€signature")]),t._v(" "),s("p",[t._v("å…¶ä¸­ï¼Œheader æ ‡è¯†ç­¾åç®—æ³•å’Œä»¤ç‰Œç±»åž‹ï¼›payload æ ‡è¯†ä¸»ä½“ä¿¡æ¯ï¼ŒåŒ…å«ä»¤ç‰Œè¿‡æœŸæ—¶é—´ã€å‘å¸ƒæ—¶é—´ã€å‘è¡Œè€…ã€ä¸»ä½“å†…å®¹ç­‰ï¼›signature æ˜¯ä½¿ç”¨ç‰¹å®šçš„ç®—æ³•å¯¹å‰é¢ä¸¤éƒ¨åˆ†è¿›è¡ŒåŠ å¯†ï¼Œå¾—åˆ°çš„åŠ å¯†ç»“æžœã€‚")]),t._v(" "),s("p",[t._v("token æœ‰é˜²ç¯¡æ”¹çš„ç‰¹ç‚¹ï¼Œå¦‚æžœæ”»å‡»è€…æ”¹åŠ¨äº†å‰é¢ä¸¤ä¸ªéƒ¨åˆ†ï¼Œå°±ä¼šå¯¼è‡´å’Œç¬¬ä¸‰éƒ¨åˆ†å¯¹åº”ä¸ä¸Šï¼Œä½¿å¾— token å¤±æ•ˆã€‚è€Œæ”»å‡»è€…ä¸çŸ¥é“åŠ å¯†ç§˜é’¥ï¼Œå› æ­¤åˆæ— æ³•ä¿®æ”¹ç¬¬ä¸‰éƒ¨åˆ†çš„å€¼ã€‚")]),t._v(" "),s("p",[t._v("æ‰€ä»¥ï¼Œåœ¨ç§˜é’¥ä¸è¢«æ³„éœ²çš„å‰æä¸‹ï¼Œä¸€ä¸ªéªŒè¯é€šè¿‡çš„ token æ˜¯å€¼å¾—è¢«ä¿¡ä»»çš„ã€‚")])])])}),[],!1,null,null,null);s.default=e.exports}}]);