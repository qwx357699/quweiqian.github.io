(window.webpackJsonp=window.webpackJsonp||[]).push([[104],{413:function(a,t,s){"use strict";s.r(t);var r=s(14),e=Object(r.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"获取远程数据"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#获取远程数据"}},[a._v("#")]),a._v(" 获取远程数据")]),a._v(" "),t("blockquote",[t("p",[a._v("本节课内容和vue没有任何关系！")]),a._v(" "),t("p",[a._v("vue cli: https://cli.vuejs.org/zh/")]),a._v(" "),t("p",[a._v("axios: https://github.com/axios/axios")]),a._v(" "),t("p",[a._v("mockjs：http://mockjs.com/")])]),a._v(" "),t("h1",{attrs:{id:"远程获取数据的意义"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#远程获取数据的意义"}},[a._v("#")]),a._v(" 远程获取数据的意义")]),a._v(" "),t("img",{staticStyle:{zoom:"40%"},attrs:{src:"http://mdrs.yuanjin.tech/img/20201204145137.png",alt:"image-20201204145137500"}}),a._v(" "),t("h1",{attrs:{id:"开发环境有跨域问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#开发环境有跨域问题"}},[a._v("#")]),a._v(" 开发环境有跨域问题")]),a._v(" "),t("div",{staticClass:"language-mermaid extra-class"},[t("pre",{pre:!0,attrs:{class:"language-mermaid"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("sequenceDiagram")]),a._v("\n浏览器"),t("span",{pre:!0,attrs:{class:"token arrow operator"}},[a._v("->>")]),a._v("前端开发服务器"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" http"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("//localhost"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("8080/\n前端开发服务器"),t("span",{pre:!0,attrs:{class:"token arrow operator"}},[a._v("->>")]),a._v("浏览器"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" 页面\n浏览器"),t("span",{pre:!0,attrs:{class:"token arrow operator"}},[a._v("->>")]),a._v("后端测试服务器"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" ajax 跨域：http"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("//test-data"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("3000/api/news\n后端测试服务器"),t("span",{pre:!0,attrs:{class:"token arrow operator"}},[a._v("->>")]),a._v("浏览器"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" JSON数据\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("rect")]),a._v(" rgb"),t("span",{pre:!0,attrs:{class:"token text string"}},[a._v("(224,74,74)")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("Note right of")]),a._v(" 浏览器"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" 浏览器阻止数据移交\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("end")]),a._v("\n")])])]),t("h1",{attrs:{id:"生产环境没有跨域问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#生产环境没有跨域问题"}},[a._v("#")]),a._v(" 生产环境没有跨域问题")]),a._v(" "),t("div",{staticClass:"language-mermaid extra-class"},[t("pre",{pre:!0,attrs:{class:"language-mermaid"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("sequenceDiagram")]),a._v("\n浏览器"),t("span",{pre:!0,attrs:{class:"token arrow operator"}},[a._v("->>")]),a._v("服务器"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" http"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("//www.my-site.com/\n服务器"),t("span",{pre:!0,attrs:{class:"token arrow operator"}},[a._v("->>")]),a._v("浏览器"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" 页面\n浏览器"),t("span",{pre:!0,attrs:{class:"token arrow operator"}},[a._v("->>")]),a._v("服务器"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" ajax：http"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("//www.my-site.com/api/news\n服务器"),t("span",{pre:!0,attrs:{class:"token arrow operator"}},[a._v("->>")]),a._v("浏览器"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" JSON数据\n")])])]),t("div",{staticClass:"language-mermaid extra-class"},[t("pre",{pre:!0,attrs:{class:"language-mermaid"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("sequenceDiagram")]),a._v("\n浏览器"),t("span",{pre:!0,attrs:{class:"token arrow operator"}},[a._v("->>")]),a._v("静态资源服务器"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" http"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("//www.my-site.com/\n静态资源服务器"),t("span",{pre:!0,attrs:{class:"token arrow operator"}},[a._v("->>")]),a._v("浏览器"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" 页面\n浏览器"),t("span",{pre:!0,attrs:{class:"token arrow operator"}},[a._v("->>")]),a._v("数据服务器"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" ajax 跨域：http"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("//api.my-site.com/api/news\n数据服务器"),t("span",{pre:!0,attrs:{class:"token arrow operator"}},[a._v("->>")]),a._v("浏览器"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token text string"}},[a._v("[允许www.my-site.com]")]),a._v("JSON数据\n")])])]),t("h1",{attrs:{id:"解决开发环境的跨域问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#解决开发环境的跨域问题"}},[a._v("#")]),a._v(" 解决开发环境的跨域问题")]),a._v(" "),t("div",{staticClass:"language-mermaid extra-class"},[t("pre",{pre:!0,attrs:{class:"language-mermaid"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("sequenceDiagram")]),a._v("\n浏览器"),t("span",{pre:!0,attrs:{class:"token arrow operator"}},[a._v("->>")]),a._v("前端开发服务器"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" http"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("//localhost"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("8080/\n前端开发服务器"),t("span",{pre:!0,attrs:{class:"token arrow operator"}},[a._v("->>")]),a._v("浏览器"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" 页面\n浏览器"),t("span",{pre:!0,attrs:{class:"token arrow operator"}},[a._v("->>")]),a._v("前端开发服务器"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" ajax：http"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("//localhost"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("8080/api/news\n前端开发服务器"),t("span",{pre:!0,attrs:{class:"token arrow operator"}},[a._v("->>")]),a._v("后端测试服务器"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" 代理请求：http"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("//test-data"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("3000/api/news\n后端测试服务器"),t("span",{pre:!0,attrs:{class:"token arrow operator"}},[a._v("->>")]),a._v("前端开发服务器"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" JSON数据\n前端开发服务器"),t("span",{pre:!0,attrs:{class:"token arrow operator"}},[a._v("->>")]),a._v("浏览器"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" JSON数据\n")])])]),t("h1",{attrs:{id:"为什么要mock数据"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#为什么要mock数据"}},[a._v("#")]),a._v(" 为什么要Mock数据")]),a._v(" "),t("div",{staticClass:"language-mermaid extra-class"},[t("pre",{pre:!0,attrs:{class:"language-mermaid"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("sequenceDiagram")]),a._v("\n浏览器"),t("span",{pre:!0,attrs:{class:"token arrow operator"}},[a._v("->>")]),a._v("前端开发服务器"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" http"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("//localhost"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("8080/\n前端开发服务器"),t("span",{pre:!0,attrs:{class:"token arrow operator"}},[a._v("->>")]),a._v("浏览器"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" 页面\n浏览器"),t("span",{pre:!0,attrs:{class:"token arrow operator"}},[a._v("->>")]),a._v("前端开发服务器"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" ajax：http"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("//localhost"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("8080/api/news\n前端开发服务器"),t("span",{pre:!0,attrs:{class:"token arrow operator"}},[a._v("->>")]),a._v("后端测试服务器"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" 代理请求：http"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("//test-data"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("3000/api/news\n后端测试服务器"),t("span",{pre:!0,attrs:{class:"token arrow operator"}},[a._v("->>")]),a._v("前端开发服务器"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" 404 （后端正在开发中）\n前端开发服务器"),t("span",{pre:!0,attrs:{class:"token arrow operator"}},[a._v("->>")]),a._v("浏览器"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" 404\n")])])]),t("div",{staticClass:"language-mermaid extra-class"},[t("pre",{pre:!0,attrs:{class:"language-mermaid"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("sequenceDiagram")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("participant")]),a._v(" 浏览器\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("participant")]),a._v(" MockJS\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("participant")]),a._v(" 前端开发服务器\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("activate")]),a._v(" MockJS\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("Note left of")]),a._v(" MockJS"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" 定义ajax拦截规则\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("deactivate")]),a._v(" MockJS\n浏览器"),t("span",{pre:!0,attrs:{class:"token arrow operator"}},[a._v("->>")]),a._v("前端开发服务器"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" http"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("//localhost"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("8080/\n前端开发服务器"),t("span",{pre:!0,attrs:{class:"token arrow operator"}},[a._v("->>")]),a._v("浏览器"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" 页面\n浏览器"),t("span",{pre:!0,attrs:{class:"token arrow operator"}},[a._v("->>")]),a._v("MockJS"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" ajax：http"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("//localhost"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("8080/api/news\nMockJS"),t("span",{pre:!0,attrs:{class:"token arrow operator"}},[a._v("->>")]),a._v("浏览器"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" 模拟的JSON数据\n")])])])])}),[],!1,null,null,null);t.default=e.exports}}]);