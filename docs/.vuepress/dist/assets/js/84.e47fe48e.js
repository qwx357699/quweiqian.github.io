(window.webpackJsonp=window.webpackJsonp||[]).push([[84],{458:function(e,t,v){"use strict";v.r(t);var _=v(10),s=Object(_.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"ppk-viewport-p1"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ppk-viewport-p1"}},[e._v("#")]),e._v(" ppk-viewport-p1")]),e._v(" "),t("p",[t("strong",[e._v("在这个迷你系列中，我将解释viewports和各种(various)重要元素的宽度是如何工作的，比如<html>元素，以及窗口和屏幕。")])]),e._v(" "),t("p",[e._v("这个页面是关于桌面浏览器的，它的唯一目的("),t("em",[e._v("sole purpose")]),e._v(")是为移动浏览器的类似讨论奠定基础。大多数web开发人员已经能够直观地("),t("em",[e._v("intuitively")]),e._v(")理解大多数桌面概念。在移动设备上，我们会发现相同的概念，但更复杂。一个前置的讨论关于术语("),t("em",[e._v("terms")]),e._v(")，每个人都已经了解过的，这将极大地帮助你理解移动浏览器。")]),e._v(" "),t("h2",{attrs:{id:"device-pixels-and-css-pixels"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#device-pixels-and-css-pixels"}},[e._v("#")]),e._v(" device pixels and CSS pixels")]),e._v(" "),t("p",[e._v("您需要了解的第一个概念是 CSS 像素("),t("strong",[e._v("CSS pixels")]),e._v(")，以及与设备像素("),t("strong",[e._v("device pixels")]),e._v(")的区别。")]),e._v(" "),t("p",[e._v("设备像素是我们凭直觉认为是("),t("em",[e._v("intuitively assume to be")]),e._v(")“正确”的那种像素。这些像素给出了你正在使用的任何("),t("em",[e._v("whichever")]),e._v(")设备的正式分辨率("),t("em",[e._v("formal resolution")]),e._v(")，并且(通常)可以从"),t("code",[e._v("screen.width/height")]),e._v("读出。")]),e._v(" "),t("p",[e._v("如果你给某个("),t("em",[e._v("certain")]),e._v(")元素设置"),t("code",[e._v("width: 128px")]),e._v("，而你的显示器("),t("em",[e._v("monitor")]),e._v(")是 1024px 宽，你最大化("),t("em",[e._v("maximise")]),e._v(")你的浏览器屏幕，元素将适合你的显示器8倍(大约的估计;让我们暂时忽略那些棘手的部分("),t("em",[e._v("tricky bits")]),e._v("))。")]),e._v(" "),t("p",[e._v("但是，如果用户放大，这个估算就会改变。如果用户缩放到200%，那么宽度 "),t("code",[e._v("width: 128px")]),e._v("的元素在他的 1024px 宽的显示器上只能容纳4倍。")]),e._v(" "),t("p",[e._v("在现代("),t("em",[e._v("modern")]),e._v(")浏览器中实现的缩放只不过是“拉伸”像素。也就是说，元素的宽度不会从 128px 变为 256px；相反，实际像素的大小增加了一倍。在形式上，元素的宽度仍然是128 CSS像素，尽管它恰好占用了256个设备像素的空间。")]),e._v(" "),t("p",[e._v("换句话说，"),t("strong",[e._v("缩放到 200% 会使一个 CSS 像素增长到一个设备像素的四倍。")]),e._v("(两倍的宽度，两倍的高度，总共是四倍)。")]),e._v(" "),t("p",[e._v("几张图片将阐明这个概念。这是四个像素，100%缩放。这里没什么可看的;CSS像素与设备像素完全重叠("),t("em",[e._v("overlaps")]),e._v(")。")]),e._v(" "),t("p",[t("img",{attrs:{src:"https://www.quirksmode.org/mobile/pix/viewport/csspixels_100.gif",alt:""}})]),e._v(" "),t("p",[e._v("现在让我们缩小。CSS像素开始缩小，这意味着一个设备像素现在重叠了几个CSS像素。")]),e._v(" "),t("p",[t("img",{attrs:{src:"https://www.quirksmode.org/mobile/pix/viewport/csspixels_out.gif",alt:""}})]),e._v(" "),t("p",[e._v("如果你放大，情况正好相反。CSS像素开始增长，现在一个CSS像素与几个设备像素重叠。")]),e._v(" "),t("p",[t("img",{attrs:{src:"https://www.quirksmode.org/mobile/pix/viewport/csspixels_in.gif",alt:""}})]),e._v(" "),t("p",[e._v("这里的重点是，您只需要关注CSS像素。正是这些像素决定了样式表("),t("em",[e._v("style sheet")]),e._v(")如何渲染("),t("em",[e._v("rendered")]),e._v(")。")]),e._v(" "),t("p",[e._v("设备像素对你来说几乎毫无用处。不是面向用户的;用户将放大或缩小页面，直到他能舒服地阅读。然而，缩放级别对你来说并不重要。浏览器会自动确定你的CSS布局是拉伸的还是压缩的。")]),e._v(" "),t("h2",{attrs:{id:"_100-zoom"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_100-zoom"}},[e._v("#")]),e._v(" 100% zoom")]),e._v(" "),t("p",[e._v("在示例开始时，我假设缩放级别为100%。是时候更严格地定义一下了:")]),e._v(" "),t("p",[t("strong",[e._v("在100%缩放级别，一个CSS像素正好等于一个设备像素。")])]),e._v(" "),t("p",[e._v("100%缩放("),t("strong",[e._v("100% zoom")]),e._v(")的概念在接下来的解释中非常有用，但你不应该在日常工作中过度("),t("em",[e._v("overly")]),e._v(")担心它。在桌面端，你通常会用 100% 的缩放来测试你的网站，但即使用户放大或缩小，CSS像素的魔法("),t("em",[e._v("magic")]),e._v(")也会确保你的布局保持相同的比例。")]),e._v(" "),t("h2",{attrs:{id:"screen-size"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#screen-size"}},[e._v("#")]),e._v(" Screen size")]),e._v(" "),t("p",[e._v("让我们来看看一些实际的测量方法("),t("em",[e._v("practical measurements")]),e._v(")。我们从屏幕开始。"),t("code",[e._v("screen.width")]),e._v("和屏幕"),t("code",[e._v("screen.height")]),e._v("。它们包含用户屏幕的总宽度和高度。这些尺寸("),t("em",[e._v("dimensions")]),e._v(")以设备像素为单位测量，因为它们永远不会改变:它们是显示器的特性，而不是浏览器的特性。")]),e._v(" "),t("p",[t("img",{attrs:{src:"https://www.quirksmode.org/mobile/pix/viewport/desktop_screen.jpg",alt:""}})]),e._v(" "),t("p",[e._v("Fun! But what do we do with this information?")]),e._v(" "),t("p",[e._v("基本上,不需要干什么。用户的监视器大小对我们来说是不重要的 — 除非您想测量它以便在web统计数据库中使用。")]),e._v(" "),t("p",[e._v("浏览器错误，IE8在IE7和IE8模式下都以CSS像素为单位测量它。")]),e._v(" "),t("p",[e._v("---try try start---")]),e._v(" "),t("p",[e._v("测试调整浏览器缩放比例和系统的分辨率从观察 "),t("code",[e._v("screen with/height")]),e._v(" 是否改变：edge中开启debugger "),t("code",[e._v("%systemroot%\\system32\\f12\\IEChooser.exe")])]),e._v(" "),t("p",[e._v("结果：")]),e._v(" "),t("table",[t("thead",[t("tr",[t("th",[e._v("浏览器")]),e._v(" "),t("th",[e._v("页面缩放")]),e._v(" "),t("th",[e._v("设置分辨率")]),e._v(" "),t("th",[e._v("缩放系统")])])]),e._v(" "),t("tbody",[t("tr",[t("td",[e._v("edge/118.0.2088.69")]),e._v(" "),t("td",[e._v("不变")]),e._v(" "),t("td",[e._v("改变")]),e._v(" "),t("td",[e._v("改变")])]),e._v(" "),t("tr",[t("td",[e._v("谷歌")]),e._v(" "),t("td",[e._v("不变")]),e._v(" "),t("td",[e._v("改变")]),e._v(" "),t("td",[e._v("改变")])]),e._v(" "),t("tr",[t("td",[e._v("火狐/118.0.2 (64 位)")]),e._v(" "),t("td",[e._v("改变")]),e._v(" "),t("td",[e._v("改变")]),e._v(" "),t("td",[e._v("改变")])]),e._v(" "),t("tr",[t("td",[e._v("IE/11")]),e._v(" "),t("td",[e._v("改变")]),e._v(" "),t("td",[e._v("改变")]),e._v(" "),t("td",[e._v("改变")])])])]),e._v(" "),t("p",[e._v("try 完得出两点：")]),e._v(" "),t("ol",[t("li",[e._v("狐火中 "),t("code",[e._v("screen.width/height")]),e._v("也不靠谱，应该也是 CSS像素为单位测量的。")]),e._v(" "),t("li",[e._v("系统分辨率修改或者系统进行了缩放，"),t("code",[e._v("screen.width/height")]),e._v("也会改变， 但是后续缩放结果还是和之前一样的。浏览器中"),t("code",[e._v("screen.width/height")]),e._v("获取的"),t("strong",[e._v("是系统缩放或调整分辨率过后的设备像素")]),e._v("，并不是直接机器的物理像素。？？？")])]),e._v(" "),t("p",[e._v("---try try end---")]),e._v(" "),t("h2",{attrs:{id:"window-size"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#window-size"}},[e._v("#")]),e._v(" Window size")]),e._v(" "),t("p",[e._v("相反，您想知道的是浏览器窗口的内部尺寸。它准确地告诉您用户当前有多少空间可用于CSS布局。你可以使用"),t("code",[e._v("window.innerWidth")]),e._v("和"),t("code",[e._v("window.innerHeight")]),e._v("找到这些尺寸。")]),e._v(" "),t("p",[t("img",{attrs:{src:"https://www.quirksmode.org/mobile/pix/viewport/desktop_inner.jpg",alt:""}})]),e._v(" "),t("p",[e._v("显然，窗口的内部宽度是用 CSS 像素来测量的。你需要知道你的布局有多少可以挤进("),t("em",[e._v("squeeze into")]),e._v(")浏览器窗口，而这个数量会随着用户的放大而减少。因此，如果用户放大，窗口中的可用空间就会减少，"),t("code",[e._v("window.innerWidth/Height")]),e._v("值的逐渐减小来反映这一点。")]),e._v(" "),t("p",[e._v("(这里的例外是Opera，当用户放大时，"),t("code",[e._v("window.innerWidth/Height")]),e._v("不会减小:它们是以设备像素为单位测量的。这在台式机上很烦人("),t("em",[e._v("annoying")]),e._v(")，但在移动设备上却是致命的( "),t("em",[e._v("fatal")]),e._v(" )，我们稍后会看到。")]),e._v(" "),t("p",[t("img",{attrs:{src:"https://www.quirksmode.org/mobile/pix/viewport/desktop_inner_zoomed.jpg",alt:""}})]),e._v(" "),t("p",[e._v("注意看，测量的宽度和高度包括滚动条。它们也被认为是内窗的一部分。(这主要是由于历史原因。)")]),e._v(" "),t("h2",{attrs:{id:"scrolling-offset"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#scrolling-offset"}},[e._v("#")]),e._v(" Scrolling offset")]),e._v(" "),t("p",[t("code",[e._v("window.pageXOffset")]),e._v(" 和 "),t("code",[e._v("window.pageYOffset")]),e._v(" 包含文档的水平和垂直滚动偏移量。这样就可以知道用户滚动了多少。")]),e._v(" "),t("p",[t("img",{attrs:{src:"https://www.quirksmode.org/mobile/pix/viewport/desktop_page.jpg",alt:""}})]),e._v(" "),t("p",[e._v("这些属性也是用 CSS像素来测量的。想知道文档已经向上滚动了多少，不管它处于什么缩放状态。")]),e._v(" "),t("p",[e._v("理论上，如果用户向上滚动，然后放大，"),t("code",[e._v("window.pageX/YOffset")]),e._v("将改变。然而，"),t("strong",[e._v("当用户缩放时，浏览器试图保持网页的一致性，通过保持页面的顶部的元素相同，而且元素是在当前的可视区内")]),e._v("。这并不总是完美的，但这意味着在实践中，"),t("code",[e._v("window.pageX/YOffset")]),e._v("并没有真正改变:"),t("strong",[e._v("滚动出窗口的CSS像素的数量(大致)保持不变。")])]),e._v(" "),t("p",[t("img",{attrs:{src:"https://www.quirksmode.org/mobile/pix/viewport/desktop_page_zoomed.jpg",alt:""}})]),e._v(" "),t("h2",{attrs:{id:"the-viewport"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#the-viewport"}},[e._v("#")]),e._v(" the viewport")]),e._v(" "),t("p",[e._v("在继续介绍更多JavaScript属性之前，我们必须介绍另一个概念:视口 "),t("strong",[e._v("viewport")]),e._v("。")]),e._v(" "),t("p",[t("strong",[e._v("viewport的功能是约束<html>元素，它是站点最上面("),t("em",[e._v("uppermost")]),e._v(")的包含块。")])]),e._v(" "),t("p",[e._v("这听起来可能有点模糊("),t("em",[e._v("a bit vague")]),e._v(")，所以这里有一个实际的例子。假设您有一个流式布局("),t("em",[e._v("liquid layout")]),e._v(")，其中一个侧边栏("),t("em",[e._v("sidebars")]),e._v(")的宽度为10%。现在，侧边栏会随着您调整浏览器窗口的大小而整齐地增大和缩小("),t("em",[e._v("neatly grows and shrinks")]),e._v(")。但这到底是怎么回事呢?")]),e._v(" "),t("p",[e._v("技术上讲，侧边栏的宽度是其父栏宽度的10%。假设这是<body>(并且您没有给它一个宽度)。所以问题就变成了<body>的宽度是多少。")]),e._v(" "),t("p",[e._v("通常，所有块级元素的宽度都是其父元素宽度的100%(也有例外，但我们现在先忽略它们)。所以<body>和它的父元素<html>一样宽。")]),e._v(" "),t("p",[e._v("<html>元素的宽度是多少?为什么，它和浏览器窗口一样宽。这就是为什么宽度为10%的侧边栏会占整个浏览器窗口的10%。所有的web开发人员都直观地("),t("em",[e._v("intuitively")]),e._v(")知道并使用这个事实。")]),e._v(" "),t("p",[e._v("你可能不知道这在理论上是如何运作的。理论上，"),t("strong",[e._v("<html>元素的宽度受到视口宽度的限制。<html>元素占用该视口宽度的100%。")])]),e._v(" "),t("p",[e._v("相应地("),t("em",[e._v("in turn")]),e._v(")，视口正好等于浏览器窗口:它是这样定义的。**视口不是HTML结构，所以你不能通过CSS来影响它。它只是有浏览器窗口的宽度和高度 - 在pc端。**在手机上，情况就复杂多了。")]),e._v(" "),t("h2",{attrs:{id:"consequences"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#consequences"}},[e._v("#")]),e._v(" Consequences")]),e._v(" "),t("p",[e._v("这种情况("),t("em",[e._v("state of affairs")]),e._v(")产生了一些奇怪的("),t("em",[e._v("curious")]),e._v(")后果。你可以在这个网站上看到其中一个。一直滚动到顶部，放大两到三个步骤，这样网站的内容就会从浏览器窗口中溢出("),t("em",[e._v("spills out")]),e._v(")。")]),e._v(" "),t("p",[e._v("现在向右滚动，你会看到网站顶部的蓝色条不再正确排列了("),t("em",[e._v("line up properly")]),e._v(")。")]),e._v(" "),t("p",[t("img",{attrs:{src:"https://www.quirksmode.org/mobile/pix/viewport/desktop_htmlbehaviour.jpg",alt:""}})]),e._v(" "),t("p",[e._v("这种行为是视口定义方式的结果。我给顶部的蓝色条设置了"),t("code",[e._v("width: 100%")]),e._v("。100%相对于什么呢？相对于<html>元素，它和视口一样宽，和浏览器窗口一样宽。")]),e._v(" "),t("p",[e._v("重点是:虽然这在100%缩放时表现正常，但现在我们已经放大了视口，它变得比我网站的总宽度还小。就其本身而言，这并不重要，内容现在从<html>元素溢出，但是该元素具有"),t("code",[e._v("overflow: visible")]),e._v("，这意味着溢出的内容在任何情况下都将显示出来。")]),e._v(" "),t("p",[e._v("但是蓝条不会溢出来。我设置过它一个"),t("code",[e._v("width: 100%")]),e._v("，毕竟("),t("em",[e._v("after all")]),e._v(")，浏览器遵循("),t("em",[e._v("浏览器")]),e._v(")给予视口的宽度的原则。它们("),t("em",[e._v("应该指浏览器")]),e._v(")不关心这个宽度现在太窄了("),t("em",[e._v("narrow")]),e._v(")。")]),e._v(" "),t("blockquote",[t("p",[t("em",[e._v("after all, and the browsers obey by giving it the width of the viewport.")])]),e._v(" "),t("p",[t("em",[e._v("根据 viewport 的理解，这句话表达的是浏览器控制窗口的宽度，html 元素宽度默认视口(viewport)宽度")])])]),e._v(" "),t("p",[t("img",{attrs:{src:"https://www.quirksmode.org/mobile/pix/viewport/desktop_100percent.jpg",alt:""}})]),e._v(" "),t("h2",{attrs:{id:"document-width"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#document-width"}},[e._v("#")]),e._v(" document width?")]),e._v(" "),t("p",[e._v("我真正需要知道的是页面的总内容有多宽，包括“突出”("),t("em",[e._v("stick out")]),e._v(")的部分。据我所知，不可能找到这个值(好吧，除非您计算页面上所有元素的单独宽度和边距，但说得委婉点("),t("em",[e._v("mildly")]),e._v(")，这很容易出错("),t("em",[e._v("error-prone")]),e._v("))。")]),e._v(" "),t("p",[e._v("我开始相信我们需要一个JavaScript属性对("),t("em",[e._v("property pair 指width/height")]),e._v(")来给出我所谓的“document width”(显然是以CSS像素为单位)。")]),e._v(" "),t("p",[t("img",{attrs:{src:"https://www.quirksmode.org/mobile/pix/viewport/desktop_documentwidth.jpg",alt:""}})]),e._v(" "),t("p",[e._v("如果我们真的觉得很时髦("),t("em",[e._v("funky")]),e._v(")，为什么不把这个值也暴露给CSS呢?我希望我的蓝条的宽度100%取决于文档的宽度，而不是<html>元素的宽度。(不过，这肯定很棘手，如果无法实现，我也不会感到惊讶。)")]),e._v(" "),t("p",[e._v("浏览器厂商们("),t("em",[e._v("Browser vendors")]),e._v(")，你们怎么看?")]),e._v(" "),t("h2",{attrs:{id:"measuring-the-viewport"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#measuring-the-viewport"}},[e._v("#")]),e._v(" Measuring the viewport")]),e._v(" "),t("p",[e._v("你可能想知道视窗的尺寸。可以使用"),t("code",[e._v("document.documentElement.clientWidth和-Height")]),e._v("获取。")]),e._v(" "),t("p",[t("img",{attrs:{src:"https://www.quirksmode.org/mobile/pix/viewport/desktop_client.jpg",alt:""}})]),e._v(" "),t("p",[e._v("如果您了解DOM，那么您就了解 "),t("code",[e._v("document.documentElement")]),e._v("实际上是<html>元素：任何HTML文档的根元素。但是，可以这么说("),t("em",[e._v("so to speak")]),e._v(")，视口要高一级；它是包含<html>元素的元素。如果给<html>元素一个"),t("code",[e._v("width")]),e._v("，这可能很重要。(顺便说一下，我不建议这么做，但这是可能的。)")]),e._v(" "),t("p",[e._v("在这种情况下， "),t("code",[e._v("document.documentElement.clientWidth")]),e._v(" 和 "),t("code",[e._v("-Height")]),e._v(" 仍然给出视口的尺寸，而不是<html>元素的尺寸。(这是一个特殊的规则，只适用于这个元素，只适用于这个属性对。在所有其他情况下，使用元素的实际宽度。)")]),e._v(" "),t("p",[t("img",{attrs:{src:"https://www.quirksmode.org/mobile/pix/viewport/desktop_client_smallpage.jpg",alt:""}})]),e._v(" "),t("p",[e._v("所以"),t("code",[e._v("document.documentElement.clientWidth")]),e._v(" and "),t("code",[e._v("-Height")]),e._v("总是给出视口尺寸，而不管<html>元素的尺寸。")]),e._v(" "),t("h2",{attrs:{id:"two-property-pairs"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#two-property-pairs"}},[e._v("#")]),e._v(" Two property pairs")]),e._v(" "),t("p",[e._v("但是 viewport 宽度的尺寸不是也由"),t("code",[e._v("window.innerWidth/Height")]),e._v("给出吗?好吧，是也不是("),t("em",[e._v("Well, yes and no.")]),e._v(")。")]),e._v(" "),t("p",[e._v("这两个属性对之间有一个形式上的区别："),t("code",[e._v("document.documentElement.clientWidth和-Height")]),e._v("不包括滚动条，而 "),t("code",[e._v("window.innerWidth/Height")]),e._v(" 包括。不过，这基本上是一个吹毛求疵("),t("em",[e._v("nitpick")]),e._v(")的问题。")]),e._v(" "),t("p",[e._v("事实上，我们有两个属性对是浏览器战争遗留下来("),t("em",[e._v("holdover")]),e._v(")的。当时网景("),t("em",[e._v("Netscape")]),e._v(")只支持 "),t("code",[e._v("window.innerWidth/Height")]),e._v(" ，同时期 IE 只支持 "),t("code",[e._v("document.documentElement.clientWidth")]),e._v(" and "),t("code",[e._v("-Height")]),e._v("。从那时起，所有其他浏览器都开始支持"),t("em",[e._v("clientWidth/Height")]),e._v("，但IE不支持"),t("code",[e._v("window.innerWidth/Height")]),e._v("。")]),e._v(" "),t("p",[e._v("有两个可用的属性对在桌面上是一个小麻烦("),t("em",[e._v("minor nuisance")]),e._v(") — 但在移动设备上却是一个福音("),t("em",[e._v("blessing")]),e._v(")，正如我们将看到的。")]),e._v(" "),t("h2",{attrs:{id:"measuring-the-html-element"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#measuring-the-html-element"}},[e._v("#")]),e._v(" Measuring the "),t("code",[e._v("<html>")]),e._v(" element")]),e._v(" "),t("p",[e._v("那么 "),t("code",[e._v("clientWidth/Height")]),e._v(" 给出了所有情况下的视口尺寸。但是我们在哪里可以找到<html>元素本身的尺寸呢?它们存储在 "),t("code",[e._v("document.documentElement.offsetWidth")]),e._v(" and "),t("code",[e._v("-Height")]),e._v("中。")]),e._v(" "),t("p",[t("img",{attrs:{src:"https://www.quirksmode.org/mobile/pix/viewport/desktop_offset.jpg",alt:""}})]),e._v(" "),t("p",[e._v("这些属性真正让你可以访问<html>元素，html作为块级元素;如果你设置了一个 "),t("code",[e._v("width")]),e._v(", "),t("code",[e._v("offsetWidth")]),e._v(" 值会反映到它。")]),e._v(" "),t("p",[t("img",{attrs:{src:"https://www.quirksmode.org/mobile/pix/viewport/desktop_offset_smallpage.jpg",alt:""}})]),e._v(" "),t("p",[e._v("IE浏览器错误，IE测量的是viewport，而不是<html>元素。("),t("em",[e._v("IE11 正常，11以下是测viewport")]),e._v(")")]),e._v(" "),t("h2",{attrs:{id:"event-coordinates"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#event-coordinates"}},[e._v("#")]),e._v(" Event coordinates")]),e._v(" "),t("p",[e._v("然后是事件坐标。当鼠标事件发生时，将公开至少五个属性对，以提供有关事件确切位置("),t("em",[e._v("exact place")]),e._v(")的信息。在我们的讨论中，其中三个是重要的:")]),e._v(" "),t("h3",{attrs:{id:"_1-pagex-y"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-pagex-y"}},[e._v("#")]),e._v(" 1.pageX/Y")]),e._v(" "),t("p",[t("code",[e._v("pageX/Y")]),e._v(" 以CSS像素表示相对于<html>元素的坐标。")]),e._v(" "),t("p",[t("img",{attrs:{src:"https://www.quirksmode.org/mobile/pix/viewport/desktop_pageXY.jpg",alt:""}})]),e._v(" "),t("p",[e._v("IE不支持pageX/Y。IE和Opera以CSS像素计算屏幕x /Y。("),t("em",[e._v("caniuse 网站查下现在的情况")]),e._v(")")]),e._v(" "),t("h3",{attrs:{id:"_2-clientx-y"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-clientx-y"}},[e._v("#")]),e._v(" 2.clientX/Y")]),e._v(" "),t("p",[t("code",[e._v("clientX/Y")]),e._v(" 以CSS像素为单位给出相对于视口的坐标。")]),e._v(" "),t("p",[t("img",{attrs:{src:"https://www.quirksmode.org/mobile/pix/viewport/desktop_clientXY.jpg",alt:""}})]),e._v(" "),t("h3",{attrs:{id:"_3-screenx-y"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-screenx-y"}},[e._v("#")]),e._v(" 3.screenX/Y")]),e._v(" "),t("p",[t("code",[e._v("screenX/Y")]),e._v("以设备像素为单位给出相对于屏幕的坐标。")]),e._v(" "),t("p",[t("img",{attrs:{src:"https://www.quirksmode.org/mobile/pix/viewport/desktop_screenXY.jpg",alt:""}})]),e._v(" "),t("p",[e._v("您将在90%的时间使用"),t("code",[e._v("pageX/Y")]),e._v(";通常您想知道事件相对于文档的位置。另外10%的时间您将使用"),t("code",[e._v("clientX/Y")]),e._v("。你永远不需要知道事件相对于屏幕的坐标("),t("em",[e._v("4个屏扑克牌游戏用到")]),e._v(")。")]),e._v(" "),t("h2",{attrs:{id:"media-queries"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#media-queries"}},[e._v("#")]),e._v(" Media queries")]),e._v(" "),t("p",[e._v("最后是一些关于媒体查询的词汇。这个想法非常简单:您可以定义特殊的CSS规则，这些规则只在页面宽度大于、等于或小于某个大小时执行。例如:")]),e._v(" "),t("div",{staticClass:"language-css extra-class"},[t("pre",{pre:!0,attrs:{class:"language-css"}},[t("code",[t("span",{pre:!0,attrs:{class:"token selector"}},[e._v("div.sidebar")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n\t"),t("span",{pre:!0,attrs:{class:"token property"}},[e._v("width")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" 300px"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n\n"),t("span",{pre:!0,attrs:{class:"token atrule"}},[t("span",{pre:!0,attrs:{class:"token rule"}},[e._v("@media")]),e._v(" all "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("and")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token property"}},[e._v("max-width")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" 400px"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")])]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n\t// styles assigned when width is smaller than 400px"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\t"),t("span",{pre:!0,attrs:{class:"token selector"}},[e._v("div.sidebar")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token property"}},[e._v("width")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" 100px"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\t"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),t("p",[e._v("现在侧边栏是300px宽，除非宽度小于400px，在这种情况下侧边栏变成100px宽。")]),e._v(" "),t("p",[e._v("问题当然是("),t("em",[e._v("is of course")]),e._v("):这里我们测量的宽度指的是什么?")]),e._v(" "),t("p",[e._v("有两个相关的媒体查询:"),t("code",[e._v("width/height")]),e._v("和"),t("code",[e._v("device-width/device-height")]),e._v("。")]),e._v(" "),t("ol",[t("li",[t("p",[t("code",[e._v("width/height")]),e._v("使用与"),t("code",[e._v("documentElement.clientwidth/height")]),e._v("(换句话说就是viewport)相同的值。它适用于CSS像素。")])]),e._v(" "),t("li",[t("p",[t("code",[e._v("Device-width/device-height")]),e._v("使用与"),t("code",[e._v("screen.width/height")]),e._v("(换句话说就是屏幕)相同的值。它适用于设备像素。")])])]),e._v(" "),t("p",[t("img",{attrs:{src:"https://www.quirksmode.org/mobile/pix/viewport/desktop_mediaqueries.jpg",alt:""}})]),e._v(" "),t("p",[e._v("你应该使用哪一种?这是显而易见的("),t("em",[e._v("no-brainer")]),e._v("):当然是"),t("code",[e._v("width")]),e._v("。Web开发人员对设备宽度不感兴趣;重要的是浏览器窗口的宽度。")]),e._v(" "),t("p",[e._v("因此，在桌面上使用"),t("code",[e._v("width")]),e._v("而不要使用"),t("code",[e._v("device-width")]),e._v("。正如我们将看到的，移动领域的情况更加混乱("),t("em",[e._v("messy")]),e._v(")。")]),e._v(" "),t("h2",{attrs:{id:"conclusion"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#conclusion"}},[e._v("#")]),e._v(" Conclusion")]),e._v(" "),t("p",[e._v("以上就是我们对桌面浏览器行为的研究。本系列的第二部分将把这些概念移植到移动设备上，并强调与桌面设备的一些重要区别。")]),e._v(" "),t("ul",[t("li",[t("em",[t("a",{attrs:{href:"https://www.quirksmode.org/mobile/viewports.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("A tale of two viewports — part one (quirksmode.org)"),t("OutboundLink")],1)])])])])}),[],!1,null,null,null);t.default=s.exports}}]);