(window.webpackJsonp=window.webpackJsonp||[]).push([[571],{943:function(t,s,a){"use strict";a.r(s);var n=a(10),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"热替换-hmr-ignore"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#热替换-hmr-ignore"}},[t._v("#")]),t._v(" 热替换 HMR {ignore}")]),t._v(" "),s("h2",{attrs:{id:"hot-module-replacement"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#hot-module-replacement"}},[t._v("#")]),t._v(" Hot Module Replacement")]),t._v(" "),s("blockquote",[s("p",[t._v("热替换并不能降低构建时间（可能还会稍微增加），但可以降低代码改动到效果呈现的时间")])]),t._v(" "),s("p",[t._v("当使用"),s("code",[t._v("webpack-dev-server")]),t._v("时，考虑代码改动到效果呈现的过程")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://qwq9527.gitee.io/resource/imgs/2020-02-21-14-20-49.png",alt:"|400"}})]),t._v(" "),s("p",[t._v("当我们使用了开发服务器之后，代码变动，需要重新打包，重新打包这个时间就是之前讲的两点：1.减少模块解析，2.优化loader性能。都是减少重新打包时间。还有一块时间我们没有考虑到：")]),t._v(" "),s("p",[t._v("重新打包后，"),s("em",[t._v("webpack-dev-server")]),t._v(" 自动开启了 "),s("em",[t._v("webpack")]),t._v(" 的 "),s("em",[t._v("watch")]),t._v("，观察我们代码的改动，代码改动后，重新打包。")]),t._v(" "),s("p",[t._v("打包过后有一个功能：刷新浏览器。浏览器刷新就要重新请求 html 页面，页面中的所有资源需要重新请求。")]),t._v(" "),s("p",[t._v("如果说是一个比较大的项目，即使在本地传输也是需要很多时间，而且浏览器渲染页面也需要时间。这块时间虽然不是打包时间，但是影响到我们代码变动到页面效果的时间。")]),t._v(" "),s("p",[t._v("而且还有一个问题：我们在开发时，有一个表单，内容比较多，填写了很多项，忽然想到代码里面有个错误，去改动了下代码，发现浏览器整个刷新了，之前的内容白填了。所以考虑，能不能让浏览器不要刷新。")]),t._v(" "),s("p",[t._v("而使用了热替换后，流程发生了变化：")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://qwq9527.gitee.io/resource/imgs/2020-02-21-14-22-32.png",alt:"|400"}})]),t._v(" "),s("p",[t._v("那么热更新是怎样的流程呢？重新打包的流程不变，然后到下一步，浏览器不刷新了，浏览器只需要用一段js代码，改动我们请求到的资源，通过 "),s("em",[t._v("websocket")]),t._v(" 实现的。哪一部分改动了，就覆盖哪一部分资源。然后重新运行下代码。")]),t._v(" "),s("h2",{attrs:{id:"使用和原理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用和原理"}},[t._v("#")]),t._v(" 使用和原理")]),t._v(" "),s("h3",{attrs:{id:"使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用"}},[t._v("#")]),t._v(" 使用")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("更改配置")]),t._v(" "),s("p",[t._v("开启 "),s("code",[t._v("hot:true")]),t._v(" 和 使用 "),s("code",[t._v("webpack.HotModuleReplacementPlugin")])])])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("module"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("devServer")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("hot")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 开启HMR")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("plugins")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" \n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 可选")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("webpack"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("HotModuleReplacementPlugin")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 到了 webpack4.0以后，该插件可以不写，不写自动加上")]),t._v("\n")])])]),s("ol",{attrs:{start:"2"}},[s("li",[t._v("更改代码")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// index.js 入口模块加入下面代码")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("module"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("hot"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 是否开启了热更新")]),t._v("\n  module"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("hot"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("accept")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 接受热更新")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("blockquote",[s("ul",[s("li",[s("p",[t._v("这段代码 "),s("em",[t._v("module")]),t._v(" 哪里来的？")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 之前对打包结果分析过，代码被函数包括了，函数的参数有 module")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("module"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("exports"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("__webpack_require__")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),t._v(" "),s("li",[s("p",[s("em",[t._v("hot")]),t._v(" 属性哪里来的？")]),t._v(" "),s("p",[s("em",[t._v("webpack-dev-server")]),t._v(" 注入的。这是开发阶段才有的行为，生产阶段不产生 "),s("em",[t._v("hot")]),t._v(" 属性，属性的值是配置里面的 "),s("em",[t._v("hot")]),t._v(" 值，如果配置 "),s("code",[t._v("hot:true")]),t._v("，那么 "),s("em",[t._v("module.hot")]),t._v(" 就为 "),s("em",[t._v("true")])])])])]),t._v(" "),s("p",[t._v("首先，这段代码会参与最终运行！")]),t._v(" "),s("h3",{attrs:{id:"原理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#原理"}},[t._v("#")]),t._v(" 原理")]),t._v(" "),s("p",[t._v("当开启了热更新后，"),s("code",[t._v("webpack-dev-server")]),t._v("会向打包结果中注入"),s("code",[t._v("module.hot")]),t._v("属性")]),t._v(" "),s("p",[t._v("默认情况下，"),s("code",[t._v("webpack-dev-server")]),t._v("不管是否开启了热更新，当重新打包后，都会调用"),s("code",[t._v("location.reload")]),t._v("刷新页面")]),t._v(" "),s("p",[t._v("但如果运行了"),s("code",[t._v("module.hot.accept()")]),t._v("，将改变这一行为")]),t._v(" "),s("p",[s("code",[t._v("module.hot.accept()")]),t._v("的作用是让"),s("code",[t._v("webpack-dev-server")]),t._v("通过"),s("code",[t._v("socket")]),t._v("管道，把服务器更新的内容发送到浏览器")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://qwq9527.gitee.io/resource/imgs/2020-02-21-14-34-05.png",alt:"|300"}})]),t._v(" "),s("p",[t._v("然后，将结果交给插件"),s("code",[t._v("HotModuleReplacementPlugin")]),t._v("注入的代码执行")]),t._v(" "),s("p",[t._v("插件"),s("code",[t._v("HotModuleReplacementPlugin")]),t._v("会根据覆盖原始代码，然后让代码重新执行")]),t._v(" "),s("p",[s("strong",[t._v("所以，热替换发生在代码运行期")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 服务器告诉浏览器有更新，浏览器将重新发送一个请求到服务器，询问服务器更新具体的内容，")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 服务器将更新的内容传给浏览器，然后浏览器执行下更新的代码,重新运行下入口文件。")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// websocket 通知浏览器传入一条数据 ，")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"type"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hash"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"data"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"894129d5a59dc4f8c69b"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"894129d5a59dc4f8c69b"')]),t._v(" 打包后的代码里面有如下代码\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/******/")]),t._v(" \t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* webpack/runtime/getFullHash */")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/******/")]),t._v(" \t"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/******/")]),t._v(" \t\t__webpack_require__"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("h")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"89f10dcbe67c8861d501"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/******/")]),t._v(" \t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 浏览器接收到后，浏览器发送两个请求，一个是json 一个jsonp,")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 请求：https://localhost:8080/main.89f10dcbe67c8861d501.hot-update.json")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// 相应：{"c":["main"],"r":[],"m":[]}')]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 请求：https://localhost:8080/main.89f10dcbe67c8861d501.hot-update.js")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 响应:")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"use strict"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nself"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"webpackHotUpdatetest"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"main"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/***/")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./src/a.js"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*!******************!*\\\n  !*** ./src/a.js ***!\n  \\******************/")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/***/")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("__unused_webpack_module"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" __webpack_exports__"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" __webpack_require__")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t__webpack_require__"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("r")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__webpack_exports__"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* harmony default export */")]),t._v(" __webpack_exports__"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"default"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ssww"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/***/")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/******/")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("__webpack_require__")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// webpackRuntimeModules")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/******/")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* webpack/runtime/getFullHash */")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/******/")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/******/")]),t._v(" \t__webpack_require__"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("h")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"894129d5a59dc4f8c69b"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/******/")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/******/")]),t._v(" \n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/******/")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//# sourceMappingURL=main.89f10dcbe67c8861d501.hot-update.js.map")]),t._v("\n")])])]),s("h2",{attrs:{id:"样式热替换"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#样式热替换"}},[t._v("#")]),t._v(" 样式热替换")]),t._v(" "),s("p",[t._v("对于样式也是可以使用热替换的，但需要使用"),s("code",[t._v("style-loader")])]),t._v(" "),s("p",[t._v("因为热替换发生时，"),s("code",[t._v("HotModuleReplacementPlugin")]),t._v("只会简单的重新运行模块代码")]),t._v(" "),s("p",[t._v("因此"),s("code",[t._v("style-loader")]),t._v("的代码一运行，就会重新设置"),s("code",[t._v("style")]),t._v("元素中的样式")]),t._v(" "),s("p",[t._v("而"),s("code",[t._v("mini-css-extract-plugin")]),t._v("，由于它生成文件是在"),s("strong",[t._v("构建期间")]),t._v("，运行期间并会也无法改动文件，因此它对于热替换是无效的")])])}),[],!1,null,null,null);s.default=e.exports}}]);