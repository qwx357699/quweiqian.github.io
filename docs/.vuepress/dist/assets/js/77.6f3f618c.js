(window.webpackJsonp=window.webpackJsonp||[]).push([[77],{446:function(t,v,e){"use strict";e.r(v);var _=e(10),a=Object(_.a)({},(function(){var t=this,v=t._self._c;return v("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[v("h1",{attrs:{id:"composition-api"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#composition-api"}},[t._v("#")]),t._v(" Composition Api")]),t._v(" "),v("blockquote",[v("p",[t._v("面试题：composition api相比于option api有哪些优势？")])]),t._v(" "),v("p",[t._v("不同于reactivity api，composition api提供的函数很多是与组件深度绑定的，不能脱离组件而存在。")]),t._v(" "),v("h2",{attrs:{id:"setup"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#setup"}},[t._v("#")]),t._v(" setup")]),t._v(" "),v("div",{staticClass:"language-js extra-class"},[v("pre",{pre:!0,attrs:{class:"language-js"}},[v("code",[v("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// component")]),t._v("\n"),v("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),v("span",{pre:!0,attrs:{class:"token function"}},[t._v("setup")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),v("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("props"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" context")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),v("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 该函数在组件属性被赋值后立即执行，早于所有生命周期钩子函数")]),t._v("\n    "),v("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// props 是一个对象，包含了所有的组件属性值")]),t._v("\n    "),v("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// context 是一个对象，提供了组件所需的上下文信息")]),t._v("\n  "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),v("p",[t._v("context对象的成员")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[t._v("成员")]),t._v(" "),v("th",[t._v("类型")]),t._v(" "),v("th",[t._v("说明")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[t._v("attrs")]),t._v(" "),v("td",[t._v("对象")]),t._v(" "),v("td",[t._v("同"),v("code",[t._v("vue2")]),t._v("的"),v("code",[t._v("this.$attrs")])])]),t._v(" "),v("tr",[v("td",[t._v("slots")]),t._v(" "),v("td",[t._v("对象")]),t._v(" "),v("td",[t._v("同"),v("code",[t._v("vue2")]),t._v("的"),v("code",[t._v("this.$slots")])])]),t._v(" "),v("tr",[v("td",[t._v("emit")]),t._v(" "),v("td",[t._v("方法")]),t._v(" "),v("td",[t._v("同"),v("code",[t._v("vue2")]),t._v("的"),v("code",[t._v("this.$emit")])])])])]),t._v(" "),v("h2",{attrs:{id:"生命周期函数"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#生命周期函数"}},[t._v("#")]),t._v(" 生命周期函数")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[t._v("vue2 option api")]),t._v(" "),v("th",[t._v("vue3 option api")]),t._v(" "),v("th",[t._v("vue 3 composition api")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[t._v("beforeCreate")]),t._v(" "),v("td",[t._v("beforeCreate")]),t._v(" "),v("td",[t._v("不再需要，代码可直接置于setup中")])]),t._v(" "),v("tr",[v("td",[t._v("created")]),t._v(" "),v("td",[t._v("created")]),t._v(" "),v("td",[t._v("不再需要，代码可直接置于setup中")])]),t._v(" "),v("tr",[v("td",[t._v("beforeMount")]),t._v(" "),v("td",[t._v("beforeMount")]),t._v(" "),v("td",[t._v("onBeforeMount")])]),t._v(" "),v("tr",[v("td",[t._v("mounted")]),t._v(" "),v("td",[t._v("mounted")]),t._v(" "),v("td",[t._v("onMounted")])]),t._v(" "),v("tr",[v("td",[t._v("beforeUpdate")]),t._v(" "),v("td",[t._v("beforeUpdate")]),t._v(" "),v("td",[t._v("onBeforeUpdate")])]),t._v(" "),v("tr",[v("td",[t._v("updated")]),t._v(" "),v("td",[t._v("updated")]),t._v(" "),v("td",[t._v("onUpdated")])]),t._v(" "),v("tr",[v("td",[t._v("beforeDestroy")]),t._v(" "),v("td",[t._v("==改== beforeUnmount")]),t._v(" "),v("td",[t._v("onBeforeUnmount")])]),t._v(" "),v("tr",[v("td",[t._v("destroyed")]),t._v(" "),v("td",[t._v("==改==unmounted")]),t._v(" "),v("td",[t._v("onUnmounted")])]),t._v(" "),v("tr",[v("td",[t._v("errorCaptured")]),t._v(" "),v("td",[t._v("errorCaptured")]),t._v(" "),v("td",[t._v("onErrorCaptured")])]),t._v(" "),v("tr",[v("td",[t._v("-")]),t._v(" "),v("td",[t._v("==新==renderTracked")]),t._v(" "),v("td",[t._v("onRenderTracked")])]),t._v(" "),v("tr",[v("td",[t._v("-")]),t._v(" "),v("td",[t._v("==新==renderTriggered")]),t._v(" "),v("td",[t._v("onRenderTriggered")])])])]),t._v(" "),v("p",[t._v("新增钩子函数说明：")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[t._v("钩子函数")]),t._v(" "),v("th",[t._v("参数")]),t._v(" "),v("th",[t._v("执行时机")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[t._v("renderTracked")]),t._v(" "),v("td",[t._v("DebuggerEvent")]),t._v(" "),v("td",[t._v("渲染vdom收集到的每一次依赖时")])]),t._v(" "),v("tr",[v("td",[t._v("renderTriggered")]),t._v(" "),v("td",[t._v("DebuggerEvent")]),t._v(" "),v("td",[t._v("某个依赖变化导致组件重新渲染时")])])])]),t._v(" "),v("p",[t._v("DebuggerEvent:")]),t._v(" "),v("ul",[v("li",[t._v("target: 跟踪或触发渲染的对象")]),t._v(" "),v("li",[t._v("key: 跟踪或触发渲染的属性")]),t._v(" "),v("li",[t._v("type: 跟踪或触发渲染的方式")])]),t._v(" "),v("h2",{attrs:{id:"面试题参考答案"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#面试题参考答案"}},[t._v("#")]),t._v(" 面试题参考答案")]),t._v(" "),v("p",[t._v("面试题：composition api相比于option api有哪些优势？")]),t._v(" "),v("blockquote",[v("p",[t._v("从两个方面回答：")]),t._v(" "),v("ol",[v("li",[t._v("为了更好的逻辑复用和代码组织")]),t._v(" "),v("li",[t._v("更好的类型推导")])])]),t._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[t._v("有了composition api，配合reactivity api，可以在组件内部进行更加细粒度的控制，使得组件中不同的功能高度聚合，提升了代码的可维护性。对于不同组件的相同功能，也能够更好的复用。\n相比于option api，composition api中没有了指向奇怪的this，所有的api变得更加函数式，这有利于和类型推断系统比如TS深度配合。\n")])])])])}),[],!1,null,null,null);v.default=a.exports}}]);