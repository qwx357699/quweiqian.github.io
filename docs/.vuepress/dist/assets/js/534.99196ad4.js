(window.webpackJsonp=window.webpackJsonp||[]).push([[534],{911:function(_,v,n){"use strict";n.r(v);var r=n(10),l=Object(r.a)({},(function(){var _=this,v=_._self._c;return v("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[v("h1",{attrs:{id:"yarn-简介"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#yarn-简介"}},[_._v("#")]),_._v(" yarn 简介")]),_._v(" "),v("blockquote",[v("p",[_._v("yarn 官网："),v("a",{attrs:{href:"https://www.yarnpkg.com/zh-Hans/",target:"_blank",rel:"noopener noreferrer"}},[_._v("https://www.yarnpkg.com/zh-Hans/"),v("OutboundLink")],1)])]),_._v(" "),v("p",[_._v("yarn 是由Facebook、Google、Exponent 和 Tilde 联合推出了一个新的 JS 包管理工具，"),v("strong",[_._v("它仍然使用 npm 的registry")]),_._v("，不过提供了全新 CLI 来对包进行管理")]),_._v(" "),v("p",[_._v("过去，yarn 的出现极大的抢夺了 npm 的市场，甚至有人戏言，npm 只剩下一个 registry 了。")]),_._v(" "),v("p",[_._v("之所以会出现这种情况，是因为在过去，npm 存在下面的问题：")]),_._v(" "),v("ul",[v("li",[_._v("依赖目录嵌套层次深：过去，npm 的依赖是嵌套的，这在 windows 系统上是一个极大的问题，由于众所周知的原因，windows 系统无法支持太深的目录(256个字符)")]),_._v(" "),v("li",[_._v("下载速度慢\n"),v("ul",[v("li",[_._v("由于嵌套层次的问题，所以npm对包的下载只能是串行的，即前一个包下载完后才会下载下一个包，导致带宽资源没有完全利用")]),_._v(" "),v("li",[_._v("多个相同版本的包被重复的下载")])])]),_._v(" "),v("li",[_._v("控制台输出繁杂：过去，npm 安装包的时候，每安装一个依赖，就会输出依赖的详细信息，导致一次安装有大量的信息输出到控制台，遇到错误极难查看")]),_._v(" "),v("li",[_._v("工程移植问题：由于 npm 的版本依赖可以是模糊的，可能会导致工程移植后，依赖的确切版本不一致。")])]),_._v(" "),v("p",[_._v("针对上述问题，yarn 从诞生那天就已经解决，它用到了以下的手段：")]),_._v(" "),v("ul",[v("li",[_._v("使用扁平的目录结构")]),_._v(" "),v("li",[_._v("并行下载")]),_._v(" "),v("li",[_._v("使用本地缓存")]),_._v(" "),v("li",[_._v("控制台仅输出关键信息")]),_._v(" "),v("li",[_._v("使用yanr-lock文件记录确切依赖")])]),_._v(" "),v("p",[_._v("不仅如此，yarn还优化了以下内容：")]),_._v(" "),v("ul",[v("li",[_._v("增加了某些功能强大的命令")]),_._v(" "),v("li",[_._v("让既有的命令更加语义化")]),_._v(" "),v("li",[_._v("本地安装的CLI工具可以使用 yarn 直接启动")]),_._v(" "),v("li",[_._v("将全局安装的目录当作一个普通的工程，生成package.json文件，便于全局安装移植")])]),_._v(" "),v("p",[_._v("yarn 的出现给 npm 带来了巨大的压力，很快，npm 学习了 yarn 先进的理念，不断的对自身进行优化，到了目前的npm6版本，几乎完全解决了上面的问题：")]),_._v(" "),v("ul",[v("li",[_._v("目录扁平化")]),_._v(" "),v("li",[_._v("并行下载")]),_._v(" "),v("li",[_._v("本地缓存")]),_._v(" "),v("li",[_._v("使用package-lock记录确切依赖")]),_._v(" "),v("li",[_._v("增加了大量的命令别名 (npm create==npm init)")]),_._v(" "),v("li",[_._v("内置了npx，可以启动本地的CLI工具")]),_._v(" "),v("li",[_._v("极大的简化了控制台输出")])]),_._v(" "),v("p",[v("strong",[_._v("总结")])]),_._v(" "),v("p",[_._v("npm6 之后，可以说npm已经和yarn非常接近，甚至没有差距了。很多新的项目，又重新从yarn转回到npm。")]),_._v(" "),v("p",[_._v("这两个包管理器是目前的主流，都必须要学习。")])])}),[],!1,null,null,null);v.default=l.exports}}]);