(window.webpackJsonp=window.webpackJsonp||[]).push([[86],{457:function(t,s,a){"use strict";a.r(s);var n=a(10),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"构建工具的使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#构建工具的使用"}},[t._v("#")]),t._v(" 构建工具的使用")]),t._v(" "),s("p",[s("img",{attrs:{src:"http://mdrs.yuanjin.tech/img/20210508151156.png",alt:"技能树"}})]),t._v(" "),s("blockquote",[s("p",[s("strong",[t._v("工程化，为复杂应用而生")])]),t._v(" "),s("p",[t._v("本文为保持简单，牺牲了某些语言的准确性")])]),t._v(" "),s("h2",{attrs:{id:"核心"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#核心"}},[t._v("#")]),t._v(" 核心")]),t._v(" "),s("p",[s("strong",[t._v("webpack是用来搭建前端工程的")])]),t._v(" "),s("p",[t._v("它运行在node环境中，它所做的事情，简单来说，就是"),s("strong",[t._v("打包")])]),t._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:"http://mdrs.yuanjin.tech/img/20210508172954.png",alt:"image-20210508172953979"}}),t._v(" "),s("p",[t._v("具体来说，就是以某个模块作为入口，根据入口分析出所有模块的依赖关系，然后对各种模块进行合并、压缩，形成最终的打包结果")]),t._v(" "),s("p",[s("strong",[t._v("在webpack的世界中，一切皆是模块")])]),t._v(" "),s("h2",{attrs:{id:"体验"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#体验"}},[t._v("#")]),t._v(" 体验")]),t._v(" "),s("blockquote",[s("p",[t._v("老师提供的工程，以"),s("code",[t._v("src/main.js")]),t._v("作为入口文件")]),t._v(" "),s("p",[t._v("按照习惯，所有的模块均放置在"),s("code",[t._v("src")]),t._v("目录中")])]),t._v(" "),s("ol",[s("li",[s("p",[t._v("安装依赖")])]),t._v(" "),s("li",[s("p",[t._v("编写多个模块")]),t._v(" "),s("p",[t._v("随意编写一些模块，可以是js、图片、音视频，以入口模块为起点，形成依赖关系")])]),t._v(" "),s("li",[s("p",[t._v("运行"),s("code",[t._v("npm run build")]),t._v("命令，进行打包")])]),t._v(" "),s("li",[s("p",[t._v("查看打包结果")]),t._v(" "),s("p",[t._v("打包结果放置在dist目录中")])])]),t._v(" "),s("p",[t._v("通过上面的体验，可以发现，webpack给我们带来了至少以下好处：")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("可以大胆的使用任意模块化标准")]),t._v(" "),s("p",[t._v("无须担心兼容性问题，因为webpack完成打包后，已经没有了任何模块化语句")])]),t._v(" "),s("li",[s("p",[t._v("可以将一些非JS代码也视为模块")]),t._v(" "),s("p",[t._v("这样可以对css、图片等资源进行更加细粒度的划分")])]),t._v(" "),s("li",[s("p",[t._v("在前端开发中，也可以使用npm")]),t._v(" "),s("p",[t._v("webpack不会运行你的源代码，无论是你自己写的模块，还是通过npm安装的模块，webpack一视同仁，统统视为依赖，最终合并到打包结果中")])]),t._v(" "),s("li",[s("p",[t._v("非常适合开发单页应用")]),t._v(" "),s("p",[t._v("单页应用是前端用户体验最好的web应用")]),t._v(" "),s("p",[t._v("所谓单页应用，是指只有一个html页面，页面中没有任何内容，所有的内容均靠js生成")]),t._v(" "),s("p",[t._v("要优雅的实现单页应用，最好依托于前端框架，比如vue、react")])])]),t._v(" "),s("p",[t._v("webpack给我们开发带来的变化远不止于此，接下来一一体验")]),t._v(" "),s("h2",{attrs:{id:"页面模板"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#页面模板"}},[t._v("#")]),t._v(" 页面模板")]),t._v(" "),s("p",[t._v("对于单页应用而言，只有一个空白的页面，所有内容都靠JS代码创建")]),t._v(" "),s("p",[t._v("webpack会自动生成一个页面，并且在页面中会自动加入对js和css的引用")]),t._v(" "),s("p",[t._v("它生成页面时，参考的是"),s("code",[t._v("public/index.html")]),t._v("，其称之为页面模板")]),t._v(" "),s("h2",{attrs:{id:"public目录"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#public目录"}},[t._v("#")]),t._v(" public目录")]),t._v(" "),s("p",[t._v("webpack会非常暴力的将public目录中的所有文件（除页面模板外），复制到打包结果中")]),t._v(" "),s("h2",{attrs:{id:"开发服务器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#开发服务器"}},[t._v("#")]),t._v(" 开发服务器")]),t._v(" "),s("p",[t._v("如果每次修改完代码，都要经过"),s("code",[t._v("打包->运行")]),t._v("，未免太过麻烦")]),t._v(" "),s("p",[t._v("在开发阶段，我们可以运行"),s("code",[t._v("npm run serve")]),t._v("命令获得更好的打包体验")]),t._v(" "),s("p",[t._v("该命令会让"),s("code",[t._v("webpack")]),t._v("启动一个"),s("strong",[t._v("开发服务器")]),t._v("。")]),t._v(" "),s("p",[t._v("在这个阶段，webpack并不会形成打包结果文件，而是把打包的内容放到内存中，当我们请求服务器时，服务器从内存中给予我们打包结果")]),t._v(" "),s("p",[t._v("与此同时，当源码发生变动时，webpack会自动重新打包，同时刷新页面以访问到最新的打包结果")]),t._v(" "),s("p",[s("img",{attrs:{src:"http://mdrs.yuanjin.tech/img/20210508194443.png",alt:"image-20210508194442940"}})]),t._v(" "),s("h2",{attrs:{id:"文件缓存"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#文件缓存"}},[t._v("#")]),t._v(" 文件缓存")]),t._v(" "),s("p",[t._v("可以看到，除了页面外，其他的资源在打包完成后，文件名多了一些奇奇怪怪的字符")]),t._v(" "),s("p",[t._v("例如："),s("code",[t._v("js/app-9ea93.js")])]),t._v(" "),s("p",[t._v("其中，"),s("code",[t._v("9ea93")]),t._v("这样的字符称之为"),s("code",[t._v("hash")]),t._v("，它会随着模块内容的变化而变化")]),t._v(" "),s("p",[s("strong",[t._v("源码内容不变，hash不变；源码内容变化，hash变化")])]),t._v(" "),s("p",[t._v("之所以这样做，是因为生产环境中，浏览器会对除页面外的静态资源进行缓存")]),t._v(" "),s("p",[t._v("如果不设置hash值，一旦代码更新，浏览器还会使用之前缓存的结果，无法使用最新的代码")]),t._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:"http://mdrs.yuanjin.tech/img/20210508183135.png",alt:"image-20210508183135487"}}),t._v(" "),s("p",[t._v("有了hash值之后，即可解决此问题")]),t._v(" "),s("p",[s("img",{attrs:{src:"http://mdrs.yuanjin.tech/img/20210508183454.png",alt:"image-20210508183454385"}})]),t._v(" "),s("p",[t._v("webpack会在打包时自动处理hash值，并不会对我们写代码造成任何影响，但作为一个前端开发者，有必要了解这一点")]),t._v(" "),s("h2",{attrs:{id:"资源路径"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#资源路径"}},[t._v("#")]),t._v(" 资源路径")]),t._v(" "),s("p",[s("strong",[t._v("除代码和样式模块外，其他模块被视为资源模块")])]),t._v(" "),s("p",[t._v("值得特别注意的是，"),s("strong",[t._v("资源模块在源代码中的路径和打包后的路径是不一样的")]),t._v("，这就导致我们在编写代码的时候，根本无法知晓最终的路径")]),t._v(" "),s("p",[t._v("最常见的例子，就是在css中使用背景图片")]),t._v(" "),s("div",{staticClass:"language-css extra-class"},[s("pre",{pre:!0,attrs:{class:"language-css"}},[s("code",[s("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".container")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 背景图使用了源码中的路径 */")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("backgroud")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token url"}},[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("url")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string url"}},[t._v("'../assets/1.png'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("它能正常工作吗？")]),t._v(" "),s("p",[t._v("它能！")]),t._v(" "),s("p",[t._v("因为webpack非常智能的发现了这一点，对于css中的路径，webpack在打包时，会将其自动转换为打包结果的路径，比如，上面的代码在打包完成后，可能被转换为下面的格式")]),t._v(" "),s("div",{staticClass:"language-css extra-class"},[s("pre",{pre:!0,attrs:{class:"language-css"}},[s("code",[s("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".container")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* css中的资源路径会被自动替换，我们无须关心 */")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("background")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token url"}},[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("url")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("/img/1492ea.png"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("但如果我们要通过js动态的使用路径，webpack是无法识别的")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 打包前")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" url "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./assets/1.png'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 该路径无法被转换")]),t._v("\nimg"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("src "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" url"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 打包后")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" url "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./assets/1.png'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ❌")]),t._v("\nimg"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("src "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" url"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("正确的做法是，通过模块化的方式导入资源，并获取资源路径")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 打包前")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" url "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./assets/1.png'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 打包后，url得到的将是真实的路径")]),t._v("\nimg"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("src "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" url"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 打包后")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" url "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/img/1492ea.png'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ✅")]),t._v("\nimg"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("src "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" url"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h2",{attrs:{id:"缺省的文件和后缀名"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#缺省的文件和后缀名"}},[t._v("#")]),t._v(" 缺省的文件和后缀名")]),t._v(" "),s("p",[t._v("导入模块时，所有js模块均可省略"),s("code",[t._v(".js")]),t._v("，若导入的模块文件名为"),s("code",[t._v("index.js")]),t._v("，可省略文件名")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./home'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 若存在home.js，可省略js")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./movie'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 若movie是一个目录，此次导入的是 ./movie/index.js")]),t._v("\n")])])]),s("h2",{attrs:{id:"路径别名"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#路径别名"}},[t._v("#")]),t._v(" 路径别名")]),t._v(" "),s("p",[t._v("随着体量的增长，不可避免的，会形成层级极深的目录")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("root\n\t"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("- src\n\t\t"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("- a\n\t\t\t\t"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("- a1\n\t\t\t\t\t\t"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("- a2\n\t\t\t\t\t\t\t "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("- index.js\n\t\t"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("- b\n\t\t\t\t"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("- b1\n\t\t\t\t\t\t"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("- index.js\n")])])]),s("p",[t._v("如果需要在"),s("code",[t._v("./src/a/a1/a2/index.js")]),t._v("中导入"),s("code",[t._v("./src/b/b1/index.js")]),t._v("，则可能产生下面特别恶心的代码")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'../../../b/b1/index.js'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("webpack提供了别名供我们快速定位到"),s("code",[t._v("./src")]),t._v("目录，通常，该别名为"),s("code",[t._v("@")])]),t._v(" "),s("p",[t._v("上面的导入代码可简化为")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@/b/b1'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// @表示src目录，同时省略了index.js")]),t._v("\n")])])]),s("h2",{attrs:{id:"js兼容性"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#js兼容性"}},[t._v("#")]),t._v(" js兼容性")]),t._v(" "),s("p",[t._v("当webpack读取到js代码时，会自动对其进行兼容性处理")]),t._v(" "),s("p",[t._v("具体的处理方案涉及到两个配置文件：")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("babel.config.js")]),t._v("：通过配置该文件，可以设置对哪些js代码进行降级处理")]),t._v(" "),s("li",[s("code",[t._v(".browserslistrc")]),t._v("：通过配置该文件，可以设置在降级时，要兼容哪些浏览器，兼容的范围越光，降级产生的代码就越多，自然，打包后的体积就越大")])]),t._v(" "),s("p",[t._v("你无须知晓具体的配置方式")]),t._v(" "),s("blockquote",[s("p",[t._v(">1%  市场份额大于 1% 都要兼容\nlast 3 versions 上面的浏览器最近的3个版本兼容处理\nnot dead 这些浏览器还存在没有被官方忘记0.")])]),t._v(" "),s("h2",{attrs:{id:"打包压缩"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#打包压缩"}},[t._v("#")]),t._v(" 打包压缩")]),t._v(" "),s("p",[t._v("2webpack在打包时，会对所有js和css代码进行压缩")]),t._v(" "),s("p",[t._v("对于js，除了压缩之外，还会对其中的各种名称进行混淆")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("webpackChunkmovie_list"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("self"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("webpackChunkmovie_list"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("587")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3587")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("r"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("n")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"use strict"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("r")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("n")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5666")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("n")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1539")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("n")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8674")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("n")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9600")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("n")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1249")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("n")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2222")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" e"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("n")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9755")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("a"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("n")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("i")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("r")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("html")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("r"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("map")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("r")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'<li>\\n  <a href=\"'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("concat")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("r"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("url"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('\'" target="_blank">\\n    <img src="\'')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("concat")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("r"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cover"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\" title=\"'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("concat")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("r"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("title"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\">\\n  </a>\\n  <a href=\"'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("concat")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("r"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("url"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('\'" target="_blank" class="\'')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("concat")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"qmUYQv1xlJhGMQKz-kfAp"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\">'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("concat")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("r"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("title"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'</a>\\n  <p class=\"'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("concat")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"_3yV5wC-URYTUP0sPvaE0ZR"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\">'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("concat")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("r"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("rate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"</p>\\n  </li>"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("join")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("o"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("a")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"<ul>"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addClass")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"_1fsrc5VinfYHBXCF1s58qS"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendTo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"#app"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" c"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("n")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" u"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("\n")])])]),s("p",[t._v("混淆的作用一方面是为了进一步压缩包体积，另一方面是为了让我们的代码更难被其他人理解利用")]),t._v(" "),s("h2",{attrs:{id:"源码地图-source-map"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#源码地图-source-map"}},[t._v("#")]),t._v(" 源码地图 source map")]),t._v(" "),s("p",[t._v("我们运行的是webpack打包后的结果，而打包后的结果是很难阅读的")]),t._v(" "),s("p",[t._v("但这样一来会带来新的问题，如果代码报错，我们就难以知道到底是那一行代码写的有问题")]),t._v(" "),s("p",[t._v("此时源码地图就发挥了作用")]),t._v(" "),s("p",[t._v("可以发现，js代码打包后都会跟上一个同名的、后缀为"),s("code",[t._v(".map")]),t._v("的文件，该文件就保存了原始代码的内容")]),t._v(" "),s("p",[t._v("请放心，这个内容人类是看不懂的，但浏览器可以看懂")]),t._v(" "),s("p",[t._v("当代码报错时，浏览器会定位到源码地图中的对应代码，而不是把真实报错的代码展示给我们")]),t._v(" "),s("p",[t._v("你无须关心这一点，但可以自然的从其中获得巨大的便利")]),t._v(" "),s("h2",{attrs:{id:"css工程化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#css工程化"}},[t._v("#")]),t._v(" css工程化")]),t._v(" "),s("p",[t._v("webpack能够识别"),s("strong",[t._v("所有")]),t._v("的样式代码，包括"),s("code",[t._v("css")]),t._v("、"),s("code",[t._v("less")]),t._v("、"),s("code",[t._v("sass")]),t._v("、"),s("code",[t._v("stylus")])]),t._v(" "),s("p",[t._v("在打包时，会将它们转换成纯正的"),s("code",[t._v("css")])]),t._v(" "),s("p",[t._v("除此之外，它还具备以下的神奇能力")]),t._v(" "),s("h4",{attrs:{id:"自动厂商前缀"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#自动厂商前缀"}},[t._v("#")]),t._v(" 自动厂商前缀")]),t._v(" "),s("p",[t._v("css有很多兼容性问题，解决这些兼容性问题的最常见办法，就是加上厂商前缀。")]),t._v(" "),s("p",[t._v("比如：")]),t._v(" "),s("div",{staticClass:"language-css extra-class"},[s("pre",{pre:!0,attrs:{class:"language-css"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 兼容性不好的代码 */")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".container")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("display")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" flex"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("transition")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 1s"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 兼容性好的代码 */")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".container")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("display")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" -webkit-box"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("display")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" -webkit-flex"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("display")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" flex"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("-webkit-transition")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 1s"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("transition")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 1s"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("webpack会根据"),s("code",[t._v(".browserlistrc")]),t._v("中指定的浏览器范围，"),s("strong",[t._v("按需、自动")]),t._v("加上厂商前缀")]),t._v(" "),s("p",[t._v("我们开发无须关心")]),t._v(" "),s("h4",{attrs:{id:"css-module"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#css-module"}},[t._v("#")]),t._v(" css module")]),t._v(" "),s("p",[t._v("css文件多了后，你怎么保证它们里面没有冲突的类样式？")]),t._v(" "),s("p",[t._v("靠层级选择器？就不担心效率？")]),t._v(" "),s("p",[t._v("靠命名规范？就不担心脑袋爆炸？")]),t._v(" "),s("p",[t._v("要靠就靠css module")]),t._v(" "),s("p",[t._v("当样式文件以"),s("code",[t._v("xxx.mdoule.xxx")]),t._v("的方式命名时，webpack会将该文件当成一个开启了"),s("code",[t._v("css module")]),t._v("的文件")]),t._v(" "),s("p",[t._v("比如："),s("code",[t._v("index.module.less")]),t._v("、"),s("code",[t._v("movie.module.css")]),t._v("，都是开启了"),s("code",[t._v("css module")]),t._v("的文件")]),t._v(" "),s("p",[s("strong",[t._v("文件中的所有类名都会被hash化")])]),t._v(" "),s("div",{staticClass:"language-less extra-class"},[s("pre",{pre:!0,attrs:{class:"language-less"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 源码")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".container")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".list")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".item")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 打包结果，绝无可能重名")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v("._2GFVidHvoHtfgtrdifua24")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v("._1fsrc5VinfYHBXCF1s58qS")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".urPUKUukdS_UTSuWRI5-5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("现在就一个问题，我们在使用类名时，如何知道它打包结果的类名呢？")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./index.module.less'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ndom"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("classList"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'container'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ❌ 最终的类名可不是这个")]),t._v("\n")])])]),s("p",[t._v("正确的方式如下：")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// styles 是一个对象，里面映射了源码类名和打包类名的关系")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" styles "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./index.module.less'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ndom"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("classList"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("styles"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("container"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ✅ 属性container中记录的就是container转换后的类名")]),t._v("\n")])])]),s("h2",{attrs:{id:"真正的webpack没有那么神奇"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#真正的webpack没有那么神奇"}},[t._v("#")]),t._v(" 真正的webpack没有那么神奇")]),t._v(" "),s("p",[t._v("实际上，webpack没有做这么多事，我们不能把功劳（怨念）全归结于它")]),t._v(" "),s("p",[t._v("它只是站在巨人（其他流氓）肩膀上而已")]),t._v(" "),s("p",[t._v("下图可以看个热闹")]),t._v(" "),s("p",[s("img",{attrs:{src:"http://mdrs.yuanjin.tech/img/20210508203658.png",alt:"image-20210508203658298"}})]),t._v(" "),s("p",[t._v("webpack通过插件（plugin）和加载器（loader）将这些技术整合在一起")]),t._v(" "),s("p",[s("code",[t._v("上图的技术 + 乱七八糟一大堆其他技术 + 老师的配置 = 呈现给你的工程")])]),t._v(" "),s("p",[t._v("目前，你无须理解这一些，保持敬畏即可")]),t._v(" "),s("p",[t._v("最后，说明一下工程中看不懂的文件：")]),t._v(" "),s("ul",[s("li",[s("code",[t._v(".browserslistrc")]),t._v("，表达适配的浏览器范围，会被工程化中的其他技术所使用")]),t._v(" "),s("li",[s("code",[t._v("babel.config.js")]),t._v("，"),s("code",[t._v("babel")]),t._v("的配置文件，做js降级处理")]),t._v(" "),s("li",[s("code",[t._v("postcss.config.js")]),t._v("，"),s("code",[t._v("postcss")]),t._v("的配置文件，做css代码转换")]),t._v(" "),s("li",[s("code",[t._v("webpack.config.js")]),t._v("，"),s("code",[t._v("webpack")]),t._v("的配置文件，整合其他工程化技术，以及配置打包细节、开发服务器、路径别名等等")])]),t._v(" "),s("h2",{attrs:{id:"对我们开发的影响"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#对我们开发的影响"}},[t._v("#")]),t._v(" 对我们开发的影响")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("学会访问开发服务器查看效果")])]),t._v(" "),s("li",[s("p",[t._v("学会动态获取资源文件路径")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" url "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./assets/1.png'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \nimg"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("src "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" url"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])]),t._v(" "),s("li",[s("p",[t._v("学会省略文件和后缀名")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./home'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 若存在home.js，可省略js")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./movie'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 若movie是一个目录，此次导入的是 ./movie/index.js")]),t._v("\n")])])])]),t._v(" "),s("li",[s("p",[t._v("学会使用别名简化导入代码")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@/b/b1'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 实际导入： src/b/b1/index.js  (若b1是目录)")]),t._v("\n")])])])]),t._v(" "),s("li",[s("p",[t._v("学会使用css module")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// styles 是一个对象，里面映射了源码类名和打包类名的关系")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" styles "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./index.module.less'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ndom"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("classList"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("styles"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("container"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n")])])])])]),t._v(" "),s("h2",{attrs:{id:"作业"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#作业"}},[t._v("#")]),t._v(" 作业")]),t._v(" "),s("h4",{attrs:{id:"回顾和总结1"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#回顾和总结1"}},[t._v("#")]),t._v(" 回顾和总结1")]),t._v(" "),s("p",[t._v("看着此笔记的目录，大声"),s("strong",[t._v("说出")]),t._v("每个目录标题板块的内容")]),t._v(" "),s("h4",{attrs:{id:"回顾和总结2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#回顾和总结2"}},[t._v("#")]),t._v(" 回顾和总结2")]),t._v(" "),s("p",[t._v("脱离此文档，能够"),s("strong",[t._v("说出")]),t._v("整个文档的大致内容")])])}),[],!1,null,null,null);s.default=e.exports}}]);