(window.webpackJsonp=window.webpackJsonp||[]).push([[262],{637:function(t,s,a){"use strict";a.r(s);var e=a(10),r=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"eslint"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#eslint"}},[t._v("#")]),t._v(" EsLint")]),t._v(" "),s("blockquote",[s("p",[t._v("ESLint官网：https://eslint.org/")]),t._v(" "),s("p",[t._v("ESLint民间中文网：https://eslint.bootcss.com/")])]),t._v(" "),s("h2",{attrs:{id:"eslint的由来"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#eslint的由来"}},[t._v("#")]),t._v(" ESLint的由来")]),t._v(" "),s("p",[t._v("JavaScript是一个过于灵活的语言，因此在企业开发中，往往会遇到下面两个问题：")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("如何让所有员工书写高质量的代码？")]),t._v(" "),s("p",[t._v("比如使用"),s("code",[t._v("===")]),t._v("替代"),s("code",[t._v("==")])])]),t._v(" "),s("li",[s("p",[t._v("如何让所有员工书写的代码风格保持统一？")]),t._v(" "),s("p",[t._v("比如字符串统一使用单引号")])])]),t._v(" "),s("p",[t._v("上面两个问题，一个代表着代码的质量，一个代表着代码的风格。")]),t._v(" "),s("p",[t._v("如果纯依靠人工进行检查，不仅费时费力，而且还容易出错。")]),t._v(" "),s("p",[t._v("ESLint由此诞生，它是一个工具，"),s("strong",[t._v("预先配置好各种规则")]),t._v("，通过这些规则来自动化的验证代码，甚至自动修复")]),t._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:"http://mdrs.yuanjin.tech/img/20211103145845.png",alt:"image-20211103145844948"}}),t._v(" "),s("h2",{attrs:{id:"eslint的基本使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#eslint的基本使用"}},[t._v("#")]),t._v(" ESLint的基本使用")]),t._v(" "),s("h3",{attrs:{id:"安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[t._v("#")]),t._v(" 安装")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" i "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-D")]),t._v(" eslint\n")])])]),s("h3",{attrs:{id:"如何验证"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#如何验证"}},[t._v("#")]),t._v(" 如何验证")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 验证单个文件")]),t._v("\nnpx eslint 文件名\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 验证全部文件")]),t._v("\nnpx eslint src/**\n")])])]),s("h3",{attrs:{id:"配置规则"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置规则"}},[t._v("#")]),t._v(" 配置规则")]),t._v(" "),s("p",[t._v("eslint会自动寻找根目录中的配置文件，它支持三种配置文件：")]),t._v(" "),s("ul",[s("li",[s("code",[t._v(".eslintrc")]),t._v(" JSON格式")]),t._v(" "),s("li",[s("code",[t._v(".eslintrc.js")]),t._v(" JS格式")]),t._v(" "),s("li",[s("code",[t._v(".eslintrc.yml")]),t._v(" YAML格式")])]),t._v(" "),s("p",[t._v("这里以"),s("code",[t._v(".eslintrc.js")]),t._v("为例：")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ESLint 配置")]),t._v("\nmodule"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 配置规则")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("rules")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    规则名"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" 级别"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    规则名"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" 级别"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("每条规则由名称和级别组成")]),t._v(" "),s("p",[s("strong",[t._v("规则名称决定了要检查什么")])]),t._v(" "),s("p",[s("strong",[t._v("规则级别决定了检查没通过时的处理方式")])]),t._v(" "),s("p",[t._v("所有的规则名称看这里：")]),t._v(" "),s("ul",[s("li",[t._v("官方：https://eslint.org/docs/rules/")]),t._v(" "),s("li",[t._v("中文：https://eslint.bootcss.com/docs/rules/")])]),t._v(" "),s("p",[t._v("所有级别如下：")]),t._v(" "),s("ul",[s("li",[t._v("0 或 'off'：关闭规则")]),t._v(" "),s("li",[t._v("1 或 'warn'：验证不通过提出警告")]),t._v(" "),s("li",[t._v("2 或 'error'：验证不通过报错，退出程序")])]),t._v(" "),s("h3",{attrs:{id:"在vscode中及时发现问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#在vscode中及时发现问题"}},[t._v("#")]),t._v(" 在VSCode中及时发现问题")]),t._v(" "),s("p",[t._v("每次都要输入命令发现问题非常麻烦")]),t._v(" "),s("p",[t._v("可以安装VSCode插件"),s("strong",[t._v("ESLint")]),t._v("，只要项目的node_modules中有eslint，它就会按照项目根目录下的规则自动检测")]),t._v(" "),s("h3",{attrs:{id:"使用继承"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用继承"}},[t._v("#")]),t._v(" 使用继承")]),t._v(" "),s("p",[t._v("ESLint的规则非常庞大，全部自定义过于麻烦")]),t._v(" "),s("p",[t._v("一般我们继承其他企业开源的方案来简化配置")]),t._v(" "),s("p",[t._v("这方面做的比较好的是一家叫Airbnb的公司，他们在开发前端项目的时候自定义了一套开源规则，受到全世界的认可")]),t._v(" "),s("p",[t._v("我们只需要安装它即可")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 为了避免版本问题，不要直接安装eslint，直接安装下面的包，会自动安装相应版本的eslint")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" i "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-D")]),t._v(" eslint-config-airbnb\n")])])]),s("p",[t._v("然后稍作配置")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("module.exports "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\textends: "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'airbnb'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 配置继承自 airbnb")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"在框架中使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#在框架中使用"}},[t._v("#")]),t._v(" 在框架中使用")]),t._v(" "),s("p",[t._v("一般我们使用脚手架搭建工程，在搭建工程时通常都可以直接设置eslint")]),t._v(" "),s("h2",{attrs:{id:"企业开发的实际情况"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#企业开发的实际情况"}},[t._v("#")]),t._v(" 企业开发的实际情况")]),t._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:"http://mdrs.yuanjin.tech/img/20211103163608.png",alt:"image-20211103163608481"}}),t._v(" "),s("p",[t._v("我们要做什么？")]),t._v(" "),s("ul",[s("li",[t._v("安装好VSCode的ESLint插件")]),t._v(" "),s("li",[t._v("学会查看ESLint错误提示")])]),t._v(" "),s("ol",[s("li",[s("p",[t._v("Prettier + ESLint VSCode 插件配置指南")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/145601639",target:"_blank",rel:"noopener noreferrer"}},[t._v("Prettier + ESLint VSCode 插件配置指南 - 知乎 (zhihu.com)"),s("OutboundLink")],1)])]),t._v(" "),s("li",[s("p",[t._v("commit 时候再检查一次，防止有的注释掉了")])]),t._v(" "),s("li",[s("p",[t._v("推送到git 仓库怎么验证一次？或者说推送时，有人检查，看到页面上代码飘红。")])]),t._v(" "),s("li",[s("p",[t._v("git hooks")])]),t._v(" "),s("li",[s("p",[t._v("css pre-processors")])]),t._v(" "),s("li",[s("p",[t._v("Pick a CSS pre-processor (PostCSS,Autoprefixer and CSS Modules are supported by default):(Use arrow keys)\nSass/SCSS (with dart-sass)\nLess\nStylus")]),t._v(" "),s("p",[t._v("vscode 工作区加上 eslint")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"[javascript]"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"editor.defaultFormatter"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"dbaeumer.vscode-eslint"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])])])}),[],!1,null,null,null);s.default=r.exports}}]);