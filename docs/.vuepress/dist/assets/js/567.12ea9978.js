(window.webpackJsonp=window.webpackJsonp||[]).push([[567],{936:function(s,t,a){"use strict";a.r(t);var r=a(10),n=Object(r.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"css工程化概述-ignore"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#css工程化概述-ignore"}},[s._v("#")]),s._v(" css工程化概述 {ignore}")]),s._v(" "),t("h2",{attrs:{id:"css的问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#css的问题"}},[s._v("#")]),s._v(" css的问题")]),s._v(" "),t("h3",{attrs:{id:"类名冲突的问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#类名冲突的问题"}},[s._v("#")]),s._v(" 类名冲突的问题")]),s._v(" "),t("p",[s._v("当你写一个css类的时候，你是写全局的类呢，还是写多个层级选择后的类呢？")]),s._v(" "),t("p",[s._v("你会发现，怎么都不好")]),s._v(" "),t("ul",[t("li",[s._v("过深的层级不利于编写、阅读、压缩、复用")]),s._v(" "),t("li",[s._v("过浅的层级容易导致类名冲突")])]),s._v(" "),t("p",[s._v("一旦样式多起来，这个问题就会变得越发严重，其实归根结底，就是类名冲突不好解决的问题")]),s._v(" "),t("h3",{attrs:{id:"重复样式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#重复样式"}},[s._v("#")]),s._v(" 重复样式")]),s._v(" "),t("p",[s._v("这种问题就更普遍了，一些重复的样式值总是不断的出现在css代码中，维护起来极其困难")]),s._v(" "),t("p",[s._v("比如，一个网站的颜色一般就那么几种：")]),s._v(" "),t("ul",[t("li",[s._v("primary")]),s._v(" "),t("li",[s._v("info")]),s._v(" "),t("li",[s._v("warn")]),s._v(" "),t("li",[s._v("error")]),s._v(" "),t("li",[s._v("success")])]),s._v(" "),t("p",[s._v("如果有更多的颜色，都是从这些色调中自然变化得来，可以想象，这些颜色会到处充斥到诸如背景、文字、边框中，一旦要做颜色调整，是一个非常大的工程")]),s._v(" "),t("h3",{attrs:{id:"css文件细分问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#css文件细分问题"}},[s._v("#")]),s._v(" css文件细分问题")]),s._v(" "),t("p",[s._v("在大型项目中，css也需要更细的拆分，这样有利于css代码的维护。")]),s._v(" "),t("p",[s._v("比如，有一个做轮播图的模块，它不仅需要依赖js功能，还需要依赖css样式，既然依赖的js功能仅关心轮播图，那css样式也应该仅关心轮播图，由此类推，不同的功能依赖不同的css样式、公共样式可以单独抽离，这样就形成了不同于过去的css文件结构：文件更多、拆分的更细")]),s._v(" "),t("p",[s._v("而同时，在真实的运行环境下，我们却希望文件越少越好，这种情况和JS遇到的情况是一致的")]),s._v(" "),t("p",[s._v("因此，对于css，也需要工程化管理")]),s._v(" "),t("p",[s._v("从另一个角度来说，css的工程化会遇到更多的挑战，因为css不像JS，它的语法本身经过这么多年并没有发生多少的变化（css3也仅仅是多了一些属性而已），对于css语法本身的改变也是一个工程化的课题")]),s._v(" "),t("h2",{attrs:{id:"如何解决"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#如何解决"}},[s._v("#")]),s._v(" 如何解决")]),s._v(" "),t("p",[s._v("这么多年来，官方一直没有提出方案来解决上述问题")]),s._v(" "),t("p",[s._v("一些第三方机构针对不同的问题，提出了自己的解决方案")]),s._v(" "),t("h3",{attrs:{id:"解决类名冲突"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#解决类名冲突"}},[s._v("#")]),s._v(" 解决类名冲突")]),s._v(" "),t("p",[s._v("一些第三方机构提出了一些方案来解决该问题，常见的解决方案如下：")]),s._v(" "),t("p",[t("strong",[s._v("命名约定")])]),s._v(" "),t("p",[s._v("即提供一种命名的标准，来解决冲突，常见的标准有：")]),s._v(" "),t("ul",[t("li",[s._v("BEM")]),s._v(" "),t("li",[s._v("OOCSS")]),s._v(" "),t("li",[s._v("AMCSS")]),s._v(" "),t("li",[s._v("SMACSS")]),s._v(" "),t("li",[s._v("其他")])]),s._v(" "),t("p",[t("strong",[s._v("css in js")])]),s._v(" "),t("p",[s._v("这种方案非常大胆，它觉得，css语言本身几乎无可救药了，干脆直接用js对象来表示样式，然后把样式直接应用到元素的style中")]),s._v(" "),t("p",[s._v("这样一来，css变成了一个一个的对象，就可以完全利用到js语言的优势，你可以：")]),s._v(" "),t("ul",[t("li",[s._v("通过一个函数返回一个样式对象")]),s._v(" "),t("li",[s._v("把公共的样式提取到公共模块中返回")]),s._v(" "),t("li",[s._v("应用js的各种特性操作对象，比如：混合、提取、拆分")]),s._v(" "),t("li",[s._v("更多的花样")])]),s._v(" "),t("blockquote",[t("p",[s._v("这种方案在手机端的React Native中大行其道（因为手机端不存在css样式表，最终形成ui对象）")])]),s._v(" "),t("p",[s._v("例如：")]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("\nmodule"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("primaryColor")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"#f40"')]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 解决变量重复的问题，可以定义一个模块，预设原始值，后续只需要改动这里即可")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" styles"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("color")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"..."')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("primaryColor"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("backgroundColor")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"xxx"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("fontSize")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("xxx\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 写成函数")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getStyles")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("xxx"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//公共样式")]),s._v("\ncommonStyle"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("js\nmodule"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("backgroundColor")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"#f40"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("color")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"#f40"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" commmonStyle"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./commonStyle"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" styles"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("commonStyle"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("别的样式 "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 还可以覆盖公共样式，非常灵活")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("    \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 混合：上面也是混合的例子")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 提取：从一个样式对象提取某些属性组成一个对象")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("take")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("styles"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("args")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("take")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("commonStyle"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"color"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("color")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"#f40"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("    \n")])])]),t("p",[t("strong",[s._v("css module")])]),s._v(" "),t("p",[s._v("非常有趣和好用的css模块化方案，编写简单，绝对不重名")]),s._v(" "),t("p",[s._v("具体的课程中详细介绍")]),s._v(" "),t("h3",{attrs:{id:"解决重复样式的问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#解决重复样式的问题"}},[s._v("#")]),s._v(" 解决重复样式的问题")]),s._v(" "),t("p",[t("strong",[s._v("css in js")])]),s._v(" "),t("p",[s._v("这种方案虽然可以利用js语言解决重复样式值的问题，但由于太过激进("),t("em",[s._v("选择器都不存在了")]),s._v(")，很多习惯写css的开发者编写起来并不是很适应")]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 模块：color.js")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" danger "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"#f40"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" success "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"green"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 模块：styles.js")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" danger"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" success "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./colors"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" style1 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("background")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" danger\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" style2 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("color")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" danger\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),t("p",[t("strong",[s._v("预编译器")])]),s._v(" "),t("p",[s._v("有些第三方搞出一套css语言的进化版来解决这个问题，它支持变量、函数等高级语法，然后经过编译器将其编译成为正常的css")]),s._v(" "),t("p",[s._v("这种方案特别像构建工具，不过它仅针对css")]),s._v(" "),t("p",[s._v("常见的预编译器支持的语言有：")]),s._v(" "),t("ul",[t("li",[s._v("less")]),s._v(" "),t("li",[s._v("sass")])]),s._v(" "),t("h3",{attrs:{id:"解决css文件细分问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#解决css文件细分问题"}},[s._v("#")]),s._v(" 解决css文件细分问题")]),s._v(" "),t("p",[s._v("这一部分，就要依靠构建工具，例如webpack来解决了")]),s._v(" "),t("p",[s._v("利用一些loader或plugin来打包、合并、压缩css文件")])])}),[],!1,null,null,null);t.default=n.exports}}]);